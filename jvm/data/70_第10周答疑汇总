{"code":0,"msg":"ok","data":{"app_id":"apppuKyPtrl1086","id":"i_5d11ed0eacce5_q8CFdVWu","title":"070\u3001\u7b2c10\u5468\u7b54\u7591\u6c47\u603b","author":"","img_url":"http:\/\/wechatapppro-1252524126.file.myqcloud.com\/apppuKyPtrl1086\/image\/cmVzb3VyY2UtY291cnNlQXJ0aWNsZS04MzMyNDUxNw.png","img_url_compressed_larger":"http:\/\/wechatapppro-1252524126.file.myqcloud.com\/apppuKyPtrl1086\/image\/compress\/larger_cmVzb3VyY2UtY291cnNlQXJ0aWNsZS04MzMyNDUxNw.png","img_url_compressed":"http:\/\/wechatapppro-1252524126.file.myqcloud.com\/apppuKyPtrl1086\/image\/compress\/414312cmVzb3VyY2UtY291cnNlQXJ0aWNsZS04MzMyNDUxNw.png","content":"<p style=\"line-height: 2em;\"><strong><span style=\"font-size: 16px; line-height: 1.5; color: rgb(118, 146, 60);\">\u7b2c10\u5468\u7b54\u7591\u6c47\u603b<\/span><\/strong><\/p><p><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u5b66\u5458\u603b\u7ed3\uff1a<\/strong><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u4e00\u4e0b\u8001\u5e08\u8fd9\u51e0\u5929\u63d0\u4ea4\u7684\u53c2\u6570\uff1a<\/p><ul class=\" list-paddingleft-2\" style=\"list-style-type: disc;padding-left:30px;\"><li><p style=\"line-height: 2em;\">-XX:+CMSParallelInitialMarkEnabled\u8868\u793a\u5728\u521d\u59cb\u6807\u8bb0\u7684\u591a\u7ebf\u7a0b\u6267\u884c\uff0c\u51cf\u5c11STW\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX:+CMSScavengeBeforeRemark\uff1a\u5728\u91cd\u65b0\u6807\u8bb0\u4e4b\u524d\u6267\u884cminorGC\u51cf\u5c11\u91cd\u65b0\u6807\u8bb0\u65f6\u95f4\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX:+CMSParallelRemarkEnabled:\u5728\u91cd\u65b0\u6807\u8bb0\u7684\u65f6\u5019\u591a\u7ebf\u7a0b\u6267\u884c\uff0c\u964d\u4f4eSTW\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX\uff1aCMSInitiatingOccupancyFraction=92\u548c-XX:+UseCMSInitiatingOccupancyOnly\u914d\u5957\u4f7f\u7528\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u540e\u8005\uff0cjvm\u7b2c\u4e00\u6b21\u4f1a\u91c7\u752892%\u4f46\u662f\u540e\u7eedjvm\u4f1a\u6839\u636e\u8fd0\u884c\u65f6\u91c7\u96c6\u7684\u6570\u636e\u6765\u8fdb\u884cGC\u5468\u671f\uff0c\u5982\u679c\u8bbe\u7f6e\u540e\u8005\u5219jvm\u6bcf\u6b21\u90fd\u4f1a\u572892%\u7684\u65f6\u5019\u8fdb\u884cgc\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX:+PrintHeapAtGC:\u5728\u6bcf\u6b21GC\u524d\u90fd\u8981GC\u5806\u7684\u6982\u51b5\u8f93\u51fa<\/p><\/li><\/ul><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u56de\u7b54\uff1a<\/strong>\u603b\u7ed3\u7684\u975e\u5e38\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><strong>\u95ee\u9898\uff1a<\/strong> <\/p><p style=\"line-height: 2em;\">\u8fd9\u95ee\u9898\u770b\u4f3c\u7b80\u5355\uff0c\u5176\u5b9e\u6211\u4e5f\u78b0\u5230\u8fc7\uff0c\u5f53\u65f6\u4f7f\u7528jxl\u5bfc\u51faexcel\u7684\u65f6\u5019\uff0cjxl\u4f1a\u9ed8\u8ba4\u8c03\u7528gc\u65b9\u6cd5\uff0c\u5f53\u65f6\u82b1\u4e86\u4e0d\u5c11\u65f6\u95f4\u624d\u53d1\u73b0\u539f\u6765\u662f\u8fd9\u4e2a\u95ee\u9898...<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u56de\u7b54\uff1a<\/strong><\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u5c31\u662f\u5982\u6b64\uff0c\u8fd8\u6709\u7684\u540c\u5b66\u4e00\u65f6\u624b\u75d2\u4f1a\u81ea\u5df1\u53bb\u6267\u884c\u8fd9\u884c\u4ee3\u7801\uff0c\u5c31\u6015\u6709\u7684\u4eba\u81ea\u5df1\u778e\u73a9\u513f<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><strong>\u95ee\u9898\uff1a<\/strong> <\/p><p style=\"line-height: 2em;\">\u679c\u7136\u7cbe\u77ed\u8f7b\u677e?\uff0c\u4e4b\u524d\u6211\u8fd8\u5728\u60f3\u8fd9\u4e2a\u53c2\u6570\u7684\u610f\u4e49\u5728\u54ea\u91cc\u3002\u8001\u5e08\uff0c\u50cf\u8fd9\u79cd\u60c5\u51b5jstick\u91cc\u4f1a\u6709\u4ec0\u4e48\u5f02\u5e38\u5417\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u56de\u7b54\uff1a<\/strong><\/p><p style=\"line-height: 2em;\">jstat\u5176\u5b9e\u662f\u7528\u5728\u6b7b\u9501\u91cc\u7684\uff0c\u4e00\u822c\u53ef\u4ee5\u662f\u770b\u6b7b\u9501\u54ea\u91cc\u7ebf\u7a0b\u5361\u4f4f\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u6c38\u4e45\u5e26\u91cc\u9762\u5b58\u653e\u7684\u7c7b\u4fe1\u606f\u5177\u4f53\u662f\u4e00\u4e9b\u4ec0\u4e48\u6837\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7ed9\u8bb2\u89e3\u51e0\u79cd\u5417\uff1f\u8c22\u8c22<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5177\u4f53\u7c7b\u7684\u4fe1\u606f\uff0c\u5176\u5b9e\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c31\u662f\u7c7b\u6240\u5e26\u7684\u4e00\u4e9b\u53d8\u91cf\u548c\u65b9\u6cd5<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">\u5f53\u591a\u4e2a\u670d\u52a1\u9700\u8981\u7ade\u4e89\u4e00\u4e2a\u5355\u4f53\u8d44\u6e90\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u52a0\u4e0a\u5206\u5e03\u5f0f\u9501\u3002\u5982\u679c\u5e76\u53d1\u91cf\u9ad8\u7684\u8bdd\uff0c\u53ef\u4ee5\u8003\u8651\u62c6\u5206\u6389\u90a3\u4e2a\u5355\u4f53\u8d44\u6e90\uff0c50\u4e2a\u62c6\u62105\u4e2a10\u4e2a\u8d44\u6e90\uff0c\u4ece\u800c\u7f29\u5c0f\u9501\u7684\u7c92\u5ea6\uff0c\u63d0\u9ad8\u541e\u5410\u91cf\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">\u4e00\u822credis\u7684\u5206\u5e03\u5f0f\u9501\u90fd\u53ef\u4ee5\u4f7f\u7528redisson\u6846\u67b6\u6765\u505a\u3002 \u4f7f\u7528\uff1a\u76f4\u63a5lock(&quot;key&quot;)&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u539f\u7406\uff1a\u5f53lock\u7684\u65f6\u5019\uff0c\u5f53\u524d\u5ba2\u6237\u7aef\u4f1a\u751f\u6210\u4e00\u4e32lua\u811a\u672c\u53d1\u9001\u5230redis\u670d\u52a1\u7aef\u3002\u670d\u52a1\u7aef\u6839\u636e\u8fd9\u4e2akey\u662f\u5426\u5b58\u5728\u4ee5\u53cakey\u7684value\u72b6\u6001\u5224\u65ad\u662f\u5426\u5df2\u88ab\u52a0\u9501\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u52a0\u9501\u6210\u529f\uff08\u6709\u6548\u671f30s\uff09\uff1a\u751f\u6210\u7684value\u91cc\u9762\u5e26\u6709\u5f53\u524d\u5ba2\u6237\u7aef\u7684id\uff0c\u5b9e\u73b0\u53ef\u91cd\u5165\u6548\u679c\u3002\u7136\u540e\u5728\u8fd9\u4e2a\u7ebf\u7a0b\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u52a0\u9501\u6210\u529f\u8fd8\u4f1a\u6709\u4e00\u4e2awatch dog\u6bcf10s\u53bb\u5237\u65b0\u9501\u7684\u72b6\u6001\u3002\u76f4\u5230\u91ca\u653e\u6216\u8005\u5b95\u673a\uff0c\u5982\u679c\u5f53\u524d\u7ebf\u7a0b\u6b7b\u9501\u6216\u963b\u585e\uff0c\u90a3\u4e48\u8fd9\u4e2a\u9501\u5c31\u4e00\u8d77\u6b7b\u9501\u3002\u5982\u679c\u52a0\u9501\u5931\u8d25\uff1a\u81ea\u65cb\u5230\u83b7\u53d6\u9501\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u6211\u6709\u4e2a\u5173\u4e8e\u9501\u7684\u95ee\u9898\u3002\u5728\u6211\u770b\u6765\uff0c\u6240\u6709\u9501\u90fd\u662f\u57fa\u4e8e\u4e00\u4e2a\u4e92\u65a5\u91cf\uff0c\u8fd9\u4e2a\u4e92\u65a5\u91cf\u53ef\u4ee5\u968f\u610f\u9009\u53d6\u4e3a\u4e00\u4e2a\u652f\u6301\u52a0\u9501\u6216\u8005\u539f\u5b50\u64cd\u4f5c\u7684\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u3002\u90a3\u4e48\u7ecf\u5e38\u4f7f\u7528zk\/redis\u53bb\u662f\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff0c\u800c\u4e0d\u4f7f\u7528db\u53bb\u52a0\u9501\u3002\u662f\u56e0\u4e3adb\u7684\u541e\u5410\u91cf\u592a\u4f4e\u4e86\u5417\uff0c\u8fd8\u662f\u6709\u5176\u4ed6\u8003\u8651\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">db\u4e0d\u9002\u5408\u914d\u5408\u7cfb\u7edf\u505a\u52a0\u9501\uff0c\u4ece\u529f\u80fd\u5c42\u9762\uff0cdb\u5c31\u4e0d\u662f\u5e72\u8fd9\u4e2a\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5b66\u5458\u601d\u8003\u9898\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u51fa\u73b0\u539f\u56e0\uff1a<\/p><p style=\"line-height: 2em;\">\u56e0\u4e3aredis\u4e3b\u4ece\u5f02\u6b65\u590d\u5236\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u53ef\u80fd\u51fa\u73b0\u5728\u4e3b\u8282\u70b9\u5b95\u673a\u65f6\u672a\u5b8c\u6210\u540c\u6b65\u800c\u51fa\u73b0\u7684\u9501\u4e22\u5931\u3002 \u8fd9\u4e2a\u65f6\u5019watch dog\u53d1\u73b0\u4e86\u4e5f\u6ca1\u529e\u6cd5\uff0c\u53ea\u80fd\u8bf4\u662f\u81ea\u5df1\u505c\u6389\u4e86\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u89e3\u51b3\u529e\u6cd5\uff1a<\/p><p style=\"line-height: 2em;\">\u56e0\u4e3a\u4e3b\u4ece\u5f02\u6b65\u590d\u5236\u51fa\u73b0\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u4fdd\u8bc1\u4e3b\u4ece\u5199\u5f3a\u4e00\u81f4\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u5982\u679c\u5199\u5f3a\u4e00\u81f4\u7684\u8bdd\uff0c\u90a3\u4e48\u541e\u5410\u91cf\u5c31\u4f1a\u56e0\u4e3a\u8fd9\u4e9b\u5b9e\u65f6\u540c\u6b65\u800c\u6025\u5267\u964d\u4f4e\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u53e6\u5916\u51fa\u73b0\u4e86C\uff0c\u90a3\u4e48A\u8fd9\u4e2a\u53ef\u7528\u6027\u5c31\u4f1a\u53d7\u5230\u4e00\u5b9a\u7684\u5f71\u54cd\uff0c\u56e0\u4e3a\u5728\u5b9e\u65f6\u540c\u6b65\u7684\u65f6\u5019\uff0c\u8981\u662f\u5931\u8d25\u4e86\uff0c\u8fd9\u4e2a\u670d\u52a1\u53ef\u80fd\u6682\u65f6\u5c31\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u670d\u52a1\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">zk\u4e00\u822c\u4f7f\u7528curator\u53bb\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u3002 \u539f\u7406\uff1a\u5411zk\u53d1\u8d77\u8bf7\u6c42\uff0c\u5728\u4e00\u4e2a\u76ee\u5f55\uff08\/locks\/pd_1_stock\uff09\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u8282\u70b9\uff0c\u4e5f\u662f\u5e26\u6709\u81ea\u5df1\u5ba2\u6237\u7aef\u7684id\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u76ee\u5f55\u662f\u7a7a\u7684\uff0c\u81ea\u5df1\u521b\u5efa\u51fa\u6765\u7684\u8282\u70b9\u5c31\u662f\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u52a0\u9501\u6210\u529f\u3002\u5982\u679c\u6210\u529f\u6267\u884c\u5219\u91ca\u653e\uff08\u8282\u70b9\u5220\u9664\uff09\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u5b95\u673a\u4e86\uff0c\u57fa\u4e8ezk\u7684\u5fc3\u8df3\u673a\u5236\uff0c\u90a3\u4e2a\u4e34\u65f6\u8282\u70b9\u4e5f\u4f1a\u88ab\u5220\u9664\u3002\u7b2c\u4e8c\u4e2a\u5ba2\u6237\u7aef\u8bf7\u6c42\u9501\u65f6\uff0c\u4e5f\u521b\u5efa\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u662f\u7b2c\u4e00\u8282\u70b9\uff0c\u90a3\u4e48\u5411\u4e0a\u4e00\u8282\u70b9\u52a0\u4e00\u4e2awatcher\u76d1\u542c\u5668\u3002\u5982\u679c\u4e0a\u4e00\u8282\u70b9\u88ab\u5220\u9664\u7acb\u9a6c\u4f1a\u611f\u77e5\u5230\uff0c\u7136\u540e\u5728\u5224\u65ad\u81ea\u5df1\u662f\u4e0d\u662f\u7b2c\u4e00\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u662f\u518d\u76d1\u542c\u4e0a\u4e00\u7ea7\uff08\u516c\u5e73\u5b9e\u73b0\uff09\u3002\u5b8c\u4e8b\u540e\u9677\u5165\u7b49\u5f85\uff0c\u76f4\u5230\u83b7\u53d6\u9501\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">\u7f8a\u7fa4\u6548\u5e94\uff1a\u5f53\u51e0\u5341\u4e2a\u8282\u70b9\u4e89\u62a2\u540c\u4e00\u628a\u57fa\u4e8ezk\u7684\u9501\u65f6\uff0c\u5982\u679c\u90fd\u662f\u76d1\u542c\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u5f53\u91ca\u653e\u9501\u65f6\uff0czk\u4f1a\u540c\u65f6\u53cd\u5411\u901a\u77e5\u6240\u6709\u5ba2\u6237\u7aef\u53c8\u6765\u91cd\u65b0\u589e\u5f3a\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5f71\u54cd\uff1a<\/p><p style=\"line-height: 2em;\">\u4e3b\u8981\u662f\u591a\u4e86\u5f88\u591a\u6ca1\u5fc5\u8981\u7684\u8bf7\u6c42\uff0c\u4ece\u800c\u4f1a\u52a0\u91cd\u7f51\u7edc\u7684\u8d1f\u8f7d\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u89e3\u51b3\uff1a<\/p><p style=\"line-height: 2em;\">\u5c31\u57fa\u4e8ecurator\u53bb\u505a\u5c31\u597d\u4e86\uff0c\u901a\u8fc7\u76d1\u542c\u4e0a\u4e00\u7ea7\u8282\u70b9\uff0c\u964d\u4f4e\u4e86\u4e89\u62a2\u6b21\u6570\uff0c\u8fd8\u5b9e\u73b0\u4e86\u516c\u5e73\u9501\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">redis\uff1aredis\u56e0\u4e3a\u662f\u5ba2\u6237\u7aef\u81ea\u5df1\u4e3b\u52a8\u9694\u4e00\u6bb5\u65f6\u95f4\u53bb\u5c1d\u8bd5\u52a0\u9501\uff0c\u6240\u4ee5\u7f8a\u7fa4\u6548\u5e94\u5f71\u54cd\u4e0d\u5927\uff0c\u56e0\u4e3a\u8bf7\u6c42\u90fd\u9519\u5f00\u4e86\uff0c\u800c\u4e0d\u662f\u4e00\u7fa4\u4e00\u62e5\u800c\u4e0a\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u5173\u4e8eg1\u6211\u6709\u4e2a\u7591\u60d1\uff0c\u5c31\u662f\u5982\u679c\u9009\u62e9\u51cf\u5c0fgc\u8017\u65f6\uff0c\u90a3\u662f\u4e0d\u662f\u610f\u5473gc\u7684\u6b21\u6570\u4f1a\u589e\u591a\u3002\u90a3\u9009\u62e9\u51cf\u5c11\u65f6\u95f4\u662f\u56e0\u4e3a\u5b83\u7684\u6536\u76ca\u5927\u4e8egc\u6b21\u6570\u7684\u589e\u52a0\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4f60\u7406\u89e3\u7684\u6ca1\u95ee\u9898\uff0cgc\u9891\u7387\u591a\u70b9\uff0c\u4f46\u662f\u6bcf\u6b21gc\u8017\u65f6\u5f88\u77ed\uff0c\u6ca1\u4e8b\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u80fd\u4e0d\u80fd\u5bf9 \u8fd9\u79cd\u7c7b\u578b\u7684\u95ee\u9898\u4e0a\u4e00\u8bfe \u6700\u8fd1\u91d1\u4e5d\u94f6\u5341 \u80af\u5b9a\u6709\u5f88\u591a\u540c\u5b66\u8981\u9762\u8bd5 \u6bd4\u5982\u8fd9\u4e2a\u9898\u76ee \u51cc\u6668\u4e09\u70b9\u53d1\u751f\u4e86\u4e00\u6b21oom \u600e\u4e48\u8ffd\u8e2a\u89e3\u51b3<\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u95ee\u9898\u5f88\u597d\uff0c\u8fd9\u4e2a\u5728\u540e\u9762\u7684OOM\u76f8\u5173\u6848\u4f8b\u91cc\u4f1a\u5206\u6790\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u597d\uff0c\u521a\u624d\u770b\u5230\u6709\u540c\u5b66\u7684\u603b\u7ed3\uff1a&nbsp;<\/p><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;padding-left:30px;\"><li><p style=\"line-height: 2em;\">G1\uff0c\u65b0\u751f\u4ee3\u672a\u8fbe\u523060%\uff0c\u8001\u5e74\u4ee3\u672a\u8fbe\u523045%\uff0c\u5219\u4e0d\u8fdb\u884cGC \u60a8\u7684\u56de\u7b54\u662f\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u4ece\u60a8\u7684\u6587\u7ae0\u4e2d\u627e\u5230\u7684\uff0c\u65b0\u751f\u4ee3\u4e0d\u523060%\uff0c\u53ea\u8981ygc\u65f6\u95f4\u63a5\u8fd1\u9884\u8bbeGC\u65f6\u95f4\u65f6\u5c31\u4f1a\u8fdb\u884cGC\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">&nbsp;\u770b\u4e86\u4e00\u4e0b\u6211\u4eec\u7684\u7ebf\u4e0a\u7cfb\u7edf\uff0c\u53d1\u73b0ygc\u4e4b\u540e\uff0csurvivor\u533a\u5df2\u7ecf\u8fbe\u5230\u4e86\u5c06\u8fd190%\uff0c\u4f46\u662f\u6ca1\u6709\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u8fd9\u662f\u4e0d\u662f\u610f\u5473\u7740\u8981\u4e48\u6240\u6709\u5bf9\u8c61\u90fd\u662f\u540c\u5c81\u7684\uff0c\u8981\u4e48\u81f3\u5c1141%\u7684\u5bf9\u8c61\u662f\u5927\u5e74\u9f84\u4e14\u540c\u5c81\u7684\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><\/li><\/ol><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u6709\u7684\u56de\u590d\u53ef\u80fd\u662f\u6ca1\u770b\u6e05\u695a\u4ed6\u4eec\u7684\u95ee\u9898\uff0cG1\u7684\u8bdd\uff0c\u6709\u53ef\u80fd\u8fbe\u5230\u9884\u671f\u7684gc\u65f6\u95f4\u540e\u4ed6\u5c31\u4f1a\u89e6\u53d1gc\uff0c\u4e0d\u662f\u56fa\u5b9a\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u770b\u5230\u8001\u5e74\u4ee3\u9a7b\u7559\u5927\u91cf\u5bf9\u8c61\uff0c\u60f3\u5230\u7684\u7adf\u7136\u662f\u8001\u5e74\u4ee3\u7a7a\u95f4\u592a\u5c0f\uff0c\u9700\u8981\u6269\u5927\uff0c\u800c\u4e0d\u662f\u5176\u4ed6\u95ee\u9898\uff0c\u770b\u6765\u8fd8\u662f\u6ca1\u5b66\u5230\u5bb6\u5440<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u6240\u4ee5\u8981\u591a\u5b66\u6848\u4f8b\uff0c\u79ef\u7d2f\u7ecf\u9a8c<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u6253\u5361\uff0c\u4eca\u5929\u8bb2\u89e3\u4e86cpu\u8d1f\u8f7d\u9ad8\u7684\u539f\u56e0\uff0c\u590d\u4e60\u4e86\u9891\u7e41fullGC\u7684\u539f\u56e0\uff0c\u7ed9\u4e86\u4e00\u4e2a\u5206\u6790\u5806\u5185\u5b58\u7684\u5b9e\u7528\u5de5\u5177MAT\u3002\u7ed9\u529b\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4eca\u5929\u5176\u5b9e\u4ee5\u590d\u4e60\u4e3a\u4e3b<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u6211\u975e\u5e38\u6fc0\u52a8\uff0c\u4eca\u5929\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u53d1\u73b0\u548c\u4e0a\u5468\u7684\u6848\u4f8b\u57fa\u672c\u4e00\u81f4\uff0c\u5c31\u662f\u6781\u7aef\u60c5\u51b5\u4e0b\uff0cSQL\u4e2din\u6761\u4ef6\u8bed\u53e5\u5305\u542b\u5341\u51e0\u4e07\u4e2aID\uff0c\u4e00\u4e2aSQL\u8bed\u53e5\u7684String\u5bf9\u8c61\u5f88\u5927\uff0c\u5bfc\u81f4Full GC\uff0c\u7136\u540e\u8fd8\u6709\u4e00\u79cd\u573a\u666fin\u6761\u4ef6\u662f\u7a7a \uff0cSQL\u662fselect * from DB\u7684(\u4ee3\u7801\u6211\u5199\u7684\uff0c\u975e\u5e38\u60ed\u6127)\u4e00\u4e0b\u52a0\u8f7d\u5341\u51e0\u4e07\u7684\u6570\u636e\u51fa\u6765\uff0c\u5bfc\u81f4full gc\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u9664\u4e86\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u4eca\u5929\u7684\u4f8b\u5b50\u4e5f\u548c\u6211\u4eec\u7cfb\u7edf\u5f88\u60f3\uff1a\u901a\u8fc7cat\u89c2\u5bdfcms\u7ba1\u7406\u7684\u5185\u5b58\u5e73\u65f6\u4e00\u822c\u90fd\u5728800m\u5de6\u53f3\uff0c\u4f46\u662f\u6700\u8fd1\u4e00\u76f4\u6da8\u52301300m\u5de6\u53f3\uff0c\u6301\u7eed\u4e86\u5f88\u4e45\u90fd\u4e0d\u4f1a\u964d\u4f4e\uff0c\u8001\u5e74\u4ee32000m\uff0c68%\u5c31\u4f1a\u89e6\u53d1Full GC\uff0c\u4e5f\u5c31\u662f1300\u5de6\u53f3\u5c31\u4f1a\u53d1\u751fGC\uff0c\u6211\u521d\u6b65\u6000\u7591\u662f\u54ea\u91cc\u5185\u5b58\u6cc4\u6f0f\u4e86\uff0c\u5bfc\u81f4\u8fd9\u91cc\u5360\u4e86\u51e0\u767eMB\u5185\u5b58\u4e0d\u91ca\u653e\uff0c\u8fd9\u4e2a\u8fd8\u6709\u5f85\u67e5\u8be2\u3002\u51c6\u5907\u5c06\u8fd9\u4e2a\u6cc4\u6f0f\u627e\u51fa\u6765\uff0c\u7136\u540e\u8c03\u6574\u4e00\u4e0bJVM\u53c2\u6570\uff0c\u4f18\u5316\u4e00\u6ce2\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u975e\u5e38\u597d\uff0c\u770b\u6765\u6848\u4f8b\u4e2d\u78b0\u5230\u7684\u4f8b\u5b50\uff0c\u4f60\u81ea\u5df1\u5de5\u4f5c\u91cc\u90fd\u78b0\u5230\u4e86\uff0c\u4e00\u4e2a\u662fSQL\u8bef\u64cd\u4f5c\u52a0\u8f7d\u8fc7\u591a\u6570\u636e\u89e6\u53d1\u7684Full GC\uff0c\u4e00\u4e2a\u662f\u5185\u5b58\u6cc4\u6f0f\u5bfc\u81f4\u8001\u5e74\u4ee3\u91cc\u4e00\u76f4\u5360\u7528\u4e86\u8fc7\u591a\u5185\u5b58\u3002\u53ef\u4ee5dump\u4e00\u4e2a\u5185\u5b58\u5feb\u7167\u51fa\u6765\uff0c\u7528MAT\u5206\u6790\u4e00\u4e0b<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u53e6\u5916\u6709\u70b9\u7591\u95ee\uff0c\u5927\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u6211\u7f51\u4e0a\u627e\u8d44\u6599\u8bf4\u662f\u9ed8\u8ba4\u5927\u5bf9\u8c61\u9608\u503c\u662f0\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f1a\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u8fd9\u4e2a\u662f\u771f\u7684\u5417\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6211\u611f\u89c9\u6211\u7684\u95ee\u9898\u4e5f\u662f\u56e0\u4e3a\u5f88\u5927\u7684String\u76f4\u63a5\u8fdb\u5165\u4e86\u8001\u5e74\u4ee3\u624d\u5bfc\u81f4\u51e0\u767eMB\u65e0\u6cd5\u91ca\u653e<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u5927\u5bf9\u8c61\u4f1a\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\uff0c\u4f46\u662f\u5177\u4f53\u8981\u770b\u4e0d\u540c\u7248\u672c\u7684JDK\u9ed8\u8ba4\u53c2\u6570\u662f\u4ec0\u4e48<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u4f60\u597d\uff0c\u6211\u6570\u636e\u5e73\u53f0\u6709\u4e00\u4e2a\u62a5\u8868\u5bfc\u51fa\uff0c\u5bfc\u51fa\u7684\u65f6\u5019\u56e0\u4e3a\u5806\u5185\u5b58\u4e0d\u8db3\u800c\u5931\u8d25\uff0c\u4f46\u662f\u540e\u9762CMS\uff0c\u4f1a\u4e00\u76f4\u8fdb\u884c\u6807\u8bb0\u6e05\u7406\uff0c\u8001\u5e74\u4ee3\u57fa\u672c\u4e0a\u662f\u5360\u6ee1\u7684\uff0cS1,S2\u6ca1\u6709\u4efb\u4f55\u5360\u7528\uff0cjstat \u770b\u5230jvm\u4e00\u76f4\u5728\u8fdb\u884c YGC \u548c FGC<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u4f46\u662f\u8001\u5e74\u4ee3\u4e00\u76f4\u4e0d\u51cf\u5c11\uff0c\u53ea\u6709\u5728eden\u533a\u5360\u6ee1\u4ee5\u540e\u6267\u884c\u540e\u7684YGC\uff0c\u624d\u4f1a\u5c06\u8001\u5e74\u4ee3\u7684\u5360\u7528\u771f\u6b63\u7684\u56de\u6536\uff0c\u8bf7\u95ee\u80fd\u5426\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u662f\u4e3a\u4ec0\u4e48\uff1f&nbsp;<\/p><p style=\"line-height: 2em;\"><span style=\"font-size: 14px; line-height: 1.5;\">-XX:InitialHeapSize=1073741824 -XX:MaxHeapSize=1073741824 -XX:NewSize=838860800 -XX:MaxNewSize=838860800 -XX:MetaspaceSize=104857600 -XX:SoftRefLRUPolicyMSPerMB=2000 -XX:SurvivorRatio=2 -XX:MaxTenuringThreshold=15 -XX:PretenureSizeThreshold=20971520 -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=95 -XX:+UseCMSCompactAtFullCollection -XX:CMSFullGCsBeforeCompaction=0 -XX:+CMSParallelInitialMarkEnabled -XX:+CMSScavengeBeforeRemark -XX:+TraceClassLoading -XX:+TraceClassUnloading -XX:+PrintGCDetails -XX:+PrintGCDateStamps -verbose:gc -Xloggc:.\/filebeat\/gc.log -XX:ErrorFile=.\/logs\/jvm_error.log -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=.\/logs\/heapdump.hprof 204800.0 204800.0 0.0 0.0 409600.0 313375.4 229376.0 229352.0 \ufffd \ufffd 252 1.854 467 54.764 56.618 \u8fd8\u6709\u5c31\u662f\u5143\u6570\u636e\u533a\u662f\u4e71\u7801\u7684<\/span><\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u672c\u8d28\u8fd8\u662f\u4f60\u4ee3\u7801\u7684\u95ee\u9898\uff0c\u5e94\u8be5\u662f\u5927\u91cf\u7684\u6570\u636e\u5360\u6ee1\u4e86\u8001\u5e74\u4ee3\uff0c\u6ca1\u5904\u7406\u5b8c\u5c31\u56de\u6536\u4e0d\u6389<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8bf7\u95ee\u4e00\u4e0b[Loaded sun.reflect.GeneratedMethodAccessor129 from __JVM_DefineClass__]\u4ece\u8fd9\u884c\u65e5\u5fd7\u662f\u548b\u770b\u51fa\u6765GeneratedMethodAccessor\u4f1a\u88ab\u52a0\u8f7d\u5230MetaSpace\u7684, \u8fd9\u884c\u65e5\u5fd7\u597d\u50cf\u6ca1\u6709\u63d0\u4f9b\u7c7b\u88ab\u52a0\u8f7d\u5230\u54ea\u91cc\u7684\u4fe1\u606f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u7b2c\u4e00\u4e2a\u82f1\u6587\u5355\u8bcd\uff0cLoaded\uff0c\u5c31\u662f\u52a0\u8f7d\u7684\u610f\u601d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">cms\u5b58\u5728\u7684\u95ee\u9898\uff0c\u6d6e\u52a8\u5783\u573e\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\uff0c\u7a7a\u95f4\u788e\u7247\u56e0\u4e3a\u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff0c\u5e76\u53d1\u6267\u884c\u5931\u8d25\u4e5f\u662f\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\u7684\u8bbe\u8ba1\u53ef\u80fd\u5b58\u5728\u9884\u7559\u7684\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\u3002\u4f46\u662fcms\u5bf9\u7a7a\u95f4\u788e\u7247\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u63d0\u4f9b\u4e86\u5185\u5b58\u7684\u6574\u7406\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u53bb\u63a7\u5236\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\uff0c\u5e76\u4e14\u6bcf\u6b21fullgc\u540e\u90fd\u53bb\u6574\u7406\u5185\u5b58\uff0c\u4f46\u662f\u5c31\u9700\u8981stw\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6700\u540e\uff0cfullgc\u7684\u53d1\u751f\u60c5\u51b5\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1.\u8001\u5e74\u4ee3\u53ef\u7528\u5185\u5b58\u5c0f\u4e8e\u65b0\u751f\u4ee3\u5168\u90e8\u5bf9\u8c61\u7684\u5927\u5c0f\uff0c\u53c8\u6ca1\u6709\u5f00\u542f\u7a7a\u95f4\u62c5\u4fdd\uff0c\u5c31\u4f1a\u76f4\u63a5\u89e6\u53d1fullgc\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">2.\u5982\u679c\u65b0\u751f\u4ee3\u5b58\u6d3b\u5927\u5c0f\u5927\u4e8e\u8001\u5e74\u4ee3\u7a7a\u95f4\uff0c\u5e76\u4e14\u8001\u5e74\u4ee3\u7a7a\u95f4\u5c0f\u4e8e\u5386\u6b21\u664b\u5347\u7684\u5e73\u5747\u5185\u5b58\u5927\u5c0f\uff0c\u4e5f\u4f1a\u6267\u884cfullgc\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">3.\u5927\u5bf9\u8c61\u6216\u8005\u52a8\u6001\u5e74\u9f84\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u800c\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\uff0c\u4e5f\u4f1a\u6267\u884cfullgc\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">4.\u5982\u679c\u662fcms\u56de\u6536\u5668\uff0c\u90a3\u4e48\u8001\u5e74\u4ee3\u5185\u5b58\u4f7f\u7528\u523092%\u4e4b\u540e\uff0c\u5c31\u4f1a\u89e6\u53d1fullgc\uff0c\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\u9636\u6bb5\u9700\u8981\u7ed9\u7528\u6237\u7ebf\u7a0b\u9884\u7559\u5185\u5b58\u7a7a\u95f4\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4e00\u822c\u516c\u53f8\u7ebf\u4e0a\u7cfb\u7edf\u662f\u7981\u7528dump\u5185\u5b58\u5feb\u7ebf\u7684\u5417\u3002\u6211\u4eec\u88ab\u8fd0\u7ef4\u7981\u4e86<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u7ebf\u4e0a\u673a\u5668\u4e00\u822c\u6765\u8bf4\u4f1a\u7981\u6b62\u6267\u884cdump\uff0c\u56e0\u4e3adump\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u505c\u673a\u51e0\u79d2\u949f\uff0c\u6216\u8005\u51e0\u767e\u6beb\u79d2\uff0c\u53ef\u4ee5\u8ddf\u8fd0\u7ef4\u6c9f\u901a\uff0c\u8ba9\u4ed6\u4eec\u7ed9\u4f60dump\u4e00\u4e2a\u5feb\u7167\u51fa\u6765<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u6253\u5361\u3002MAT\u597d\u7528\uff0c\u4f46\u662f\u529f\u80fd\u591a\u9700\u8981\u6162\u6162\u6478\u7d22<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u975e\u5e38\u597d\u7528\uff0c\u4e0d\u8fc7\u6587\u7ae0\u91cc\u4ecb\u7ecd\u7684\u51e0\u4e2a\u5e38\u7528\u529f\u80fd\u57fa\u672c\u591f\u7528\u4e86\uff0c\u5176\u5b9e\u4e00\u822c\u4e3b\u8981\u5c31\u662f\u770b\u5360\u7528\u5185\u5b58\u6700\u591a\u7684\u5bf9\u8c61\uff0c\u8ffd\u8e2a\u4e00\u4e0b\u54ea\u4e2a\u7ebf\u7a0b\uff0c\u7136\u540e\u770b\u4e00\u4e0b\u7ebf\u7a0b\u6267\u884c\u5806\u6808<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u60a8\u597d\uff01\u6211\u6700\u8fd1\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6709\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1\uff0c\u6bcf5\u79d2\u53bb\u8bfb\u53d6\u4e00\u5f20\u8868\u4e2d\u7684\u6570\u636e\uff0c\u8fd9\u5f20\u8868\u5927\u6982\u67097000\u591a\u884c\uff0c\u6bcf\u884c\u5927\u69823KB<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7406\u8bba\u4e0a\uff0c\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u6700\u5927\u5dee\u4e0d\u591a30MB\u5de6\u53f3\uff0c\u4f46\u6211\u901a\u8fc7jstat\u53d1\u73b0\uff0c\u5230\u5e95\u6bcf5\u79d2\u949f\uff0c\u52a0\u8f7d\u4e86\u5927\u6982300MB\u7684\u6570\u636e\uff0c\u6211\u5bf9\u6b64\u5f88\u56f0\u60d1\uff0c\u671b\u8001\u5e08\u6216\u8005\u5176\u4ed6\u540c\u5b66\u80fd\u591f\u89e3\u7b54\u4e00\u4e0b\uff5e<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5f88\u6b63\u5e38\u7684\uff0c\u56e0\u4e3a\u5b9e\u9645\u52a0\u8f7d\u5230\u5185\u5b58\u91cc\uff0c\u4f60\u6709\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\uff0c\u8fd8\u6709\u4e00\u4e9b\u5bf9\u8c61\u672c\u8eab\u4e5f\u4f1a\u5360\u636e\u5185\u5b58\u7a7a\u95f4\uff0c\u5b9e\u9645\u5185\u5b58\u6d88\u8017\u5f80\u5f80\u6bd4\u4f60\u6570\u636e\u672c\u8eab\u5927\u5c0f\u8981\u5927\u5f88\u591a<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;padding-left:30px;\"><li><p style=\"line-height: 2em;\">JVM\u662f\u4ec0\u4e48 \u7b54\uff1a\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8d1f\u8d23\u8fd0\u884cjava\u7f16\u8bd1\u597d\u7684\u5b57\u8282\u7801\u6587\u4ef6(.class)\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">JVM\u8ddf\u6211\u4eec\u5e73\u65f6\u8fd0\u884c\u5728\u673a\u5668\u4e0a\u7684\u7cfb\u7edf\u4e4b\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb \u7b54\uff1aJVM\u5177\u6709\u8de8\u5e73\u53f0\u6027\uff0c\u53ef\u4ee5\u5728\u591a\u79cd\u7cfb\u7edf\u4e0a\u6267\u884c\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">\u7c7b\u52a0\u8f7d\u5668\u7684\u6982\u5ff5 \u7b54\uff1a\u628a\u7f16\u8bd1\u597d\u7684\u90a3\u4e9b&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6\u7ed9\u52a0\u8f7d\u5230JVM\u4e2d\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">\u5b57\u8282\u7801\u6267\u884c\u5f15\u64ce\u7684\u6982\u5ff5 \u7b54\uff1a\u9488\u5bf9\u52a0\u8f7d\u8fdb\u5185\u5b58\u7684\u7c7b\u8fdb\u884c\u4ee3\u7801\u7684\u6267\u884c\u3002<\/p><\/li><\/ol><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u5f97\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u73b0\u5728\u4e0d\u662f\u5f88\u6e05\u695a\u5e74\u8f7b\u4ee3\u7684gc root\u8ddf\u8e2a\u548c\u8001\u5e74\u4ee3\u7684gc root\u8ddf\u8e2a\uff0c\u662f\u4e0d\u662f\u90fd\u662f\u4ecegc root\u53bb\u627e\u5f15\u7528\u7684\u5bf9\u8c61\uff1f\u8fd8\u662f\u5e74\u8f7b\u4ee3\u7684\u76f4\u63a5\u4ecegc root\u904d\u5386\uff0c\u8001\u5e74\u4ee3\u5f97\u5e76\u53d1\u6807\u8bb0\uff0c\u4ece\u8001\u5e74\u4ee3\u4e2d\u7684\u5bf9\u8c61\u53bb\u627egc root<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u90fd\u662f\u4ecegc roots\u5f00\u59cb\u8ffd\u8e2a\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u4f60\u597d\uff0c\u6211\u5728\u52a8\u6001\u5e74\u9f84\u5224\u65ad\u90a3\u5757\u6709\u70b9\u7591\u95ee\uff0c\u5047\u5982survivor\u5185\u5b58100m\uff0c\u73b0\u5728\u5df2\u7ecf\u5360\u7528\u4e8645m,\u90a3\u4e48\u6b64\u65f6\u6765\u4e86\u4e00\u517155m\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u4e4b\u524d\u6240\u6709\u7684\u5bf9\u8c61\u5168\u90e8\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u4f46\u662f\u8fd955m\u8fd8\u662f\u5927\u4e8e\u4e00\u534a\uff0c\u5047\u5982\u90fd\u662f1\u5c81\u4f1a\u600e\u4e48\u5904\u7406\u5462\uff0c\u6309\u5bf9\u8c61\u7684\u521b\u5efa\u65f6\u95f4\u8fdb\u5165\u5230\u8001\u5e74\u4ee3\u5417\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u5bf9\u7684\uff0c\u4e5f\u6709\u53ef\u80fd\u4f1a\u8fdb\u5165\u8001\u5e74\u4ee3<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u597d\uff0c\u5173\u4e8e\u52a8\u6001\u5bf9\u8c61\u5e74\u9f84\u5224\u65ad\uff0c\u6211\u7406\u89e3\u7684\u8fd8\u662f\u4e0d\u6e05\u6670\uff0c\u6211\u73b0\u5728\u7406\u89e3\u7684\u662f\u5224\u65ad\u5404\u4e2a\u5e74\u9f84\u6bb5\u4e4b\u548c\u662f\u4e0d\u662f\u8d85\u8fc7\u4e86survivor\u7684\u4e00\u534a\uff0c\u4f46\u662f\u201c\u5404\u4e2a\u5e74\u9f84\u201d\u5305\u542b\u672c\u6b21gc\u4e4b\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61\u5417\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\u4e00\u534a\uff0c\u90a3\u4e48\u672c\u6b21gc\u4e4b\u540e\u7684\u5bf9\u8c61\u4f1a\u8fdb\u5165\u8001\u5e74\u4ee3\u5417<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u5176\u5b9e\u5173\u4e8e\u8fd9\u91cc\u7684\u5b9e\u73b0\uff0c\u4e0d\u7528\u8fc7\u4e8e\u627e\u91cc\u9762\u7684\u7ec6\u8282\uff0c\u56e0\u4e3a\u4e0d\u540cJDK\u7248\u672c\u5b9e\u73b0\u90fd\u4e0d\u540c\u3002\u4f60\u53ea\u8981\u77e5\u9053\u51e0\u70b9<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b2c\u4e00\uff0c\u6709\u52a8\u6001\u5e74\u9f84\u5224\u5b9a\u89c4\u5219<\/p><p style=\"line-height: 2em;\">\u7b2c\u4e8c\uff0c\u6709\u53ef\u80fd\u56e0\u4e3ayoung gc\u540e\u5b58\u6d3b\u5bf9\u8c61\u8fc7\u591a\u5bfc\u81f4\u8fdb\u5165survivor\u5bf9\u8c61\u592a\u591a\uff0c\u89e6\u53d1\u8fd9\u4e2a\u89c4\u5219<\/p><p style=\"line-height: 2em;\">\u7b2c\u4e09\uff0c\u53ef\u80fd\u56e0\u4e3a\u8fd9\u4e2a\u89c4\u5219\u5bfc\u81f4\u5f88\u591a\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u5b66\u8fd9\u4e2a\u4e13\u680f\uff0c\u611f\u89c9\u5c31\u5728\u4e0a\u8bfe\uff0c\u4e0d\u65ad\u5b66\u4e60\uff0c\u4e0d\u65ad\u7684\u590d\u4e60<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4e00\u5473\u7684\u8bb2\u65b0\u5185\u5bb9\u5f80\u524d\u8d76\u8fdb\u5ea6\u662f\u4e0d\u9760\u8c31\u7684\uff0c\u8981\u4e0d\u65ad\u7684\u6709\u65b0\u7684\u77e5\u8bc6\uff0c\u540c\u65f6\u4e0d\u65ad\u5e26\u7740\u4e4b\u524d\u65e7\u7684\u77e5\u8bc6\u53cd\u590d\u5f3a\u5316\uff0c\u8fd8\u8981\u5b9a\u671f\u590d\u4e60\uff0c\u6700\u540e\u8ddf\u7740\u770b\u5b8c\uff0c\u5bf9\u6838\u5fc3\u77e5\u8bc6\u7edd\u5bf9\u90fd\u6d88\u5316\u7684\u5f88\u5f7b\u5e95\uff0c\u5f53\u7136\u81ea\u5df1\u4e5f\u5f97\u6ce8\u610f\u590d\u4e60\u548c\u7406\u89e3\uff0c\u8fd8\u6709\u7ed3\u5408\u81ea\u5df1\u7684\u5b9e\u9645\u5de5\u4f5c\u60c5\u51b5\u53bb\u79ef\u7d2f<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5b66\u5458\u601d\u8003\u9898\u56de\u7b54\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1.\u8c03\u6574s\u533a\u5230\u80fd\u591f\u88c5\u4e0b\u6bcf\u6b21minorgc\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">2.\u8c03\u6574\u52a8\u6001\u5e74\u9f84\u5224\u65ad\uff0c\u53ef\u4ee5\u8003\u8651\u51cf\u5c0f\u9ed8\u8ba4\u503c\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">3.\u8bbe\u7f6e\u5927\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\u5224\u65ad\uff0c\u53ef\u4ee5\u8003\u8651\u8bbe\u7f6e\u4e3a1m\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">4.\u8bbe\u7f6e\u56de\u6536\u5668\u7ec4\u5408\uff0c\u4e00\u822c\u54cd\u5e94\u4f18\u5148\u5c31\u4f7f\u7528parnew+cms<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u7cfb\u7edf\u7ed9\u4e863g\u5806\u5185\u5b58\uff0c\u4f46\u662fdump\u51fa\u6765\u7684\u6587\u4ef6\u6253\u5f00\u770b\u53ea\u6709500mb\uff0c\u8fd9\u4e2a\u600e\u4e48\u89e3\u91ca<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5f88\u6b63\u5e38\uff0c\u8bf4\u660e\u4f60\u7684\u5185\u5b58\u5360\u7528\u5e76\u6ca1\u6709\u5360\u7528\u6ee13g\uff0c\u5c31\u4f7f\u7528\u4e86500mb\u5de6\u53f3\u7684\u5185\u5b58\uff0c\u53e6\u5916\u4e00\u4e2adump\u5feb\u7167\u4e5f\u4f1a\u505a\u4e00\u4e9b\u4e8c\u8fdb\u5236\u5b58\u50a8\uff0c\u4e0d\u4e00\u5b9a\u8ddf3g\u4e00\u6837<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">\u5173\u4e8e\u8001\u5e74\u4ee3\u7684\u4f18\u5316\uff0c\u90fd\u662f\u5efa\u7acb\u5728\u65b0\u751f\u4ee3\u5df2\u7ecf\u8fdb\u884c\u4f18\u5316\u7684\u524d\u63d0\u4e0b\u3002\u7136\u540e\u5206\u6790\u4ec0\u4e48\u60c5\u51b5\u4e0b\u5bf9\u8c61\u4f9d\u65e7\u4f1a\u8fdb\u53bb\u8001\u5e74\u4ee3\uff0c\u591a\u4e45\u4f1a\u586b\u6ee1\u8001\u5e74\u4ee3\uff0c\u518d\u6839\u636e\u5783\u573e\u56de\u6536\u5668\u7684\u7279\u6027\uff0c\u53bb\u8bbe\u7f6e\u5bf9\u5e94\u7684\u53c2\u6570\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u4e00\u822c\u6765\u8bf4\u8001\u5e74\u4ee3\u7684\u53c2\u6570\u4fdd\u6301\u9ed8\u8ba4\u5c31\u597d\u4e86\uff0c\u65b0\u751f\u4ee3\u4f18\u5316\u597d\u4e86\uff0c\u5f88\u5c11\u751a\u81f3\u51e0\u4e4e\u4e0d\u4f1a\u53d1\u751ffullgc\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u6211\u53d1\u73b0\u4e00\u6b21young gc\u5e76\u6ca1\u6709\u5c06Eden\u533a\u6e05\u7a7a\uff0c\u800c\u662f\u4f1a\u6709\u90e8\u5206\u4fdd\u7559\u662f\u600e\u4e48\u56de\u4e8b\u5462\uff1f\u662f\u6211\u5f04\u7684\u4e0d\u5bf9\u8fd8\u662f\u6709\u4ec0\u4e48\u8bf4\u9053\u7684\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u4e0d\u662f\u7684\uff0c\u5b9e\u9645\u4e0a\u4f60\u8bf4\u7684\u90a3\u79cd\u662f\u4ed6\u521aygc\u5b8c\uff0c\u7136\u540e\u5c31\u6709\u5bf9\u8c61\u8fdb\u5165\u4e86eden\uff0c\u6240\u4ee5\u4f60\u5c31\u770b\u5230\u90a3\u6837\u5b50\u4e86<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">g1\u662f\u4ee5\u5783\u573e\u56de\u6536\u4f18\u5148\u7684\u56de\u6536\u5668\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u5c06\u5185\u5b58\u533a\u57df\u5212\u5206\u6210region\u7136\u540e\u7ef4\u62a4\u4e00\u4e2a\u56de\u6536\u4ef7\u503c\u5217\u8868\uff0c\u5efa\u7acb\u4e00\u4e2a\u53ef\u9884\u6d4b\u7684\u65f6\u95f4\u505c\u987f\u6a21\u578b\u3002\u5185\u90e8\u4fdd\u7559\u4e86\u5e74\u4ee3\uff0c\u4f46\u662f\u4ec5\u4ec5\u662f\u903b\u8f91\u4e0a\u8fdb\u884c\u4e86\u4fdd\u7559\uff0c\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u4f1a\u6839\u636e\u9700\u8981\u8fdb\u884c\u53d8\u5316\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3:&nbsp;<\/p><p style=\"line-height: 2em;\">rabbitmq\u4e22\u5931\u6570\u636e\u7684\u60c5\u51b5\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\u3002\u6d88\u606f\u56e0\u4e3a\u7f51\u7edc\u95ee\u9898\u4e22\u5931\u6216\u8005\u53d1\u9001\u5230rabbitmq\u65f6\u51fa\u9519\u4e86\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001rabbitmq\u670d\u52a1\u7aef\u3002\u672a\u505a\u6301\u4e45\u5316\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u6d88\u8d39\u8005\u7aef\u3002\u6253\u5f00\u4e86autoAck\uff0c\u5728\u672a\u5b8c\u6210\u6d88\u8d39\u4e4b\u524d\u5c31\u81ea\u52a8\u56de\u590d\u4e86\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">rabbitmq\u4e22\u5931\u6570\u636e\u7684\u89e3\u51b3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\u3002<\/p><p style=\"line-height: 2em;\">\u901a\u8fc7confirm\u6a21\u5f0f\u5f02\u6b65\u786e\u8ba4\u6d88\u606f\u53d1\u9001\u6210\u529f\uff0c\u5728\u5931\u8d25\u540e\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u5904\u7406\u5931\u8d25\u7684\u903b\u8f91\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001\u670d\u52a1\u7aef\u3002<\/p><p style=\"line-height: 2em;\">\u6253\u5f00\u6301\u4e45\u5316\u673a\u5236\u3002\u8fd9\u91cc\u6d89\u53ca\u5230\u4e24\u4e2a\u53c2\u6570\uff0c\u4e00\u4e2a\u662f\u5efa\u7acbqueue\u7684\u65f6\u5019\uff0c\u6301\u4e45\u5316\u90a3\u4e2aqueue\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u53e6\u5916\u4e00\u4e2a\u662f\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\u7684\u65f6\u5019\uff0c\u628adeliveryMode\u8bbe\u7f6e\u4e3a2\uff0c\u8ba9MQ\u628a\u8fd9\u6761\u6570\u636e\u4e5f\u7ed9\u6301\u4e45\u5316\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u4f46\u662f\u5c3d\u7ba1\u5982\u6b64\uff0c\u5982\u679c\u5728\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u5728rabbitmq\u4e2d\u5185\u5b58\u5199\u6210\u529f\uff0c\u4f46\u662f\u8fd8\u6ca1\u6765\u53ca\u6301\u4e45\u5316\u65f6\uff0crabbitmq\u5b95\u673a\uff0c\u8fd9\u90e8\u5206\u5728\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u4e5f\u4f1a\u4e22\u5931\uff0c\u4e0d\u8fc7\u51e0\u7387\u5f88\u5c0f\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u5728\u6d88\u8d39\u8005\u7aef\uff0c\u53bb\u6389autoAck\uff0c\u5728\u81ea\u5df1\u5b8c\u6210\u903b\u8f91\u540e\u624b\u52a8\u63d0\u4ea4ack\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">kafka\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u60c5\u51b5\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\uff1a\u548crabbitmq\u7c7b\u4f3c\uff0c\u5982\u679c\u6ca1\u80fd\u786e\u8ba4\u5199\u6210\u529f\uff0c\u4e5f\u6ca1\u6709\u91cd\u53d1\u90a3\u4e48\u4e5f\u4f1a\u4e22\u5931\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001\u670d\u52a1\u7aef\uff1a\u5982\u679c\u672a\u6765\u5f97\u53ca\u548c\u4ece\u8282\u70b9\u540c\u6b65\u6570\u636e\u5c31\u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u8fd9\u90e8\u5206\u6570\u636e\u5c31\u4f1a\u4e22\u5931\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u6d88\u8d39\u8005\u7aef\uff1a\u548crabbitmq\u7c7b\u4f3c\uff0c\u5982\u679c\u81ea\u52a8\u63d0\u4ea4offset\u4f9d\u65e7\u4f1a\u51fa\u73b0\u4e22\u5931\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">kafka\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u89e3\u51b3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\uff1a\u8bbe\u7f6e\u53c2\u6570\uff0c\u8981\u6c42\u6bcf\u4e2a\u4ece\u8282\u70b9\u90fd\u5199\u6210\u529f\u540e\u624d\u4efb\u52a1\u6210\u529f\uff0c\u53e6\u5916\u5982\u679c\u53d1\u9001\u5931\u8d25\uff0c\u91cd\u8bd5\u6b21\u6570\u8bbe\u7f6e\u4e00\u4e2a\u5f88\u5927\u7684\u503c\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001\u670d\u52a1\u7aef\uff1a\u8bbe\u7f6e\u53c2\u6570\uff0c\u8981\u6c42\u4ece\u8282\u70b9\u8d77\u7801\u5927\u4e8e1\uff0c\u4e14\u81f3\u5c11\u6709\u4e00\u4e2a\u80fd\u88ab\u611f\u77e5\u5230\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u6d88\u8d39\u8005\u7aef\uff1a\u53d6\u6d88\u6389\u81ea\u52a8\u56de\u590d\u3002 \u4e0d\u8fc7\uff0c\u5f3a\u4e00\u81f4\u7684\u4fdd\u8bc1\u6d88\u606f\u4e0d\u4e22\u5931\uff0c\u5fc5\u7136\u4f1a\u5f71\u54cd\u5230\u541e\u5410\u91cf\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u6253\u5361\uff0cjvm\u6027\u80fd\u4f18\u5316\u600e\u4e48\u505a\uff1f\u7528jstat\u5440\uff0c\u54c8\u54c8\uff0c\u795e\u5668\u5728\u624b\uff0c\u518d\u6765\u4e2amat\u5de5\u5177\uff0c\u8fd8\u627e\u4e0d\u5230\u95ee\u9898\uff1f\u5996\u602a\u5427\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u57fa\u672cgc\u65e5\u5fd7+jstat+MAT\u5c31\u8db3\u591f\u4e86<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">6.JVM\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u52a0\u8f7d\u4e00\u4e2a\u7c7b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b54:&nbsp;<\/p><p style=\"line-height: 2em;\">a.JVM\u8fdb\u7a0b\u542f\u52a8\u4e4b\u540e\uff0c\u4ee3\u7801\u4e2d\u5305\u542b&quot;main()&quot;\u65b9\u6cd5\u7684\u4e3b\u7c7b\u4e00\u5b9a\u4f1a\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u6267\u884c&quot;main()&quot;\u65b9\u6cd5\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230\u522b\u7684\u7c7b\u4e5f\u4f1a\u4ece\u5bf9\u5e94\u7684&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6\u52a0\u8f7d \u5bf9\u5e94\u7684\u7c7b\u5230\u5185\u5b58\u91cc\u9762\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">7.\u4e00\u4e2a\u7c7b\u4ece\u52a0\u8f7d\u5230\u4f7f\u7528\uff0c\u4e00\u822c\u4f1a\u7ecf\u5386\u54ea\u4e9b\u8fc7\u7a0b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b54\uff1a\u52a0\u8f7d-&gt;\u9a8c\u8bc1-&gt;\u51c6\u5907-&gt;\u89e3\u6790-&gt;\u521d\u59cb\u5316-&gt;\u4f7f\u7528-&gt;\u5378\u8f7d&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">a.\u52a0\u8f7d:\u5c06\u7f16\u8bd1\u597d\u7684&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6\u52a0\u8f7d\u5230JVM\u4e2d&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u9a8c\u8bc1:\u6839\u636eJVM\u89c4\u8303\uff0c\u6821\u9a8c\u52a0\u8f7d\u8fdb\u6765\u7684&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">c.\u51c6\u5907:\u7ed9\u7c7b\u548c\u7c7b\u53d8\u91cf\u5206\u914d\u4e00\u5b9a\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4e14\u7ed9\u7c7b\u53d8\u91cf\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u521d\u59cb\u503c(0\u6216\u8005nul)&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">d.\u89e3\u6790:\u628a\u7b26\u53f7\u5f15\u7528\u66ff\u6362\u4e3a\u76f4\u63a5\u5f15\u7528\u7684\u8fc7\u7a0b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">e.\u521d\u59cb\u5316:\u6839\u636e\u7c7b\u521d\u59cb\u5316\u4ee3\u7801\u7ed9\u7c7b\u53d8\u91cf\u8d4b\u503c&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6ce8\uff1a\u6267\u884cnew\u51fd\u6570\u6765\u5b9e\u4f8b\u5316\u7c7b\u5bf9\u8c61\u4f1a\u89e6\u53d1\u7c7b\u52a0\u8f7d\u5230\u521d\u59cb\u5316\u7684\u5168\u8fc7\u7a0b\uff1b\u6216\u8005\u662f\u5305\u542b&quot;main()&quot;\u65b9 \u6cd5\u7684\u4e3b\u7c7b\uff0c\u5fc5\u987b\u662f\u7acb\u9a6c\u521d\u59cb\u5316\u7684\u3002\u5982\u679c\u521d\u59cb\u5316\u4e00\u4e2a\u7c7b\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u4ed6\u7684\u7236\u7c7b\u8fd8\u6ca1\u521d\u59cb\u5316\uff0c \u90a3\u4e48\u5fc5\u987b\u5148\u521d\u59cb\u5316\u4ed6\u7684\u7236\u7c7b\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">8.Java\u91cc\u6709\u54ea\u4e9b\u7c7b\u52a0\u8f7d\u5668&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b54: a.\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668: \u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7d\u6211\u4eec\u5728\u673a\u5668\u4e0a\u5b89\u88c5\u7684Java\u76ee\u5f55(lib\u76ee\u5f55)\u4e0b\u7684\u6838\u5fc3\u7c7b\u5e93&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\uff1a\u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7dJava\u76ee\u5f55\u4e0b\u7684&quot;lib\/ext&quot;\u76ee\u5f55\u4e2d\u5f97\u7c7b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">C.\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\uff1a\u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7d&quot;ClassPath&quot;\u73af\u5883\u53d8\u91cf\u6240\u6307\u5b9a\u7684\u8def\u5f84\u4e2d\u7684\u7c7b\uff0c\u5927\u81f4 \u53ef\u4ee5\u7406\u89e3\u4e3a\u52a0\u8f7d\u6211\u4eec\u5199\u597d\u7684java\u4ee3\u7801&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">d.\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\uff1a\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u52a0\u8f7d\u7c7b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">9.\u4ec0\u4e48\u662f\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236&nbsp;<\/p><p style=\"line-height: 2em;\">\u7b54\uff1aJVM\u7684\u7c7b\u52a0\u8f7d\u5668\u662f\u6709\u4eb2\u5b50\u5c42\u7ea7\u7ed3\u6784\u7684\uff0c\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u6700\u4e0a\u5c42\uff0c\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\u7b2c\u4e8c\u5c42\uff0c \u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\u7b2c\u4e09\u5c42\uff0c\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\u7b2c\u56db\u5c42\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5f53\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\u9700\u8981\u52a0\u8f7d\u4e00\u4e2a\u7c7b\u65f6\uff0c \u4ed6\u4f1a\u5148\u59d4\u6d3e\u7ed9\u81ea\u5df1\u7684\u7236\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\uff0c\u6700\u7ec8\u4f20\u5bfc\u5230\u9876\u5c42\u7684\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\uff0c\u4f46\u662f\u5982\u679c\u7236\u7c7b \u52a0\u8f7d\u5668\u5728\u81ea\u5df1\u8d1f\u8d23\u52a0\u8f7d\u7684\u8303\u56f4\u5185\uff0c\u6ca1\u627e\u5230\u8fd9\u4e2a\u7c7b\uff0c\u90a3\u4e48\u5c31\u4f1a\u4e0b\u63a8\u52a0\u8f7d\u6743\u5229\u7ed9\u81ea\u5df1\u7684\u5b50\u7c7b\u52a0\u8f7d\u5668<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u80fd\u8bf4\u8bf4RememberSet\u5417\uff0c\u6211\u5728\u6df1\u5165\u7406\u89e3JVM\u8fd9\u672c\u4e66\u4e0a\u770b\u5230\u4e86\u8001\u5e74\u4ee3\u5f15\u7528\u65b0\u751f\u4ee3\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u662f\u7528RememberSet\u6765\u907f\u514d\u5168\u5806\u626b\u63cf\uff0c\u90a3\u8fdb\u884cOld GC\u7684\u65f6\u5019\uff0c\u65b0\u751f\u4ee3\u5f15\u7528\u8001\u5e74\u4ee3\uff0c\u662f\u76f4\u63a5\u626b\u63cf\u6574\u4e2a\u65b0\u751f\u4ee3\u5417\uff1f\u6211\u770b\u6709\u7684\u535a\u5ba2\u6709\u8bf4\u9053CMS\u7684\u5e76\u53d1\u9884\u6e05\u7406\u8ddf\u53ef\u4e2d\u65ad\u5e76\u53d1\u9884\u6e05\u7406\uff0c\u8fd9\u53c8\u662f\u4ec0\u4e48\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u662f\u4e00\u4e9bJVM\u5e95\u5c42\u6e90\u7801\u7ea7\u522b\u7684\u539f\u7406\uff0c\u6211\u4eec\u8fd9\u4e2a\u4e13\u680f\u5b9a\u4f4d\u662f\u5b9e\u6218\u578b\u7684\uff0c\u57fa\u672c\u628a\u65e5\u5e38\u751f\u4ea7\u5b9e\u6218\u7684\u5185\u5bb9\u90fd\u5206\u6790\u8fc7\u4e86\uff0c\u800c\u4e14\u90fd\u662f\u7ed3\u5408\u6848\u4f8b\u7684\u3002\u6709\u4e00\u4e9b\u662f\u5c5e\u4e8e\u6df1\u5165\u5e95\u5c42\u7684\u6280\u672f\u7ec6\u8282\uff0c\u4f46\u662f\u8ddf\u5e73\u65f6\u5b9e\u6218\u4f18\u5316\u5173\u7cfb\u4e0d\u5927\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u6211\u4eec\u6ca1\u6709\u8bb2\u8fd9\u4e9b\u5185\u5bb9\u3002\u4e5f\u8bb8\u672a\u6765\u4f1a\u51fa\u90a3\u79cdJVM\u6e90\u7801\u7ea7\u522b\u7684\u6df1\u5165\u7684\u8bfe\u7a0b\uff0c\u4f1a\u8bf4\u5230\u4f60\u8bf4\u7684\u90a3\u4e9b\u5185\u5bb9\u3002<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4f60\u7684\u603b\u7ed3\u6b63\u662f\u6211\u5fc3\u4e2d\u60f3\u603b\u7ed3\u7684\uff0c\u9884\u6599\u4e4b\u4e2d\u3002jvm\u8fd0\u884c\u539f\u7406\u3001\u4ec0\u4e48\u65f6\u5019yong gc\u3001\u4ec0\u4e48\u65f6\u5019\u8fdb\u5165\u8001\u5e74\u4ee3\u3001\u4ec0\u4e48\u65f6\u5019full gc\u3001\u4e3a\u4ec0\u4e48\u4f1a\u9891\u7e41full gc\u3001\u5206\u6790\u5236\u5b9ajvm\u6a21\u677f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u5b9a\u671f\u590d\u4e60\u548c\u603b\u7ed3\u975e\u5e38\u7684\u91cd\u8981<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4e4b\u524d\u4e5f\u770b\u8fc7jvm\u7684\u4e66\uff0c\u770b\u4e86\u4e00\u4e9b\u89c6\u9891\uff0c\u4f46\u600e\u4e48\u4f18\u5316\u8fd8\u662f\u4e00\u5934\u96fe\u6c34\u3002\u5f88\u5e78\u8fd0\u9047\u5230\u4e86\u8001\u5e08\u7684\u4e13\u680f\uff0c\u73b0\u5728\u4e0d\u7ba1\u5bf9\u5b9e\u6218\u8fd8\u662f\u9762\u8bd5\u90fd\u5145\u6ee1\u4fe1\u5fc3\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6bcf\u5929\u90fd\u8981\u82b13-4\u4e2a\u5c0f\u65f6\u5b66\u4e60\u603b\u7ed3\uff0c\u73b0\u5728\u770b\u6587\u7ae0\u8fd8\u7b97\u8f7b\u677e\uff0c\u540e\u7eed\u8981\u628a\u8001\u5e08\u6240\u6709\u7684\u6848\u4f8b\u603b\u7ed3\u6210\u81ea\u95ee\u81ea\u7b54\u7684\u9762\u8bd5\u9898\u3002\u4e5f\u6839\u636e\u6240\u5b66\uff0c\u57fa\u4e8ejstat\u521d\u6b65\u505a\u4e86\u4e2a\u76d1\u63a7\u5c0f\u5de5\u5177\uff0c\u540e\u9762\u7ee7\u7eed\u5b8c\u5584\uff0c\u4e5f\u7b97\u662f\u5bf9\u4e13\u680f\u6700\u597d\u7684\u603b\u7ed3\u3002\u8c22\u8c22\u8001\u5e08\uff01\uff01\uff01\uff01\uff01\uff01<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u597d\u7684\uff0c\u4f60\u771f\u662f\u592a\u68d2\u4e86\uff0c\u4f60\u4eec\u5b66\u6709\u6240\u6210\uff0c\u771f\u6b63\u638c\u63e1JVM\u7684\u4f18\u5316\u5b9e\u6218\uff0c\u63d0\u5347\u56fd\u5185\u5de5\u7a0b\u5e08\u7684\u6280\u672f\u6c34\u5e73\uff0c\u5c31\u662f\u6211\u4eec\u5e0c\u671b\u505a\u7684\u4e8b\u60c5<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u597d\uff0c\u7ebf\u4e0a\u4e5f\u51fa\u73b0\u4e86FUll GC\u7684\u544a\u8b66\uff0c\u65e5\u5fd7\u5982\u4e0b:&nbsp;<\/p><p style=\"line-height: 2em;\"><span style=\"font-size: 14px; line-height: 1.5;\">2019-09-05T17:26:15.161+0800: 85779.869: [Full GC (Metadata GC Threshold) 2019-09-05T17:26:15.161+0800: 85779.869: [CMS: 472256K-&gt;445559K(3022848K), 2.0333919 secs] 1425388K-&gt;445559K(4910336K), [Metaspace: 277217K-&gt;277217K(1511424K)], 2.0355295 secs] [Times: user=2.01 sys=0.01, real=2.03 secs] 2019-09-05T17:26:17.197+0800: 85781.905: [Full GC (Last ditch collection) 2019-09-05T17:26:17.197+0800: 85781.905: [CMS: 445559K-&gt;382990K(3022848K), 1.6770458 secs] 445559K-&gt;382990K(4910336K), [Metaspace: 276037K-&gt;276037K(1511424K)], 1.6863552 secs] [Times: user=1.63 sys=0.01, real=1.68 secs] 2019-09-05T17:26:18.886+0800: 85783.594: [GC (CMS Initial Mark) [1 CMS-initial-mark: 382990K(3022848K)] 382992K(4910336K), 0.0134842 secs] [Times: user=0.02 sys=0.00, real=0.02 secs]&nbsp;<\/span><\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u521d\u6b65\u786e\u8ba4\u662f\u6bcf\u6b21\u53d1\u5e03groovy\u811a\u672c\uff0cclassload\u7684\u65f6\u5019\u624d\u4f1a\u5f6a\u9ad8\uff0c\u8fd9\u79cd\u95ee\u9898\u57fa\u672c\u5b9a\u4f4d\u5230\u4e86\uff0c\u4f46\u662f\u9700\u8981\u600e\u4e48\u53bb\u4f18\u5316\u548c\u89e3\u51b3\u5462?<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5f88\u660e\u786e\u4e86\uff0c\u4f60\u7684metaspace\u592a\u5c0f\u4e86\uff0c\u6240\u4ee5classload\u592a\u591a\u7684\u65f6\u5019\u4f1a\u89e6\u53d1full gc\uff0c\u53ea\u8981\u7ed9metaspace\u533a\u57df\u66f4\u5927\u7a7a\u95f4\u5c31\u53ef\u4ee5\u4e86<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u8bfe\u7a0b\u771f\u7684\u662f\u6211\u5b66\u4e60\u8fc7\u7684JVM\u8bfe\u7a0b\u548c\u770b\u8fc7\u7684\u4e66\u4e2d\u6700\u597d\u7684,\u6ca1\u6709\u4e4b\u4e00,\u5176\u4ed6\u7684\u8bfe\u7a0b\u90fd\u611f\u89c9\u662f\u9694\u9774\u6414\u75d2,\u8fd9\u4e2a\u8bfe\u662f\u76f4\u51fb\u8981\u5bb3,\u800c\u4e14\u6bcf\u4e2a\u95ee\u9898\u90fd\u80fd\u5f97\u5230\u56de\u590d, \u975e\u5e38\u611f\u8c22<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u591a\u8c22\u4f60\u7684\u652f\u6301<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u73b0\u5728\u5f88\u6e34\u671b\u53bb\u89e3\u51b3\u7ebf\u4e0a\u95ee\u9898\uff0c\u5f53\u522b\u4eba\u641e\u4e0d\u5b9a\u7684\u65f6\u5019\u6211\u6765\u4e0a\uff0c\u53ef\u60dc\u73b0\u5728\u7cfb\u7edf\u7684\u91cf\u592a\u5c11\uff0c\u57fa\u672c\u4e0a\u5806\u5185\u5b586G,\u8001\u5e74\u4ee3\u548c\u5e74\u8f7b\u4ee3\u5206\u522b3G\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f\u6027\u80fd\u95ee\u9898\u3002\u53ea\u80fd\u5047\u8bbe\u5b83\u7684\u91cf\u589e\u52a0100\u500d\u4e86\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u56e0\u4e3a\u7cfb\u7edf\u91cf\u592a\u5c0f\uff0c\u5c31\u662fEden\u533a\u90fd\u6162\u6162\u624d\u6ee1\uff0c\u6ee1\u4e86\u4ee5\u540e\u5b58\u6d3b\u5bf9\u8c61\u4e5f\u5f88\u5c11\uff0c\u51e0\u4e4e\u5f88\u5c11\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\uff0c\u6240\u4ee5\u4e00\u822c\u91cf\u5c0f\u7684\u7cfb\u7edf\u6ca1\u6709JVM\u7684\u95ee\u9898<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8bf7\u95ee\u4e00\u4e0b\u5982\u679c\u8bbf\u95ee\u91cf\u589e\u52a0100\u500d, \u6bd4\u5982QPS\u4ece100, \u731b\u589e\u523010000, \u800c\u6211Tomcat\u7684MaxThread\u8bbe\u7f6e\u7684\u662f200, \u800c\u6211\u6bcf\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u65f6\u95f4\u52a0\u5165\u662f100ms, \u90a3\u7406\u8bba\u4e0a\u7cfb\u7edf1S\u4e2d\u53ef\u4ee5\u5904\u7406\u7684\u8bf7\u6c42\u6570\u5c31\u662f2000, \u8fd9\u5df2\u7ecf\u786e\u5b9a\u4e86\u554a, \u5373\u4f7fQPS\u8fbe\u523010000,\u591a\u4f59\u7684\u8bf7\u6c42\u53ea\u4f1a\u5728OS\u4e2d\u7684Epoll\u6a21\u578b\u4e2d\u6392\u961f\u5427,<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6211\u611f\u89c9\u597d\u50cf\u4e0d\u4f1a\u8f6e\u5230JVM\u7684\u95ee\u9898\u66b4\u9732, \u6240\u4ee5\u4f18\u5316jvm\u53c2\u6570\u7684\u65f6\u5019\u53ea\u8981\u8003\u8651\u5230\u6700\u5927QPS\u662f2000\u5c31\u53ef\u4ee5\u4e86, \u8bf7\u95ee\u6211\u8fd9\u6837\u7406\u89e3\u5bf9\u4e0d\u5bf9?<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u6211\u7ed9\u4f60\u4e3e\u4e2a\u4f8b\u5b50\u600e\u4e48\u601d\u8003\uff0c\u6bd4\u5982\u4f60\u73b0\u5728\u6709\u4e00\u4e2a\u7cfb\u7edf\uff0c\u90e8\u7f72\u5728\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u673a\u5668\u80fd\u627f\u8f7d\u7684\u6781\u9650\u5e76\u53d1\u91cf\u662f\u6bcf\u79d2\u5904\u74061000\u4e2a\u8bf7\u6c42\uff0c\u7ed3\u679c\u4f60\u73b0\u5728\u7cfb\u7edf\u91cf\u5f88\u5c0f\uff0c\u6bcf\u79d2\u624d\u5904\u740610\u4e2a\u8bf7\u6c42\u3002\u6b64\u65f6\u4f60\u76f4\u63a5\u5047\u8bbe\u4f60\u7684\u673a\u5668\u8d44\u6e90\u88ab\u6253\u6ee1\uff0c\u6bcf\u79d2\u5904\u74061000\u4e2a\u8bf7\u6c42\uff0c\u540c\u6837\u7684\u5185\u5b58\u4e0b\uff0c\u8bf7\u6c42\u91cf\u5927\u4e861000\u500d\uff0c\u4f60\u7684JVM\u4f1a\u5982\u4f55\u8fd0\u884c\uff1f<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4eca\u5929\u662f\u5206\u6790\u800c\u4e0d\u8ba8\u8bba\u3002\u8ba9\u6211\u4eec\u53bb\u56de\u987e\u4e4b\u524d\u6240\u5b66\u7684\u77e5\u8bc6\uff0c\u7136\u540e\u7ed3\u5408\u81ea\u5df1\u73b0\u6709\u7cfb\u7edf\u53bb\u51c6\u5907\u8fd9\u65b9\u9762\u7684\u9762\u8bd5\u6280\u5de7\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u52a0\u6cb9\u597d\u597d\u590d\u4e60\u548c\u51c6\u5907\uff0c\u591a\u7ed3\u5408\u81ea\u5df1\u5de5\u4f5c\u7684\u7cfb\u7edf\u53bb\u601d\u8003JVM\u7684\u4f18\u5316\uff0c\u653e\u5927100\u500d\u538b\u529b\u601d\u8003\u4e00\u4e0b<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">11.\u4ec0\u4e48\u662fJVM\u5185\u5b58\u533a\u57df\u5212\u5206&nbsp;<\/p><p style=\"line-height: 2em;\">\u7b54\uff1a\u52a0\u8f7d\u8fdb\u6765\u7684\u7c7b\u4fe1\u606f\uff0c\u9700\u8981\u653e\u5728\u67d0\u4e2a\u5185\u5b58\u533a\u57df\u3002\u65b9\u6cd5\u8fd0\u884c\u65f6\uff0c\u65b9\u6cd5\u91cc\u9762\u5f88\u591a\u53d8\u91cf\u4e4b\u7c7b\u7684 \u4e1c\u897f\u9700\u8981\u653e\u5728\u67d0\u4e2a\u5185\u5b58\u533a\u57df\u3002\u4ee3\u7801\u91cc\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u4e5f\u9700\u8981\u5185\u5b58\u7a7a\u95f4\u6765\u5b58\u653e\u3002\u6240\u4ee5JVM\u4e2d\u5fc5\u987b \u5212\u5206\u51fa\u6765\u4e0d\u540c\u7684\u5185\u5b58\u533a\u57df\uff0c\u4e3a\u4e86\u8ba9\u6211\u4eec\u5199\u597d\u7684\u4ee3\u7801\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u66f4\u65b9\u4fbf\u7684\u6839\u636e\u9700\u8981\u6765\u4f7f\u7528\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">12.JVM\u4e2d\u6709\u54ea\u4e9b\u5185\u5b58\u533a\u57df \u7b54\uff1a<\/p><p style=\"line-height: 2em;\">a.\u65b9\u6cd5\u533a: \u5728JDK1.8\u4ee5\u540e,\u8fd9\u5757\u533a\u57df\u7684\u540d\u5b57\u6539\u4e86,\u53eb\u505a&quot;Metaspace&quot;\u3002\u4e3b\u8981\u5b58\u653e\u6211\u4eec\u81ea\u5df1\u5199\u7684 \u5404\u79cd\u7c7b\u76f8\u5173\u7684\u4fe1\u606f\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u7a0b\u5e8f\u8ba1\u6570\u5668\uff1a\u5b57\u8282\u7801\u6307\u4ee4\u901a\u8fc7\u5b57\u8282\u7801\u6267\u884c\u5f15\u64ce\u88ab\u4e00\u6761\u4e00\u6761\u6267\u884c\uff0c\u624d\u80fd\u5b9e\u73b0\u6211\u4eec\u5199\u597d\u7684\u4ee3\u7801 \u6267\u884c\u7684\u6548\u679c\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7a0b\u5e8f\u6280\u672f\u5668\u5c31\u662f\u7528\u6765\u8bb0\u5f55\u5f53\u524d\u6267\u884c\u7684\u5b57\u8282\u7801\u6307\u4ee4\u7684\u4f4d\u7f6e\uff0c\u4e5f\u5c31\u662f\u8bb0\u5f55\u76ee\u524d\u6267\u884c\u5230\u4e86\u54ea\u4e00\u6761\u5b57\u8282\u7801\u6307\u4ee4\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">JVM\u662f\u652f\u6301\u591a\u4e2a\u7ebf\u7a0b\u7684\uff0c\u6240\u4ee5\u5c31\u4f1a \u6709\u591a\u4e2a\u7ebf\u7a0b\u6765\u5e76\u53d1\u6267\u884c\u4e0d\u540c\u7684\u4ee3\u7801\u6307\u4ee4\uff0c\u56e0\u6b64\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u6709\u81ea\u5df1\u7684\u4e00\u4e2a \u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u4e13\u95e8\u8bb0\u5f55\u5f53\u524d\u8fd9\u4e2a\u7ebf\u7a0b\u76ee\u524d\u6267\u884c\u5230\u4e86\u54ea\u4e00\u6761\u5b57\u8282\u7801\u6307\u4ee4\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">c.Java\u865a\u62df\u673a\u6808\uff1a\u4fdd\u5b58\u6bcf\u4e2a\u65b9\u6cd5\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u7b49\u6570\u636e\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u6709\u81ea\u5df1\u7684Java\u865a\u62df\u673a\u6808\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u7ebf\u7a0b\u6267\u884c\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5c31\u4f1a\u5bf9\u8fd9\u4e2a\u65b9\u6cd5\u8c03\u7528\u521b\u5efa\u5bf9\u5e94\u7684\u4e00\u4e2a\u6808\u5e27(\u6808\u5e27 \u91cc\u5c31\u6709\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5c40\u90e8\u53d8\u91cf\u8868,\u64cd\u4f5c\u6570\u6808,\u52a8\u6001\u94fe\u63a5,\u65b9\u6cd5\u51fa\u53e3\u7b49)\uff0c\u7136\u540e\u538b\u5165 \u7ebf\u7a0b\u7684Java\u865a\u62df\u673a\u6808\u3002\u65b9\u6cd5\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\u5c31\u4eceJava\u865a\u62df\u673a\u6808\u51fa\u6808\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56e0\u6b64\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5728\u6267\u884c\u4ee3\u7801\u65f6\uff0c\u9664\u4e86\u7a0b\u5e8f\u8ba1\u6570\u5668\u4ee5\u5916\uff0c\u8fd8\u642d\u914d\u4e86\u4e00\u4e2aJava\u865a\u62df\u673a \u5185\u5b58\u533a\u57df\u6765\u5b58\u653e\u6bcf\u4e2a\u65b9\u6cd5\u4e2d\u5f97\u5c40\u90e8\u53d8\u91cf\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">d.Java\u5806\u5185\u5b58\uff1a\u5b58\u653e\u6211\u4eec\u5728\u4ee3\u7801\u4e2d\u521b\u5efa\u7684\u5404\u79cd\u5bf9\u8c61\u3002\u5bf9\u8c61\u5b9e\u4f8b\u91cc\u9762\u4f1a\u5305\u542b\u4e00\u4e9b\u6570\u636e\u3002\u800cJava \u865a\u62df\u673a\u6808\u7684\u6808\u5e27\u5c40\u90e8\u53d8\u91cf\u8868\u91cc\u9762\u7684\u5bf9\u8c61\uff0c\u5176\u5b9e\u662f\u4e00\u4e2a\u5f15\u7528\u7c7b\u578b\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5b58\u653e \u4e86\u5bf9\u5e94Java\u5806\u5185\u5b58\u5bf9\u8c61\u7684\u5730\u5740\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c40\u90e8\u53d8\u91cf\u8868\u91cc\u7684\u5bf9\u8c61\u6307\u5411\u4e86Java<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u5f97\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u90a3\u4ee5\u540e\u5e02\u9762\u4e0a\u90fd\u7528G1\u6e05\u7406\uff0c\u90a3\u6211\u4eec\u662f\u4e0d\u662f\u5728jvm\u4f18\u5316\u4e0a\u5c31\u5f97\u9760\u8fb9\u7ad9\u4e86\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4f7f\u7528G1\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u80fd\u505a\u7684\u4e8b\u60c5\u5f88\u5c11\uff0c\u56e0\u4e3a\u4f60\u60f3\uff0c\u4ed6\u6240\u6709\u7684\u5185\u5b58\u5206\u914d\u548cGC\u65f6\u673a\u90fd\u662f\u52a8\u6001\u53d8\u5316\u7684\uff0c\u4f60\u600e\u4e48\u53bb\u8c03\u4f18\uff1f\u5b9e\u9645\u4e0a\u4ed6\u4e00\u5207\u90fd\u662f\u81ea\u52a8\u8fd0\u884c\u7684\u3002\u53ea\u8981\u4ed6\u80fd\u4fdd\u8bc1\u6bcf\u6b21GC\u7684\u8017\u65f6\u5728\u4f60\u6307\u5b9a\u8303\u56f4\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u5176\u5b9e\u73b0\u5728G1\u4e5f\u672a\u5fc5\u5c31\u5df2\u7ecf\u5f88\u7a33\u5b9a\u4e86\uff0c\u6240\u4ee5\u4e00\u822c\u8fd8\u662f\u7528CMS+ParNew\u5c31\u53ef\u4ee5\u4e86\uff0c\u6bd4\u8f83\u53ef\u63a7\u4e00\u4e9b\u3002<\/p><p style=\"line-height: 2em;\"><span style=\"font-size: 16px; line-height: 1.5;\">&nbsp;<\/span><\/p><p><br\/><\/p>","org_content":"<p style=\"line-height: 2em;\"><strong><span style=\"font-size: 16px; line-height: 1.5; color: rgb(118, 146, 60);\">\u7b2c10\u5468\u7b54\u7591\u6c47\u603b<\/span><\/strong><\/p><p><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u5b66\u5458\u603b\u7ed3\uff1a<\/strong><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u4e00\u4e0b\u8001\u5e08\u8fd9\u51e0\u5929\u63d0\u4ea4\u7684\u53c2\u6570\uff1a<\/p><ul class=\" list-paddingleft-2\" style=\"list-style-type: disc;padding-left:30px;\"><li><p style=\"line-height: 2em;\">-XX:+CMSParallelInitialMarkEnabled\u8868\u793a\u5728\u521d\u59cb\u6807\u8bb0\u7684\u591a\u7ebf\u7a0b\u6267\u884c\uff0c\u51cf\u5c11STW\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX:+CMSScavengeBeforeRemark\uff1a\u5728\u91cd\u65b0\u6807\u8bb0\u4e4b\u524d\u6267\u884cminorGC\u51cf\u5c11\u91cd\u65b0\u6807\u8bb0\u65f6\u95f4\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX:+CMSParallelRemarkEnabled:\u5728\u91cd\u65b0\u6807\u8bb0\u7684\u65f6\u5019\u591a\u7ebf\u7a0b\u6267\u884c\uff0c\u964d\u4f4eSTW\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX\uff1aCMSInitiatingOccupancyFraction=92\u548c-XX:+UseCMSInitiatingOccupancyOnly\u914d\u5957\u4f7f\u7528\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u540e\u8005\uff0cjvm\u7b2c\u4e00\u6b21\u4f1a\u91c7\u752892%\u4f46\u662f\u540e\u7eedjvm\u4f1a\u6839\u636e\u8fd0\u884c\u65f6\u91c7\u96c6\u7684\u6570\u636e\u6765\u8fdb\u884cGC\u5468\u671f\uff0c\u5982\u679c\u8bbe\u7f6e\u540e\u8005\u5219jvm\u6bcf\u6b21\u90fd\u4f1a\u572892%\u7684\u65f6\u5019\u8fdb\u884cgc\uff1b<\/p><\/li><li><p style=\"line-height: 2em;\">-XX:+PrintHeapAtGC:\u5728\u6bcf\u6b21GC\u524d\u90fd\u8981GC\u5806\u7684\u6982\u51b5\u8f93\u51fa<\/p><\/li><\/ul><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u56de\u7b54\uff1a<\/strong>\u603b\u7ed3\u7684\u975e\u5e38\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><strong>\u95ee\u9898\uff1a<\/strong> <\/p><p style=\"line-height: 2em;\">\u8fd9\u95ee\u9898\u770b\u4f3c\u7b80\u5355\uff0c\u5176\u5b9e\u6211\u4e5f\u78b0\u5230\u8fc7\uff0c\u5f53\u65f6\u4f7f\u7528jxl\u5bfc\u51faexcel\u7684\u65f6\u5019\uff0cjxl\u4f1a\u9ed8\u8ba4\u8c03\u7528gc\u65b9\u6cd5\uff0c\u5f53\u65f6\u82b1\u4e86\u4e0d\u5c11\u65f6\u95f4\u624d\u53d1\u73b0\u539f\u6765\u662f\u8fd9\u4e2a\u95ee\u9898...<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u56de\u7b54\uff1a<\/strong><\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u5c31\u662f\u5982\u6b64\uff0c\u8fd8\u6709\u7684\u540c\u5b66\u4e00\u65f6\u624b\u75d2\u4f1a\u81ea\u5df1\u53bb\u6267\u884c\u8fd9\u884c\u4ee3\u7801\uff0c\u5c31\u6015\u6709\u7684\u4eba\u81ea\u5df1\u778e\u73a9\u513f<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><strong>\u95ee\u9898\uff1a<\/strong> <\/p><p style=\"line-height: 2em;\">\u679c\u7136\u7cbe\u77ed\u8f7b\u677e?\uff0c\u4e4b\u524d\u6211\u8fd8\u5728\u60f3\u8fd9\u4e2a\u53c2\u6570\u7684\u610f\u4e49\u5728\u54ea\u91cc\u3002\u8001\u5e08\uff0c\u50cf\u8fd9\u79cd\u60c5\u51b5jstick\u91cc\u4f1a\u6709\u4ec0\u4e48\u5f02\u5e38\u5417\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\"><strong>\u56de\u7b54\uff1a<\/strong><\/p><p style=\"line-height: 2em;\">jstat\u5176\u5b9e\u662f\u7528\u5728\u6b7b\u9501\u91cc\u7684\uff0c\u4e00\u822c\u53ef\u4ee5\u662f\u770b\u6b7b\u9501\u54ea\u91cc\u7ebf\u7a0b\u5361\u4f4f\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u6c38\u4e45\u5e26\u91cc\u9762\u5b58\u653e\u7684\u7c7b\u4fe1\u606f\u5177\u4f53\u662f\u4e00\u4e9b\u4ec0\u4e48\u6837\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7ed9\u8bb2\u89e3\u51e0\u79cd\u5417\uff1f\u8c22\u8c22<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5177\u4f53\u7c7b\u7684\u4fe1\u606f\uff0c\u5176\u5b9e\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c31\u662f\u7c7b\u6240\u5e26\u7684\u4e00\u4e9b\u53d8\u91cf\u548c\u65b9\u6cd5<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">\u5f53\u591a\u4e2a\u670d\u52a1\u9700\u8981\u7ade\u4e89\u4e00\u4e2a\u5355\u4f53\u8d44\u6e90\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u52a0\u4e0a\u5206\u5e03\u5f0f\u9501\u3002\u5982\u679c\u5e76\u53d1\u91cf\u9ad8\u7684\u8bdd\uff0c\u53ef\u4ee5\u8003\u8651\u62c6\u5206\u6389\u90a3\u4e2a\u5355\u4f53\u8d44\u6e90\uff0c50\u4e2a\u62c6\u62105\u4e2a10\u4e2a\u8d44\u6e90\uff0c\u4ece\u800c\u7f29\u5c0f\u9501\u7684\u7c92\u5ea6\uff0c\u63d0\u9ad8\u541e\u5410\u91cf\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">\u4e00\u822credis\u7684\u5206\u5e03\u5f0f\u9501\u90fd\u53ef\u4ee5\u4f7f\u7528redisson\u6846\u67b6\u6765\u505a\u3002 \u4f7f\u7528\uff1a\u76f4\u63a5lock(&quot;key&quot;)&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u539f\u7406\uff1a\u5f53lock\u7684\u65f6\u5019\uff0c\u5f53\u524d\u5ba2\u6237\u7aef\u4f1a\u751f\u6210\u4e00\u4e32lua\u811a\u672c\u53d1\u9001\u5230redis\u670d\u52a1\u7aef\u3002\u670d\u52a1\u7aef\u6839\u636e\u8fd9\u4e2akey\u662f\u5426\u5b58\u5728\u4ee5\u53cakey\u7684value\u72b6\u6001\u5224\u65ad\u662f\u5426\u5df2\u88ab\u52a0\u9501\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u52a0\u9501\u6210\u529f\uff08\u6709\u6548\u671f30s\uff09\uff1a\u751f\u6210\u7684value\u91cc\u9762\u5e26\u6709\u5f53\u524d\u5ba2\u6237\u7aef\u7684id\uff0c\u5b9e\u73b0\u53ef\u91cd\u5165\u6548\u679c\u3002\u7136\u540e\u5728\u8fd9\u4e2a\u7ebf\u7a0b\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u52a0\u9501\u6210\u529f\u8fd8\u4f1a\u6709\u4e00\u4e2awatch dog\u6bcf10s\u53bb\u5237\u65b0\u9501\u7684\u72b6\u6001\u3002\u76f4\u5230\u91ca\u653e\u6216\u8005\u5b95\u673a\uff0c\u5982\u679c\u5f53\u524d\u7ebf\u7a0b\u6b7b\u9501\u6216\u963b\u585e\uff0c\u90a3\u4e48\u8fd9\u4e2a\u9501\u5c31\u4e00\u8d77\u6b7b\u9501\u3002\u5982\u679c\u52a0\u9501\u5931\u8d25\uff1a\u81ea\u65cb\u5230\u83b7\u53d6\u9501\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u6211\u6709\u4e2a\u5173\u4e8e\u9501\u7684\u95ee\u9898\u3002\u5728\u6211\u770b\u6765\uff0c\u6240\u6709\u9501\u90fd\u662f\u57fa\u4e8e\u4e00\u4e2a\u4e92\u65a5\u91cf\uff0c\u8fd9\u4e2a\u4e92\u65a5\u91cf\u53ef\u4ee5\u968f\u610f\u9009\u53d6\u4e3a\u4e00\u4e2a\u652f\u6301\u52a0\u9501\u6216\u8005\u539f\u5b50\u64cd\u4f5c\u7684\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u3002\u90a3\u4e48\u7ecf\u5e38\u4f7f\u7528zk\/redis\u53bb\u662f\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff0c\u800c\u4e0d\u4f7f\u7528db\u53bb\u52a0\u9501\u3002\u662f\u56e0\u4e3adb\u7684\u541e\u5410\u91cf\u592a\u4f4e\u4e86\u5417\uff0c\u8fd8\u662f\u6709\u5176\u4ed6\u8003\u8651\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">db\u4e0d\u9002\u5408\u914d\u5408\u7cfb\u7edf\u505a\u52a0\u9501\uff0c\u4ece\u529f\u80fd\u5c42\u9762\uff0cdb\u5c31\u4e0d\u662f\u5e72\u8fd9\u4e2a\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5b66\u5458\u601d\u8003\u9898\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u51fa\u73b0\u539f\u56e0\uff1a<\/p><p style=\"line-height: 2em;\">\u56e0\u4e3aredis\u4e3b\u4ece\u5f02\u6b65\u590d\u5236\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u53ef\u80fd\u51fa\u73b0\u5728\u4e3b\u8282\u70b9\u5b95\u673a\u65f6\u672a\u5b8c\u6210\u540c\u6b65\u800c\u51fa\u73b0\u7684\u9501\u4e22\u5931\u3002 \u8fd9\u4e2a\u65f6\u5019watch dog\u53d1\u73b0\u4e86\u4e5f\u6ca1\u529e\u6cd5\uff0c\u53ea\u80fd\u8bf4\u662f\u81ea\u5df1\u505c\u6389\u4e86\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u89e3\u51b3\u529e\u6cd5\uff1a<\/p><p style=\"line-height: 2em;\">\u56e0\u4e3a\u4e3b\u4ece\u5f02\u6b65\u590d\u5236\u51fa\u73b0\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u4fdd\u8bc1\u4e3b\u4ece\u5199\u5f3a\u4e00\u81f4\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u5982\u679c\u5199\u5f3a\u4e00\u81f4\u7684\u8bdd\uff0c\u90a3\u4e48\u541e\u5410\u91cf\u5c31\u4f1a\u56e0\u4e3a\u8fd9\u4e9b\u5b9e\u65f6\u540c\u6b65\u800c\u6025\u5267\u964d\u4f4e\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u53e6\u5916\u51fa\u73b0\u4e86C\uff0c\u90a3\u4e48A\u8fd9\u4e2a\u53ef\u7528\u6027\u5c31\u4f1a\u53d7\u5230\u4e00\u5b9a\u7684\u5f71\u54cd\uff0c\u56e0\u4e3a\u5728\u5b9e\u65f6\u540c\u6b65\u7684\u65f6\u5019\uff0c\u8981\u662f\u5931\u8d25\u4e86\uff0c\u8fd9\u4e2a\u670d\u52a1\u53ef\u80fd\u6682\u65f6\u5c31\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u670d\u52a1\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">zk\u4e00\u822c\u4f7f\u7528curator\u53bb\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u3002 \u539f\u7406\uff1a\u5411zk\u53d1\u8d77\u8bf7\u6c42\uff0c\u5728\u4e00\u4e2a\u76ee\u5f55\uff08\/locks\/pd_1_stock\uff09\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u8282\u70b9\uff0c\u4e5f\u662f\u5e26\u6709\u81ea\u5df1\u5ba2\u6237\u7aef\u7684id\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u76ee\u5f55\u662f\u7a7a\u7684\uff0c\u81ea\u5df1\u521b\u5efa\u51fa\u6765\u7684\u8282\u70b9\u5c31\u662f\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u52a0\u9501\u6210\u529f\u3002\u5982\u679c\u6210\u529f\u6267\u884c\u5219\u91ca\u653e\uff08\u8282\u70b9\u5220\u9664\uff09\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u5b95\u673a\u4e86\uff0c\u57fa\u4e8ezk\u7684\u5fc3\u8df3\u673a\u5236\uff0c\u90a3\u4e2a\u4e34\u65f6\u8282\u70b9\u4e5f\u4f1a\u88ab\u5220\u9664\u3002\u7b2c\u4e8c\u4e2a\u5ba2\u6237\u7aef\u8bf7\u6c42\u9501\u65f6\uff0c\u4e5f\u521b\u5efa\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u662f\u7b2c\u4e00\u8282\u70b9\uff0c\u90a3\u4e48\u5411\u4e0a\u4e00\u8282\u70b9\u52a0\u4e00\u4e2awatcher\u76d1\u542c\u5668\u3002\u5982\u679c\u4e0a\u4e00\u8282\u70b9\u88ab\u5220\u9664\u7acb\u9a6c\u4f1a\u611f\u77e5\u5230\uff0c\u7136\u540e\u5728\u5224\u65ad\u81ea\u5df1\u662f\u4e0d\u662f\u7b2c\u4e00\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u662f\u518d\u76d1\u542c\u4e0a\u4e00\u7ea7\uff08\u516c\u5e73\u5b9e\u73b0\uff09\u3002\u5b8c\u4e8b\u540e\u9677\u5165\u7b49\u5f85\uff0c\u76f4\u5230\u83b7\u53d6\u9501\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">\u7f8a\u7fa4\u6548\u5e94\uff1a\u5f53\u51e0\u5341\u4e2a\u8282\u70b9\u4e89\u62a2\u540c\u4e00\u628a\u57fa\u4e8ezk\u7684\u9501\u65f6\uff0c\u5982\u679c\u90fd\u662f\u76d1\u542c\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u5f53\u91ca\u653e\u9501\u65f6\uff0czk\u4f1a\u540c\u65f6\u53cd\u5411\u901a\u77e5\u6240\u6709\u5ba2\u6237\u7aef\u53c8\u6765\u91cd\u65b0\u589e\u5f3a\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5f71\u54cd\uff1a<\/p><p style=\"line-height: 2em;\">\u4e3b\u8981\u662f\u591a\u4e86\u5f88\u591a\u6ca1\u5fc5\u8981\u7684\u8bf7\u6c42\uff0c\u4ece\u800c\u4f1a\u52a0\u91cd\u7f51\u7edc\u7684\u8d1f\u8f7d\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u89e3\u51b3\uff1a<\/p><p style=\"line-height: 2em;\">\u5c31\u57fa\u4e8ecurator\u53bb\u505a\u5c31\u597d\u4e86\uff0c\u901a\u8fc7\u76d1\u542c\u4e0a\u4e00\u7ea7\u8282\u70b9\uff0c\u964d\u4f4e\u4e86\u4e89\u62a2\u6b21\u6570\uff0c\u8fd8\u5b9e\u73b0\u4e86\u516c\u5e73\u9501\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">redis\uff1aredis\u56e0\u4e3a\u662f\u5ba2\u6237\u7aef\u81ea\u5df1\u4e3b\u52a8\u9694\u4e00\u6bb5\u65f6\u95f4\u53bb\u5c1d\u8bd5\u52a0\u9501\uff0c\u6240\u4ee5\u7f8a\u7fa4\u6548\u5e94\u5f71\u54cd\u4e0d\u5927\uff0c\u56e0\u4e3a\u8bf7\u6c42\u90fd\u9519\u5f00\u4e86\uff0c\u800c\u4e0d\u662f\u4e00\u7fa4\u4e00\u62e5\u800c\u4e0a\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u5173\u4e8eg1\u6211\u6709\u4e2a\u7591\u60d1\uff0c\u5c31\u662f\u5982\u679c\u9009\u62e9\u51cf\u5c0fgc\u8017\u65f6\uff0c\u90a3\u662f\u4e0d\u662f\u610f\u5473gc\u7684\u6b21\u6570\u4f1a\u589e\u591a\u3002\u90a3\u9009\u62e9\u51cf\u5c11\u65f6\u95f4\u662f\u56e0\u4e3a\u5b83\u7684\u6536\u76ca\u5927\u4e8egc\u6b21\u6570\u7684\u589e\u52a0\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4f60\u7406\u89e3\u7684\u6ca1\u95ee\u9898\uff0cgc\u9891\u7387\u591a\u70b9\uff0c\u4f46\u662f\u6bcf\u6b21gc\u8017\u65f6\u5f88\u77ed\uff0c\u6ca1\u4e8b\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u80fd\u4e0d\u80fd\u5bf9 \u8fd9\u79cd\u7c7b\u578b\u7684\u95ee\u9898\u4e0a\u4e00\u8bfe \u6700\u8fd1\u91d1\u4e5d\u94f6\u5341 \u80af\u5b9a\u6709\u5f88\u591a\u540c\u5b66\u8981\u9762\u8bd5 \u6bd4\u5982\u8fd9\u4e2a\u9898\u76ee \u51cc\u6668\u4e09\u70b9\u53d1\u751f\u4e86\u4e00\u6b21oom \u600e\u4e48\u8ffd\u8e2a\u89e3\u51b3<\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u95ee\u9898\u5f88\u597d\uff0c\u8fd9\u4e2a\u5728\u540e\u9762\u7684OOM\u76f8\u5173\u6848\u4f8b\u91cc\u4f1a\u5206\u6790\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u597d\uff0c\u521a\u624d\u770b\u5230\u6709\u540c\u5b66\u7684\u603b\u7ed3\uff1a&nbsp;<\/p><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;padding-left:30px;\"><li><p style=\"line-height: 2em;\">G1\uff0c\u65b0\u751f\u4ee3\u672a\u8fbe\u523060%\uff0c\u8001\u5e74\u4ee3\u672a\u8fbe\u523045%\uff0c\u5219\u4e0d\u8fdb\u884cGC \u60a8\u7684\u56de\u7b54\u662f\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u4ece\u60a8\u7684\u6587\u7ae0\u4e2d\u627e\u5230\u7684\uff0c\u65b0\u751f\u4ee3\u4e0d\u523060%\uff0c\u53ea\u8981ygc\u65f6\u95f4\u63a5\u8fd1\u9884\u8bbeGC\u65f6\u95f4\u65f6\u5c31\u4f1a\u8fdb\u884cGC\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">&nbsp;\u770b\u4e86\u4e00\u4e0b\u6211\u4eec\u7684\u7ebf\u4e0a\u7cfb\u7edf\uff0c\u53d1\u73b0ygc\u4e4b\u540e\uff0csurvivor\u533a\u5df2\u7ecf\u8fbe\u5230\u4e86\u5c06\u8fd190%\uff0c\u4f46\u662f\u6ca1\u6709\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u8fd9\u662f\u4e0d\u662f\u610f\u5473\u7740\u8981\u4e48\u6240\u6709\u5bf9\u8c61\u90fd\u662f\u540c\u5c81\u7684\uff0c\u8981\u4e48\u81f3\u5c1141%\u7684\u5bf9\u8c61\u662f\u5927\u5e74\u9f84\u4e14\u540c\u5c81\u7684\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><\/li><\/ol><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u6709\u7684\u56de\u590d\u53ef\u80fd\u662f\u6ca1\u770b\u6e05\u695a\u4ed6\u4eec\u7684\u95ee\u9898\uff0cG1\u7684\u8bdd\uff0c\u6709\u53ef\u80fd\u8fbe\u5230\u9884\u671f\u7684gc\u65f6\u95f4\u540e\u4ed6\u5c31\u4f1a\u89e6\u53d1gc\uff0c\u4e0d\u662f\u56fa\u5b9a\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u770b\u5230\u8001\u5e74\u4ee3\u9a7b\u7559\u5927\u91cf\u5bf9\u8c61\uff0c\u60f3\u5230\u7684\u7adf\u7136\u662f\u8001\u5e74\u4ee3\u7a7a\u95f4\u592a\u5c0f\uff0c\u9700\u8981\u6269\u5927\uff0c\u800c\u4e0d\u662f\u5176\u4ed6\u95ee\u9898\uff0c\u770b\u6765\u8fd8\u662f\u6ca1\u5b66\u5230\u5bb6\u5440<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u6240\u4ee5\u8981\u591a\u5b66\u6848\u4f8b\uff0c\u79ef\u7d2f\u7ecf\u9a8c<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u6253\u5361\uff0c\u4eca\u5929\u8bb2\u89e3\u4e86cpu\u8d1f\u8f7d\u9ad8\u7684\u539f\u56e0\uff0c\u590d\u4e60\u4e86\u9891\u7e41fullGC\u7684\u539f\u56e0\uff0c\u7ed9\u4e86\u4e00\u4e2a\u5206\u6790\u5806\u5185\u5b58\u7684\u5b9e\u7528\u5de5\u5177MAT\u3002\u7ed9\u529b\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4eca\u5929\u5176\u5b9e\u4ee5\u590d\u4e60\u4e3a\u4e3b<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u6211\u975e\u5e38\u6fc0\u52a8\uff0c\u4eca\u5929\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u53d1\u73b0\u548c\u4e0a\u5468\u7684\u6848\u4f8b\u57fa\u672c\u4e00\u81f4\uff0c\u5c31\u662f\u6781\u7aef\u60c5\u51b5\u4e0b\uff0cSQL\u4e2din\u6761\u4ef6\u8bed\u53e5\u5305\u542b\u5341\u51e0\u4e07\u4e2aID\uff0c\u4e00\u4e2aSQL\u8bed\u53e5\u7684String\u5bf9\u8c61\u5f88\u5927\uff0c\u5bfc\u81f4Full GC\uff0c\u7136\u540e\u8fd8\u6709\u4e00\u79cd\u573a\u666fin\u6761\u4ef6\u662f\u7a7a \uff0cSQL\u662fselect * from DB\u7684(\u4ee3\u7801\u6211\u5199\u7684\uff0c\u975e\u5e38\u60ed\u6127)\u4e00\u4e0b\u52a0\u8f7d\u5341\u51e0\u4e07\u7684\u6570\u636e\u51fa\u6765\uff0c\u5bfc\u81f4full gc\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u9664\u4e86\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u4eca\u5929\u7684\u4f8b\u5b50\u4e5f\u548c\u6211\u4eec\u7cfb\u7edf\u5f88\u60f3\uff1a\u901a\u8fc7cat\u89c2\u5bdfcms\u7ba1\u7406\u7684\u5185\u5b58\u5e73\u65f6\u4e00\u822c\u90fd\u5728800m\u5de6\u53f3\uff0c\u4f46\u662f\u6700\u8fd1\u4e00\u76f4\u6da8\u52301300m\u5de6\u53f3\uff0c\u6301\u7eed\u4e86\u5f88\u4e45\u90fd\u4e0d\u4f1a\u964d\u4f4e\uff0c\u8001\u5e74\u4ee32000m\uff0c68%\u5c31\u4f1a\u89e6\u53d1Full GC\uff0c\u4e5f\u5c31\u662f1300\u5de6\u53f3\u5c31\u4f1a\u53d1\u751fGC\uff0c\u6211\u521d\u6b65\u6000\u7591\u662f\u54ea\u91cc\u5185\u5b58\u6cc4\u6f0f\u4e86\uff0c\u5bfc\u81f4\u8fd9\u91cc\u5360\u4e86\u51e0\u767eMB\u5185\u5b58\u4e0d\u91ca\u653e\uff0c\u8fd9\u4e2a\u8fd8\u6709\u5f85\u67e5\u8be2\u3002\u51c6\u5907\u5c06\u8fd9\u4e2a\u6cc4\u6f0f\u627e\u51fa\u6765\uff0c\u7136\u540e\u8c03\u6574\u4e00\u4e0bJVM\u53c2\u6570\uff0c\u4f18\u5316\u4e00\u6ce2\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u975e\u5e38\u597d\uff0c\u770b\u6765\u6848\u4f8b\u4e2d\u78b0\u5230\u7684\u4f8b\u5b50\uff0c\u4f60\u81ea\u5df1\u5de5\u4f5c\u91cc\u90fd\u78b0\u5230\u4e86\uff0c\u4e00\u4e2a\u662fSQL\u8bef\u64cd\u4f5c\u52a0\u8f7d\u8fc7\u591a\u6570\u636e\u89e6\u53d1\u7684Full GC\uff0c\u4e00\u4e2a\u662f\u5185\u5b58\u6cc4\u6f0f\u5bfc\u81f4\u8001\u5e74\u4ee3\u91cc\u4e00\u76f4\u5360\u7528\u4e86\u8fc7\u591a\u5185\u5b58\u3002\u53ef\u4ee5dump\u4e00\u4e2a\u5185\u5b58\u5feb\u7167\u51fa\u6765\uff0c\u7528MAT\u5206\u6790\u4e00\u4e0b<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u53e6\u5916\u6709\u70b9\u7591\u95ee\uff0c\u5927\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u6211\u7f51\u4e0a\u627e\u8d44\u6599\u8bf4\u662f\u9ed8\u8ba4\u5927\u5bf9\u8c61\u9608\u503c\u662f0\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f1a\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u8fd9\u4e2a\u662f\u771f\u7684\u5417\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6211\u611f\u89c9\u6211\u7684\u95ee\u9898\u4e5f\u662f\u56e0\u4e3a\u5f88\u5927\u7684String\u76f4\u63a5\u8fdb\u5165\u4e86\u8001\u5e74\u4ee3\u624d\u5bfc\u81f4\u51e0\u767eMB\u65e0\u6cd5\u91ca\u653e<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u5927\u5bf9\u8c61\u4f1a\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\uff0c\u4f46\u662f\u5177\u4f53\u8981\u770b\u4e0d\u540c\u7248\u672c\u7684JDK\u9ed8\u8ba4\u53c2\u6570\u662f\u4ec0\u4e48<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u4f60\u597d\uff0c\u6211\u6570\u636e\u5e73\u53f0\u6709\u4e00\u4e2a\u62a5\u8868\u5bfc\u51fa\uff0c\u5bfc\u51fa\u7684\u65f6\u5019\u56e0\u4e3a\u5806\u5185\u5b58\u4e0d\u8db3\u800c\u5931\u8d25\uff0c\u4f46\u662f\u540e\u9762CMS\uff0c\u4f1a\u4e00\u76f4\u8fdb\u884c\u6807\u8bb0\u6e05\u7406\uff0c\u8001\u5e74\u4ee3\u57fa\u672c\u4e0a\u662f\u5360\u6ee1\u7684\uff0cS1,S2\u6ca1\u6709\u4efb\u4f55\u5360\u7528\uff0cjstat \u770b\u5230jvm\u4e00\u76f4\u5728\u8fdb\u884c YGC \u548c FGC<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u4f46\u662f\u8001\u5e74\u4ee3\u4e00\u76f4\u4e0d\u51cf\u5c11\uff0c\u53ea\u6709\u5728eden\u533a\u5360\u6ee1\u4ee5\u540e\u6267\u884c\u540e\u7684YGC\uff0c\u624d\u4f1a\u5c06\u8001\u5e74\u4ee3\u7684\u5360\u7528\u771f\u6b63\u7684\u56de\u6536\uff0c\u8bf7\u95ee\u80fd\u5426\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u662f\u4e3a\u4ec0\u4e48\uff1f&nbsp;<\/p><p style=\"line-height: 2em;\"><span style=\"font-size: 14px; line-height: 1.5;\">-XX:InitialHeapSize=1073741824 -XX:MaxHeapSize=1073741824 -XX:NewSize=838860800 -XX:MaxNewSize=838860800 -XX:MetaspaceSize=104857600 -XX:SoftRefLRUPolicyMSPerMB=2000 -XX:SurvivorRatio=2 -XX:MaxTenuringThreshold=15 -XX:PretenureSizeThreshold=20971520 -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=95 -XX:+UseCMSCompactAtFullCollection -XX:CMSFullGCsBeforeCompaction=0 -XX:+CMSParallelInitialMarkEnabled -XX:+CMSScavengeBeforeRemark -XX:+TraceClassLoading -XX:+TraceClassUnloading -XX:+PrintGCDetails -XX:+PrintGCDateStamps -verbose:gc -Xloggc:.\/filebeat\/gc.log -XX:ErrorFile=.\/logs\/jvm_error.log -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=.\/logs\/heapdump.hprof 204800.0 204800.0 0.0 0.0 409600.0 313375.4 229376.0 229352.0 \ufffd \ufffd 252 1.854 467 54.764 56.618 \u8fd8\u6709\u5c31\u662f\u5143\u6570\u636e\u533a\u662f\u4e71\u7801\u7684<\/span><\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u672c\u8d28\u8fd8\u662f\u4f60\u4ee3\u7801\u7684\u95ee\u9898\uff0c\u5e94\u8be5\u662f\u5927\u91cf\u7684\u6570\u636e\u5360\u6ee1\u4e86\u8001\u5e74\u4ee3\uff0c\u6ca1\u5904\u7406\u5b8c\u5c31\u56de\u6536\u4e0d\u6389<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8bf7\u95ee\u4e00\u4e0b[Loaded sun.reflect.GeneratedMethodAccessor129 from __JVM_DefineClass__]\u4ece\u8fd9\u884c\u65e5\u5fd7\u662f\u548b\u770b\u51fa\u6765GeneratedMethodAccessor\u4f1a\u88ab\u52a0\u8f7d\u5230MetaSpace\u7684, \u8fd9\u884c\u65e5\u5fd7\u597d\u50cf\u6ca1\u6709\u63d0\u4f9b\u7c7b\u88ab\u52a0\u8f7d\u5230\u54ea\u91cc\u7684\u4fe1\u606f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u7b2c\u4e00\u4e2a\u82f1\u6587\u5355\u8bcd\uff0cLoaded\uff0c\u5c31\u662f\u52a0\u8f7d\u7684\u610f\u601d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">cms\u5b58\u5728\u7684\u95ee\u9898\uff0c\u6d6e\u52a8\u5783\u573e\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\uff0c\u7a7a\u95f4\u788e\u7247\u56e0\u4e3a\u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff0c\u5e76\u53d1\u6267\u884c\u5931\u8d25\u4e5f\u662f\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\u7684\u8bbe\u8ba1\u53ef\u80fd\u5b58\u5728\u9884\u7559\u7684\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\u3002\u4f46\u662fcms\u5bf9\u7a7a\u95f4\u788e\u7247\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u63d0\u4f9b\u4e86\u5185\u5b58\u7684\u6574\u7406\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u53bb\u63a7\u5236\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\uff0c\u5e76\u4e14\u6bcf\u6b21fullgc\u540e\u90fd\u53bb\u6574\u7406\u5185\u5b58\uff0c\u4f46\u662f\u5c31\u9700\u8981stw\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6700\u540e\uff0cfullgc\u7684\u53d1\u751f\u60c5\u51b5\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1.\u8001\u5e74\u4ee3\u53ef\u7528\u5185\u5b58\u5c0f\u4e8e\u65b0\u751f\u4ee3\u5168\u90e8\u5bf9\u8c61\u7684\u5927\u5c0f\uff0c\u53c8\u6ca1\u6709\u5f00\u542f\u7a7a\u95f4\u62c5\u4fdd\uff0c\u5c31\u4f1a\u76f4\u63a5\u89e6\u53d1fullgc\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">2.\u5982\u679c\u65b0\u751f\u4ee3\u5b58\u6d3b\u5927\u5c0f\u5927\u4e8e\u8001\u5e74\u4ee3\u7a7a\u95f4\uff0c\u5e76\u4e14\u8001\u5e74\u4ee3\u7a7a\u95f4\u5c0f\u4e8e\u5386\u6b21\u664b\u5347\u7684\u5e73\u5747\u5185\u5b58\u5927\u5c0f\uff0c\u4e5f\u4f1a\u6267\u884cfullgc\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">3.\u5927\u5bf9\u8c61\u6216\u8005\u52a8\u6001\u5e74\u9f84\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u800c\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\uff0c\u4e5f\u4f1a\u6267\u884cfullgc\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">4.\u5982\u679c\u662fcms\u56de\u6536\u5668\uff0c\u90a3\u4e48\u8001\u5e74\u4ee3\u5185\u5b58\u4f7f\u7528\u523092%\u4e4b\u540e\uff0c\u5c31\u4f1a\u89e6\u53d1fullgc\uff0c\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\u9636\u6bb5\u9700\u8981\u7ed9\u7528\u6237\u7ebf\u7a0b\u9884\u7559\u5185\u5b58\u7a7a\u95f4\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4e00\u822c\u516c\u53f8\u7ebf\u4e0a\u7cfb\u7edf\u662f\u7981\u7528dump\u5185\u5b58\u5feb\u7ebf\u7684\u5417\u3002\u6211\u4eec\u88ab\u8fd0\u7ef4\u7981\u4e86<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u7ebf\u4e0a\u673a\u5668\u4e00\u822c\u6765\u8bf4\u4f1a\u7981\u6b62\u6267\u884cdump\uff0c\u56e0\u4e3adump\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u505c\u673a\u51e0\u79d2\u949f\uff0c\u6216\u8005\u51e0\u767e\u6beb\u79d2\uff0c\u53ef\u4ee5\u8ddf\u8fd0\u7ef4\u6c9f\u901a\uff0c\u8ba9\u4ed6\u4eec\u7ed9\u4f60dump\u4e00\u4e2a\u5feb\u7167\u51fa\u6765<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u6253\u5361\u3002MAT\u597d\u7528\uff0c\u4f46\u662f\u529f\u80fd\u591a\u9700\u8981\u6162\u6162\u6478\u7d22<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u975e\u5e38\u597d\u7528\uff0c\u4e0d\u8fc7\u6587\u7ae0\u91cc\u4ecb\u7ecd\u7684\u51e0\u4e2a\u5e38\u7528\u529f\u80fd\u57fa\u672c\u591f\u7528\u4e86\uff0c\u5176\u5b9e\u4e00\u822c\u4e3b\u8981\u5c31\u662f\u770b\u5360\u7528\u5185\u5b58\u6700\u591a\u7684\u5bf9\u8c61\uff0c\u8ffd\u8e2a\u4e00\u4e0b\u54ea\u4e2a\u7ebf\u7a0b\uff0c\u7136\u540e\u770b\u4e00\u4e0b\u7ebf\u7a0b\u6267\u884c\u5806\u6808<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u60a8\u597d\uff01\u6211\u6700\u8fd1\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6709\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1\uff0c\u6bcf5\u79d2\u53bb\u8bfb\u53d6\u4e00\u5f20\u8868\u4e2d\u7684\u6570\u636e\uff0c\u8fd9\u5f20\u8868\u5927\u6982\u67097000\u591a\u884c\uff0c\u6bcf\u884c\u5927\u69823KB<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7406\u8bba\u4e0a\uff0c\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u6700\u5927\u5dee\u4e0d\u591a30MB\u5de6\u53f3\uff0c\u4f46\u6211\u901a\u8fc7jstat\u53d1\u73b0\uff0c\u5230\u5e95\u6bcf5\u79d2\u949f\uff0c\u52a0\u8f7d\u4e86\u5927\u6982300MB\u7684\u6570\u636e\uff0c\u6211\u5bf9\u6b64\u5f88\u56f0\u60d1\uff0c\u671b\u8001\u5e08\u6216\u8005\u5176\u4ed6\u540c\u5b66\u80fd\u591f\u89e3\u7b54\u4e00\u4e0b\uff5e<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5f88\u6b63\u5e38\u7684\uff0c\u56e0\u4e3a\u5b9e\u9645\u52a0\u8f7d\u5230\u5185\u5b58\u91cc\uff0c\u4f60\u6709\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\uff0c\u8fd8\u6709\u4e00\u4e9b\u5bf9\u8c61\u672c\u8eab\u4e5f\u4f1a\u5360\u636e\u5185\u5b58\u7a7a\u95f4\uff0c\u5b9e\u9645\u5185\u5b58\u6d88\u8017\u5f80\u5f80\u6bd4\u4f60\u6570\u636e\u672c\u8eab\u5927\u5c0f\u8981\u5927\u5f88\u591a<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><ol class=\" list-paddingleft-2\" style=\"list-style-type: decimal;padding-left:30px;\"><li><p style=\"line-height: 2em;\">JVM\u662f\u4ec0\u4e48 \u7b54\uff1a\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8d1f\u8d23\u8fd0\u884cjava\u7f16\u8bd1\u597d\u7684\u5b57\u8282\u7801\u6587\u4ef6(.class)\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">JVM\u8ddf\u6211\u4eec\u5e73\u65f6\u8fd0\u884c\u5728\u673a\u5668\u4e0a\u7684\u7cfb\u7edf\u4e4b\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb \u7b54\uff1aJVM\u5177\u6709\u8de8\u5e73\u53f0\u6027\uff0c\u53ef\u4ee5\u5728\u591a\u79cd\u7cfb\u7edf\u4e0a\u6267\u884c\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">\u7c7b\u52a0\u8f7d\u5668\u7684\u6982\u5ff5 \u7b54\uff1a\u628a\u7f16\u8bd1\u597d\u7684\u90a3\u4e9b&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6\u7ed9\u52a0\u8f7d\u5230JVM\u4e2d\u3002<\/p><\/li><li><p style=\"line-height: 2em;\">\u5b57\u8282\u7801\u6267\u884c\u5f15\u64ce\u7684\u6982\u5ff5 \u7b54\uff1a\u9488\u5bf9\u52a0\u8f7d\u8fdb\u5185\u5b58\u7684\u7c7b\u8fdb\u884c\u4ee3\u7801\u7684\u6267\u884c\u3002<\/p><\/li><\/ol><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u5f97\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u73b0\u5728\u4e0d\u662f\u5f88\u6e05\u695a\u5e74\u8f7b\u4ee3\u7684gc root\u8ddf\u8e2a\u548c\u8001\u5e74\u4ee3\u7684gc root\u8ddf\u8e2a\uff0c\u662f\u4e0d\u662f\u90fd\u662f\u4ecegc root\u53bb\u627e\u5f15\u7528\u7684\u5bf9\u8c61\uff1f\u8fd8\u662f\u5e74\u8f7b\u4ee3\u7684\u76f4\u63a5\u4ecegc root\u904d\u5386\uff0c\u8001\u5e74\u4ee3\u5f97\u5e76\u53d1\u6807\u8bb0\uff0c\u4ece\u8001\u5e74\u4ee3\u4e2d\u7684\u5bf9\u8c61\u53bb\u627egc root<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u90fd\u662f\u4ecegc roots\u5f00\u59cb\u8ffd\u8e2a\u7684<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u4f60\u597d\uff0c\u6211\u5728\u52a8\u6001\u5e74\u9f84\u5224\u65ad\u90a3\u5757\u6709\u70b9\u7591\u95ee\uff0c\u5047\u5982survivor\u5185\u5b58100m\uff0c\u73b0\u5728\u5df2\u7ecf\u5360\u7528\u4e8645m,\u90a3\u4e48\u6b64\u65f6\u6765\u4e86\u4e00\u517155m\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u4e4b\u524d\u6240\u6709\u7684\u5bf9\u8c61\u5168\u90e8\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u4f46\u662f\u8fd955m\u8fd8\u662f\u5927\u4e8e\u4e00\u534a\uff0c\u5047\u5982\u90fd\u662f1\u5c81\u4f1a\u600e\u4e48\u5904\u7406\u5462\uff0c\u6309\u5bf9\u8c61\u7684\u521b\u5efa\u65f6\u95f4\u8fdb\u5165\u5230\u8001\u5e74\u4ee3\u5417\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u5bf9\u7684\uff0c\u4e5f\u6709\u53ef\u80fd\u4f1a\u8fdb\u5165\u8001\u5e74\u4ee3<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u597d\uff0c\u5173\u4e8e\u52a8\u6001\u5bf9\u8c61\u5e74\u9f84\u5224\u65ad\uff0c\u6211\u7406\u89e3\u7684\u8fd8\u662f\u4e0d\u6e05\u6670\uff0c\u6211\u73b0\u5728\u7406\u89e3\u7684\u662f\u5224\u65ad\u5404\u4e2a\u5e74\u9f84\u6bb5\u4e4b\u548c\u662f\u4e0d\u662f\u8d85\u8fc7\u4e86survivor\u7684\u4e00\u534a\uff0c\u4f46\u662f\u201c\u5404\u4e2a\u5e74\u9f84\u201d\u5305\u542b\u672c\u6b21gc\u4e4b\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61\u5417\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\u4e00\u534a\uff0c\u90a3\u4e48\u672c\u6b21gc\u4e4b\u540e\u7684\u5bf9\u8c61\u4f1a\u8fdb\u5165\u8001\u5e74\u4ee3\u5417<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u5176\u5b9e\u5173\u4e8e\u8fd9\u91cc\u7684\u5b9e\u73b0\uff0c\u4e0d\u7528\u8fc7\u4e8e\u627e\u91cc\u9762\u7684\u7ec6\u8282\uff0c\u56e0\u4e3a\u4e0d\u540cJDK\u7248\u672c\u5b9e\u73b0\u90fd\u4e0d\u540c\u3002\u4f60\u53ea\u8981\u77e5\u9053\u51e0\u70b9<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b2c\u4e00\uff0c\u6709\u52a8\u6001\u5e74\u9f84\u5224\u5b9a\u89c4\u5219<\/p><p style=\"line-height: 2em;\">\u7b2c\u4e8c\uff0c\u6709\u53ef\u80fd\u56e0\u4e3ayoung gc\u540e\u5b58\u6d3b\u5bf9\u8c61\u8fc7\u591a\u5bfc\u81f4\u8fdb\u5165survivor\u5bf9\u8c61\u592a\u591a\uff0c\u89e6\u53d1\u8fd9\u4e2a\u89c4\u5219<\/p><p style=\"line-height: 2em;\">\u7b2c\u4e09\uff0c\u53ef\u80fd\u56e0\u4e3a\u8fd9\u4e2a\u89c4\u5219\u5bfc\u81f4\u5f88\u591a\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u5b66\u8fd9\u4e2a\u4e13\u680f\uff0c\u611f\u89c9\u5c31\u5728\u4e0a\u8bfe\uff0c\u4e0d\u65ad\u5b66\u4e60\uff0c\u4e0d\u65ad\u7684\u590d\u4e60<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4e00\u5473\u7684\u8bb2\u65b0\u5185\u5bb9\u5f80\u524d\u8d76\u8fdb\u5ea6\u662f\u4e0d\u9760\u8c31\u7684\uff0c\u8981\u4e0d\u65ad\u7684\u6709\u65b0\u7684\u77e5\u8bc6\uff0c\u540c\u65f6\u4e0d\u65ad\u5e26\u7740\u4e4b\u524d\u65e7\u7684\u77e5\u8bc6\u53cd\u590d\u5f3a\u5316\uff0c\u8fd8\u8981\u5b9a\u671f\u590d\u4e60\uff0c\u6700\u540e\u8ddf\u7740\u770b\u5b8c\uff0c\u5bf9\u6838\u5fc3\u77e5\u8bc6\u7edd\u5bf9\u90fd\u6d88\u5316\u7684\u5f88\u5f7b\u5e95\uff0c\u5f53\u7136\u81ea\u5df1\u4e5f\u5f97\u6ce8\u610f\u590d\u4e60\u548c\u7406\u89e3\uff0c\u8fd8\u6709\u7ed3\u5408\u81ea\u5df1\u7684\u5b9e\u9645\u5de5\u4f5c\u60c5\u51b5\u53bb\u79ef\u7d2f<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5b66\u5458\u601d\u8003\u9898\u56de\u7b54\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1.\u8c03\u6574s\u533a\u5230\u80fd\u591f\u88c5\u4e0b\u6bcf\u6b21minorgc\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">2.\u8c03\u6574\u52a8\u6001\u5e74\u9f84\u5224\u65ad\uff0c\u53ef\u4ee5\u8003\u8651\u51cf\u5c0f\u9ed8\u8ba4\u503c\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">3.\u8bbe\u7f6e\u5927\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\u5224\u65ad\uff0c\u53ef\u4ee5\u8003\u8651\u8bbe\u7f6e\u4e3a1m\u3002&nbsp;<\/p><p style=\"line-height: 2em;\">4.\u8bbe\u7f6e\u56de\u6536\u5668\u7ec4\u5408\uff0c\u4e00\u822c\u54cd\u5e94\u4f18\u5148\u5c31\u4f7f\u7528parnew+cms<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u7cfb\u7edf\u7ed9\u4e863g\u5806\u5185\u5b58\uff0c\u4f46\u662fdump\u51fa\u6765\u7684\u6587\u4ef6\u6253\u5f00\u770b\u53ea\u6709500mb\uff0c\u8fd9\u4e2a\u600e\u4e48\u89e3\u91ca<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5f88\u6b63\u5e38\uff0c\u8bf4\u660e\u4f60\u7684\u5185\u5b58\u5360\u7528\u5e76\u6ca1\u6709\u5360\u7528\u6ee13g\uff0c\u5c31\u4f7f\u7528\u4e86500mb\u5de6\u53f3\u7684\u5185\u5b58\uff0c\u53e6\u5916\u4e00\u4e2adump\u5feb\u7167\u4e5f\u4f1a\u505a\u4e00\u4e9b\u4e8c\u8fdb\u5236\u5b58\u50a8\uff0c\u4e0d\u4e00\u5b9a\u8ddf3g\u4e00\u6837<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">\u5173\u4e8e\u8001\u5e74\u4ee3\u7684\u4f18\u5316\uff0c\u90fd\u662f\u5efa\u7acb\u5728\u65b0\u751f\u4ee3\u5df2\u7ecf\u8fdb\u884c\u4f18\u5316\u7684\u524d\u63d0\u4e0b\u3002\u7136\u540e\u5206\u6790\u4ec0\u4e48\u60c5\u51b5\u4e0b\u5bf9\u8c61\u4f9d\u65e7\u4f1a\u8fdb\u53bb\u8001\u5e74\u4ee3\uff0c\u591a\u4e45\u4f1a\u586b\u6ee1\u8001\u5e74\u4ee3\uff0c\u518d\u6839\u636e\u5783\u573e\u56de\u6536\u5668\u7684\u7279\u6027\uff0c\u53bb\u8bbe\u7f6e\u5bf9\u5e94\u7684\u53c2\u6570\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u4e00\u822c\u6765\u8bf4\u8001\u5e74\u4ee3\u7684\u53c2\u6570\u4fdd\u6301\u9ed8\u8ba4\u5c31\u597d\u4e86\uff0c\u65b0\u751f\u4ee3\u4f18\u5316\u597d\u4e86\uff0c\u5f88\u5c11\u751a\u81f3\u51e0\u4e4e\u4e0d\u4f1a\u53d1\u751ffullgc\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u6211\u53d1\u73b0\u4e00\u6b21young gc\u5e76\u6ca1\u6709\u5c06Eden\u533a\u6e05\u7a7a\uff0c\u800c\u662f\u4f1a\u6709\u90e8\u5206\u4fdd\u7559\u662f\u600e\u4e48\u56de\u4e8b\u5462\uff1f\u662f\u6211\u5f04\u7684\u4e0d\u5bf9\u8fd8\u662f\u6709\u4ec0\u4e48\u8bf4\u9053\u7684\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u4e0d\u662f\u7684\uff0c\u5b9e\u9645\u4e0a\u4f60\u8bf4\u7684\u90a3\u79cd\u662f\u4ed6\u521aygc\u5b8c\uff0c\u7136\u540e\u5c31\u6709\u5bf9\u8c61\u8fdb\u5165\u4e86eden\uff0c\u6240\u4ee5\u4f60\u5c31\u770b\u5230\u90a3\u6837\u5b50\u4e86<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a<\/p><p style=\"line-height: 2em;\">g1\u662f\u4ee5\u5783\u573e\u56de\u6536\u4f18\u5148\u7684\u56de\u6536\u5668\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u5c06\u5185\u5b58\u533a\u57df\u5212\u5206\u6210region\u7136\u540e\u7ef4\u62a4\u4e00\u4e2a\u56de\u6536\u4ef7\u503c\u5217\u8868\uff0c\u5efa\u7acb\u4e00\u4e2a\u53ef\u9884\u6d4b\u7684\u65f6\u95f4\u505c\u987f\u6a21\u578b\u3002\u5185\u90e8\u4fdd\u7559\u4e86\u5e74\u4ee3\uff0c\u4f46\u662f\u4ec5\u4ec5\u662f\u903b\u8f91\u4e0a\u8fdb\u884c\u4e86\u4fdd\u7559\uff0c\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u4f1a\u6839\u636e\u9700\u8981\u8fdb\u884c\u53d8\u5316\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3:&nbsp;<\/p><p style=\"line-height: 2em;\">rabbitmq\u4e22\u5931\u6570\u636e\u7684\u60c5\u51b5\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\u3002\u6d88\u606f\u56e0\u4e3a\u7f51\u7edc\u95ee\u9898\u4e22\u5931\u6216\u8005\u53d1\u9001\u5230rabbitmq\u65f6\u51fa\u9519\u4e86\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001rabbitmq\u670d\u52a1\u7aef\u3002\u672a\u505a\u6301\u4e45\u5316\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u6d88\u8d39\u8005\u7aef\u3002\u6253\u5f00\u4e86autoAck\uff0c\u5728\u672a\u5b8c\u6210\u6d88\u8d39\u4e4b\u524d\u5c31\u81ea\u52a8\u56de\u590d\u4e86\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">rabbitmq\u4e22\u5931\u6570\u636e\u7684\u89e3\u51b3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\u3002<\/p><p style=\"line-height: 2em;\">\u901a\u8fc7confirm\u6a21\u5f0f\u5f02\u6b65\u786e\u8ba4\u6d88\u606f\u53d1\u9001\u6210\u529f\uff0c\u5728\u5931\u8d25\u540e\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u5904\u7406\u5931\u8d25\u7684\u903b\u8f91\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001\u670d\u52a1\u7aef\u3002<\/p><p style=\"line-height: 2em;\">\u6253\u5f00\u6301\u4e45\u5316\u673a\u5236\u3002\u8fd9\u91cc\u6d89\u53ca\u5230\u4e24\u4e2a\u53c2\u6570\uff0c\u4e00\u4e2a\u662f\u5efa\u7acbqueue\u7684\u65f6\u5019\uff0c\u6301\u4e45\u5316\u90a3\u4e2aqueue\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u53e6\u5916\u4e00\u4e2a\u662f\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\u7684\u65f6\u5019\uff0c\u628adeliveryMode\u8bbe\u7f6e\u4e3a2\uff0c\u8ba9MQ\u628a\u8fd9\u6761\u6570\u636e\u4e5f\u7ed9\u6301\u4e45\u5316\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u4f46\u662f\u5c3d\u7ba1\u5982\u6b64\uff0c\u5982\u679c\u5728\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u5728rabbitmq\u4e2d\u5185\u5b58\u5199\u6210\u529f\uff0c\u4f46\u662f\u8fd8\u6ca1\u6765\u53ca\u6301\u4e45\u5316\u65f6\uff0crabbitmq\u5b95\u673a\uff0c\u8fd9\u90e8\u5206\u5728\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u4e5f\u4f1a\u4e22\u5931\uff0c\u4e0d\u8fc7\u51e0\u7387\u5f88\u5c0f\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u5728\u6d88\u8d39\u8005\u7aef\uff0c\u53bb\u6389autoAck\uff0c\u5728\u81ea\u5df1\u5b8c\u6210\u903b\u8f91\u540e\u624b\u52a8\u63d0\u4ea4ack\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">kafka\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u60c5\u51b5\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\uff1a\u548crabbitmq\u7c7b\u4f3c\uff0c\u5982\u679c\u6ca1\u80fd\u786e\u8ba4\u5199\u6210\u529f\uff0c\u4e5f\u6ca1\u6709\u91cd\u53d1\u90a3\u4e48\u4e5f\u4f1a\u4e22\u5931\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001\u670d\u52a1\u7aef\uff1a\u5982\u679c\u672a\u6765\u5f97\u53ca\u548c\u4ece\u8282\u70b9\u540c\u6b65\u6570\u636e\u5c31\u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u8fd9\u90e8\u5206\u6570\u636e\u5c31\u4f1a\u4e22\u5931\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u6d88\u8d39\u8005\u7aef\uff1a\u548crabbitmq\u7c7b\u4f3c\uff0c\u5982\u679c\u81ea\u52a8\u63d0\u4ea4offset\u4f9d\u65e7\u4f1a\u51fa\u73b0\u4e22\u5931\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">kafka\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u89e3\u51b3\uff1a&nbsp;<\/p><p style=\"line-height: 2em;\">1\u3001\u751f\u4ea7\u8005\u7aef\uff1a\u8bbe\u7f6e\u53c2\u6570\uff0c\u8981\u6c42\u6bcf\u4e2a\u4ece\u8282\u70b9\u90fd\u5199\u6210\u529f\u540e\u624d\u4efb\u52a1\u6210\u529f\uff0c\u53e6\u5916\u5982\u679c\u53d1\u9001\u5931\u8d25\uff0c\u91cd\u8bd5\u6b21\u6570\u8bbe\u7f6e\u4e00\u4e2a\u5f88\u5927\u7684\u503c\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">2\u3001\u670d\u52a1\u7aef\uff1a\u8bbe\u7f6e\u53c2\u6570\uff0c\u8981\u6c42\u4ece\u8282\u70b9\u8d77\u7801\u5927\u4e8e1\uff0c\u4e14\u81f3\u5c11\u6709\u4e00\u4e2a\u80fd\u88ab\u611f\u77e5\u5230\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">3\u3001\u6d88\u8d39\u8005\u7aef\uff1a\u53d6\u6d88\u6389\u81ea\u52a8\u56de\u590d\u3002 \u4e0d\u8fc7\uff0c\u5f3a\u4e00\u81f4\u7684\u4fdd\u8bc1\u6d88\u606f\u4e0d\u4e22\u5931\uff0c\u5fc5\u7136\u4f1a\u5f71\u54cd\u5230\u541e\u5410\u91cf\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u6253\u5361\uff0cjvm\u6027\u80fd\u4f18\u5316\u600e\u4e48\u505a\uff1f\u7528jstat\u5440\uff0c\u54c8\u54c8\uff0c\u795e\u5668\u5728\u624b\uff0c\u518d\u6765\u4e2amat\u5de5\u5177\uff0c\u8fd8\u627e\u4e0d\u5230\u95ee\u9898\uff1f\u5996\u602a\u5427\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u57fa\u672cgc\u65e5\u5fd7+jstat+MAT\u5c31\u8db3\u591f\u4e86<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">6.JVM\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u52a0\u8f7d\u4e00\u4e2a\u7c7b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b54:&nbsp;<\/p><p style=\"line-height: 2em;\">a.JVM\u8fdb\u7a0b\u542f\u52a8\u4e4b\u540e\uff0c\u4ee3\u7801\u4e2d\u5305\u542b&quot;main()&quot;\u65b9\u6cd5\u7684\u4e3b\u7c7b\u4e00\u5b9a\u4f1a\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u6267\u884c&quot;main()&quot;\u65b9\u6cd5\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230\u522b\u7684\u7c7b\u4e5f\u4f1a\u4ece\u5bf9\u5e94\u7684&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6\u52a0\u8f7d \u5bf9\u5e94\u7684\u7c7b\u5230\u5185\u5b58\u91cc\u9762\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">7.\u4e00\u4e2a\u7c7b\u4ece\u52a0\u8f7d\u5230\u4f7f\u7528\uff0c\u4e00\u822c\u4f1a\u7ecf\u5386\u54ea\u4e9b\u8fc7\u7a0b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b54\uff1a\u52a0\u8f7d-&gt;\u9a8c\u8bc1-&gt;\u51c6\u5907-&gt;\u89e3\u6790-&gt;\u521d\u59cb\u5316-&gt;\u4f7f\u7528-&gt;\u5378\u8f7d&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">a.\u52a0\u8f7d:\u5c06\u7f16\u8bd1\u597d\u7684&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6\u52a0\u8f7d\u5230JVM\u4e2d&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u9a8c\u8bc1:\u6839\u636eJVM\u89c4\u8303\uff0c\u6821\u9a8c\u52a0\u8f7d\u8fdb\u6765\u7684&quot;.class&quot;\u5b57\u8282\u7801\u6587\u4ef6&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">c.\u51c6\u5907:\u7ed9\u7c7b\u548c\u7c7b\u53d8\u91cf\u5206\u914d\u4e00\u5b9a\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4e14\u7ed9\u7c7b\u53d8\u91cf\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u521d\u59cb\u503c(0\u6216\u8005nul)&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">d.\u89e3\u6790:\u628a\u7b26\u53f7\u5f15\u7528\u66ff\u6362\u4e3a\u76f4\u63a5\u5f15\u7528\u7684\u8fc7\u7a0b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">e.\u521d\u59cb\u5316:\u6839\u636e\u7c7b\u521d\u59cb\u5316\u4ee3\u7801\u7ed9\u7c7b\u53d8\u91cf\u8d4b\u503c&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6ce8\uff1a\u6267\u884cnew\u51fd\u6570\u6765\u5b9e\u4f8b\u5316\u7c7b\u5bf9\u8c61\u4f1a\u89e6\u53d1\u7c7b\u52a0\u8f7d\u5230\u521d\u59cb\u5316\u7684\u5168\u8fc7\u7a0b\uff1b\u6216\u8005\u662f\u5305\u542b&quot;main()&quot;\u65b9 \u6cd5\u7684\u4e3b\u7c7b\uff0c\u5fc5\u987b\u662f\u7acb\u9a6c\u521d\u59cb\u5316\u7684\u3002\u5982\u679c\u521d\u59cb\u5316\u4e00\u4e2a\u7c7b\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u4ed6\u7684\u7236\u7c7b\u8fd8\u6ca1\u521d\u59cb\u5316\uff0c \u90a3\u4e48\u5fc5\u987b\u5148\u521d\u59cb\u5316\u4ed6\u7684\u7236\u7c7b\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">8.Java\u91cc\u6709\u54ea\u4e9b\u7c7b\u52a0\u8f7d\u5668&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7b54: a.\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668: \u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7d\u6211\u4eec\u5728\u673a\u5668\u4e0a\u5b89\u88c5\u7684Java\u76ee\u5f55(lib\u76ee\u5f55)\u4e0b\u7684\u6838\u5fc3\u7c7b\u5e93&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\uff1a\u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7dJava\u76ee\u5f55\u4e0b\u7684&quot;lib\/ext&quot;\u76ee\u5f55\u4e2d\u5f97\u7c7b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">C.\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\uff1a\u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7d&quot;ClassPath&quot;\u73af\u5883\u53d8\u91cf\u6240\u6307\u5b9a\u7684\u8def\u5f84\u4e2d\u7684\u7c7b\uff0c\u5927\u81f4 \u53ef\u4ee5\u7406\u89e3\u4e3a\u52a0\u8f7d\u6211\u4eec\u5199\u597d\u7684java\u4ee3\u7801&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">d.\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\uff1a\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u52a0\u8f7d\u7c7b&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">9.\u4ec0\u4e48\u662f\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236&nbsp;<\/p><p style=\"line-height: 2em;\">\u7b54\uff1aJVM\u7684\u7c7b\u52a0\u8f7d\u5668\u662f\u6709\u4eb2\u5b50\u5c42\u7ea7\u7ed3\u6784\u7684\uff0c\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u6700\u4e0a\u5c42\uff0c\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\u7b2c\u4e8c\u5c42\uff0c \u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\u7b2c\u4e09\u5c42\uff0c\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\u7b2c\u56db\u5c42\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5f53\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\u9700\u8981\u52a0\u8f7d\u4e00\u4e2a\u7c7b\u65f6\uff0c \u4ed6\u4f1a\u5148\u59d4\u6d3e\u7ed9\u81ea\u5df1\u7684\u7236\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\uff0c\u6700\u7ec8\u4f20\u5bfc\u5230\u9876\u5c42\u7684\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\uff0c\u4f46\u662f\u5982\u679c\u7236\u7c7b \u52a0\u8f7d\u5668\u5728\u81ea\u5df1\u8d1f\u8d23\u52a0\u8f7d\u7684\u8303\u56f4\u5185\uff0c\u6ca1\u627e\u5230\u8fd9\u4e2a\u7c7b\uff0c\u90a3\u4e48\u5c31\u4f1a\u4e0b\u63a8\u52a0\u8f7d\u6743\u5229\u7ed9\u81ea\u5df1\u7684\u5b50\u7c7b\u52a0\u8f7d\u5668<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\u7684\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u80fd\u8bf4\u8bf4RememberSet\u5417\uff0c\u6211\u5728\u6df1\u5165\u7406\u89e3JVM\u8fd9\u672c\u4e66\u4e0a\u770b\u5230\u4e86\u8001\u5e74\u4ee3\u5f15\u7528\u65b0\u751f\u4ee3\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u662f\u7528RememberSet\u6765\u907f\u514d\u5168\u5806\u626b\u63cf\uff0c\u90a3\u8fdb\u884cOld GC\u7684\u65f6\u5019\uff0c\u65b0\u751f\u4ee3\u5f15\u7528\u8001\u5e74\u4ee3\uff0c\u662f\u76f4\u63a5\u626b\u63cf\u6574\u4e2a\u65b0\u751f\u4ee3\u5417\uff1f\u6211\u770b\u6709\u7684\u535a\u5ba2\u6709\u8bf4\u9053CMS\u7684\u5e76\u53d1\u9884\u6e05\u7406\u8ddf\u53ef\u4e2d\u65ad\u5e76\u53d1\u9884\u6e05\u7406\uff0c\u8fd9\u53c8\u662f\u4ec0\u4e48\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u662f\u4e00\u4e9bJVM\u5e95\u5c42\u6e90\u7801\u7ea7\u522b\u7684\u539f\u7406\uff0c\u6211\u4eec\u8fd9\u4e2a\u4e13\u680f\u5b9a\u4f4d\u662f\u5b9e\u6218\u578b\u7684\uff0c\u57fa\u672c\u628a\u65e5\u5e38\u751f\u4ea7\u5b9e\u6218\u7684\u5185\u5bb9\u90fd\u5206\u6790\u8fc7\u4e86\uff0c\u800c\u4e14\u90fd\u662f\u7ed3\u5408\u6848\u4f8b\u7684\u3002\u6709\u4e00\u4e9b\u662f\u5c5e\u4e8e\u6df1\u5165\u5e95\u5c42\u7684\u6280\u672f\u7ec6\u8282\uff0c\u4f46\u662f\u8ddf\u5e73\u65f6\u5b9e\u6218\u4f18\u5316\u5173\u7cfb\u4e0d\u5927\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u6211\u4eec\u6ca1\u6709\u8bb2\u8fd9\u4e9b\u5185\u5bb9\u3002\u4e5f\u8bb8\u672a\u6765\u4f1a\u51fa\u90a3\u79cdJVM\u6e90\u7801\u7ea7\u522b\u7684\u6df1\u5165\u7684\u8bfe\u7a0b\uff0c\u4f1a\u8bf4\u5230\u4f60\u8bf4\u7684\u90a3\u4e9b\u5185\u5bb9\u3002<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4f60\u7684\u603b\u7ed3\u6b63\u662f\u6211\u5fc3\u4e2d\u60f3\u603b\u7ed3\u7684\uff0c\u9884\u6599\u4e4b\u4e2d\u3002jvm\u8fd0\u884c\u539f\u7406\u3001\u4ec0\u4e48\u65f6\u5019yong gc\u3001\u4ec0\u4e48\u65f6\u5019\u8fdb\u5165\u8001\u5e74\u4ee3\u3001\u4ec0\u4e48\u65f6\u5019full gc\u3001\u4e3a\u4ec0\u4e48\u4f1a\u9891\u7e41full gc\u3001\u5206\u6790\u5236\u5b9ajvm\u6a21\u677f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u5b9a\u671f\u590d\u4e60\u548c\u603b\u7ed3\u975e\u5e38\u7684\u91cd\u8981<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4e4b\u524d\u4e5f\u770b\u8fc7jvm\u7684\u4e66\uff0c\u770b\u4e86\u4e00\u4e9b\u89c6\u9891\uff0c\u4f46\u600e\u4e48\u4f18\u5316\u8fd8\u662f\u4e00\u5934\u96fe\u6c34\u3002\u5f88\u5e78\u8fd0\u9047\u5230\u4e86\u8001\u5e08\u7684\u4e13\u680f\uff0c\u73b0\u5728\u4e0d\u7ba1\u5bf9\u5b9e\u6218\u8fd8\u662f\u9762\u8bd5\u90fd\u5145\u6ee1\u4fe1\u5fc3\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6bcf\u5929\u90fd\u8981\u82b13-4\u4e2a\u5c0f\u65f6\u5b66\u4e60\u603b\u7ed3\uff0c\u73b0\u5728\u770b\u6587\u7ae0\u8fd8\u7b97\u8f7b\u677e\uff0c\u540e\u7eed\u8981\u628a\u8001\u5e08\u6240\u6709\u7684\u6848\u4f8b\u603b\u7ed3\u6210\u81ea\u95ee\u81ea\u7b54\u7684\u9762\u8bd5\u9898\u3002\u4e5f\u6839\u636e\u6240\u5b66\uff0c\u57fa\u4e8ejstat\u521d\u6b65\u505a\u4e86\u4e2a\u76d1\u63a7\u5c0f\u5de5\u5177\uff0c\u540e\u9762\u7ee7\u7eed\u5b8c\u5584\uff0c\u4e5f\u7b97\u662f\u5bf9\u4e13\u680f\u6700\u597d\u7684\u603b\u7ed3\u3002\u8c22\u8c22\u8001\u5e08\uff01\uff01\uff01\uff01\uff01\uff01<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u597d\u7684\uff0c\u4f60\u771f\u662f\u592a\u68d2\u4e86\uff0c\u4f60\u4eec\u5b66\u6709\u6240\u6210\uff0c\u771f\u6b63\u638c\u63e1JVM\u7684\u4f18\u5316\u5b9e\u6218\uff0c\u63d0\u5347\u56fd\u5185\u5de5\u7a0b\u5e08\u7684\u6280\u672f\u6c34\u5e73\uff0c\u5c31\u662f\u6211\u4eec\u5e0c\u671b\u505a\u7684\u4e8b\u60c5<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\u597d\uff0c\u7ebf\u4e0a\u4e5f\u51fa\u73b0\u4e86FUll GC\u7684\u544a\u8b66\uff0c\u65e5\u5fd7\u5982\u4e0b:&nbsp;<\/p><p style=\"line-height: 2em;\"><span style=\"font-size: 14px; line-height: 1.5;\">2019-09-05T17:26:15.161+0800: 85779.869: [Full GC (Metadata GC Threshold) 2019-09-05T17:26:15.161+0800: 85779.869: [CMS: 472256K-&gt;445559K(3022848K), 2.0333919 secs] 1425388K-&gt;445559K(4910336K), [Metaspace: 277217K-&gt;277217K(1511424K)], 2.0355295 secs] [Times: user=2.01 sys=0.01, real=2.03 secs] 2019-09-05T17:26:17.197+0800: 85781.905: [Full GC (Last ditch collection) 2019-09-05T17:26:17.197+0800: 85781.905: [CMS: 445559K-&gt;382990K(3022848K), 1.6770458 secs] 445559K-&gt;382990K(4910336K), [Metaspace: 276037K-&gt;276037K(1511424K)], 1.6863552 secs] [Times: user=1.63 sys=0.01, real=1.68 secs] 2019-09-05T17:26:18.886+0800: 85783.594: [GC (CMS Initial Mark) [1 CMS-initial-mark: 382990K(3022848K)] 382992K(4910336K), 0.0134842 secs] [Times: user=0.02 sys=0.00, real=0.02 secs]&nbsp;<\/span><\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u521d\u6b65\u786e\u8ba4\u662f\u6bcf\u6b21\u53d1\u5e03groovy\u811a\u672c\uff0cclassload\u7684\u65f6\u5019\u624d\u4f1a\u5f6a\u9ad8\uff0c\u8fd9\u79cd\u95ee\u9898\u57fa\u672c\u5b9a\u4f4d\u5230\u4e86\uff0c\u4f46\u662f\u9700\u8981\u600e\u4e48\u53bb\u4f18\u5316\u548c\u89e3\u51b3\u5462?<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u5f88\u660e\u786e\u4e86\uff0c\u4f60\u7684metaspace\u592a\u5c0f\u4e86\uff0c\u6240\u4ee5classload\u592a\u591a\u7684\u65f6\u5019\u4f1a\u89e6\u53d1full gc\uff0c\u53ea\u8981\u7ed9metaspace\u533a\u57df\u66f4\u5927\u7a7a\u95f4\u5c31\u53ef\u4ee5\u4e86<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8fd9\u4e2a\u8bfe\u7a0b\u771f\u7684\u662f\u6211\u5b66\u4e60\u8fc7\u7684JVM\u8bfe\u7a0b\u548c\u770b\u8fc7\u7684\u4e66\u4e2d\u6700\u597d\u7684,\u6ca1\u6709\u4e4b\u4e00,\u5176\u4ed6\u7684\u8bfe\u7a0b\u90fd\u611f\u89c9\u662f\u9694\u9774\u6414\u75d2,\u8fd9\u4e2a\u8bfe\u662f\u76f4\u51fb\u8981\u5bb3,\u800c\u4e14\u6bcf\u4e2a\u95ee\u9898\u90fd\u80fd\u5f97\u5230\u56de\u590d, \u975e\u5e38\u611f\u8c22<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u591a\u8c22\u4f60\u7684\u652f\u6301<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u73b0\u5728\u5f88\u6e34\u671b\u53bb\u89e3\u51b3\u7ebf\u4e0a\u95ee\u9898\uff0c\u5f53\u522b\u4eba\u641e\u4e0d\u5b9a\u7684\u65f6\u5019\u6211\u6765\u4e0a\uff0c\u53ef\u60dc\u73b0\u5728\u7cfb\u7edf\u7684\u91cf\u592a\u5c11\uff0c\u57fa\u672c\u4e0a\u5806\u5185\u5b586G,\u8001\u5e74\u4ee3\u548c\u5e74\u8f7b\u4ee3\u5206\u522b3G\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f\u6027\u80fd\u95ee\u9898\u3002\u53ea\u80fd\u5047\u8bbe\u5b83\u7684\u91cf\u589e\u52a0100\u500d\u4e86\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u56e0\u4e3a\u7cfb\u7edf\u91cf\u592a\u5c0f\uff0c\u5c31\u662fEden\u533a\u90fd\u6162\u6162\u624d\u6ee1\uff0c\u6ee1\u4e86\u4ee5\u540e\u5b58\u6d3b\u5bf9\u8c61\u4e5f\u5f88\u5c11\uff0c\u51e0\u4e4e\u5f88\u5c11\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\uff0c\u6240\u4ee5\u4e00\u822c\u91cf\u5c0f\u7684\u7cfb\u7edf\u6ca1\u6709JVM\u7684\u95ee\u9898<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8bf7\u95ee\u4e00\u4e0b\u5982\u679c\u8bbf\u95ee\u91cf\u589e\u52a0100\u500d, \u6bd4\u5982QPS\u4ece100, \u731b\u589e\u523010000, \u800c\u6211Tomcat\u7684MaxThread\u8bbe\u7f6e\u7684\u662f200, \u800c\u6211\u6bcf\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u65f6\u95f4\u52a0\u5165\u662f100ms, \u90a3\u7406\u8bba\u4e0a\u7cfb\u7edf1S\u4e2d\u53ef\u4ee5\u5904\u7406\u7684\u8bf7\u6c42\u6570\u5c31\u662f2000, \u8fd9\u5df2\u7ecf\u786e\u5b9a\u4e86\u554a, \u5373\u4f7fQPS\u8fbe\u523010000,\u591a\u4f59\u7684\u8bf7\u6c42\u53ea\u4f1a\u5728OS\u4e2d\u7684Epoll\u6a21\u578b\u4e2d\u6392\u961f\u5427,<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u6211\u611f\u89c9\u597d\u50cf\u4e0d\u4f1a\u8f6e\u5230JVM\u7684\u95ee\u9898\u66b4\u9732, \u6240\u4ee5\u4f18\u5316jvm\u53c2\u6570\u7684\u65f6\u5019\u53ea\u8981\u8003\u8651\u5230\u6700\u5927QPS\u662f2000\u5c31\u53ef\u4ee5\u4e86, \u8bf7\u95ee\u6211\u8fd9\u6837\u7406\u89e3\u5bf9\u4e0d\u5bf9?<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u6211\u7ed9\u4f60\u4e3e\u4e2a\u4f8b\u5b50\u600e\u4e48\u601d\u8003\uff0c\u6bd4\u5982\u4f60\u73b0\u5728\u6709\u4e00\u4e2a\u7cfb\u7edf\uff0c\u90e8\u7f72\u5728\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u673a\u5668\u80fd\u627f\u8f7d\u7684\u6781\u9650\u5e76\u53d1\u91cf\u662f\u6bcf\u79d2\u5904\u74061000\u4e2a\u8bf7\u6c42\uff0c\u7ed3\u679c\u4f60\u73b0\u5728\u7cfb\u7edf\u91cf\u5f88\u5c0f\uff0c\u6bcf\u79d2\u624d\u5904\u740610\u4e2a\u8bf7\u6c42\u3002\u6b64\u65f6\u4f60\u76f4\u63a5\u5047\u8bbe\u4f60\u7684\u673a\u5668\u8d44\u6e90\u88ab\u6253\u6ee1\uff0c\u6bcf\u79d2\u5904\u74061000\u4e2a\u8bf7\u6c42\uff0c\u540c\u6837\u7684\u5185\u5b58\u4e0b\uff0c\u8bf7\u6c42\u91cf\u5927\u4e861000\u500d\uff0c\u4f60\u7684JVM\u4f1a\u5982\u4f55\u8fd0\u884c\uff1f<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u4eca\u5929\u662f\u5206\u6790\u800c\u4e0d\u8ba8\u8bba\u3002\u8ba9\u6211\u4eec\u53bb\u56de\u987e\u4e4b\u524d\u6240\u5b66\u7684\u77e5\u8bc6\uff0c\u7136\u540e\u7ed3\u5408\u81ea\u5df1\u73b0\u6709\u7cfb\u7edf\u53bb\u51c6\u5907\u8fd9\u65b9\u9762\u7684\u9762\u8bd5\u6280\u5de7\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u52a0\u6cb9\u597d\u597d\u590d\u4e60\u548c\u51c6\u5907\uff0c\u591a\u7ed3\u5408\u81ea\u5df1\u5de5\u4f5c\u7684\u7cfb\u7edf\u53bb\u601d\u8003JVM\u7684\u4f18\u5316\uff0c\u653e\u5927100\u500d\u538b\u529b\u601d\u8003\u4e00\u4e0b<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">11.\u4ec0\u4e48\u662fJVM\u5185\u5b58\u533a\u57df\u5212\u5206&nbsp;<\/p><p style=\"line-height: 2em;\">\u7b54\uff1a\u52a0\u8f7d\u8fdb\u6765\u7684\u7c7b\u4fe1\u606f\uff0c\u9700\u8981\u653e\u5728\u67d0\u4e2a\u5185\u5b58\u533a\u57df\u3002\u65b9\u6cd5\u8fd0\u884c\u65f6\uff0c\u65b9\u6cd5\u91cc\u9762\u5f88\u591a\u53d8\u91cf\u4e4b\u7c7b\u7684 \u4e1c\u897f\u9700\u8981\u653e\u5728\u67d0\u4e2a\u5185\u5b58\u533a\u57df\u3002\u4ee3\u7801\u91cc\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u4e5f\u9700\u8981\u5185\u5b58\u7a7a\u95f4\u6765\u5b58\u653e\u3002\u6240\u4ee5JVM\u4e2d\u5fc5\u987b \u5212\u5206\u51fa\u6765\u4e0d\u540c\u7684\u5185\u5b58\u533a\u57df\uff0c\u4e3a\u4e86\u8ba9\u6211\u4eec\u5199\u597d\u7684\u4ee3\u7801\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u66f4\u65b9\u4fbf\u7684\u6839\u636e\u9700\u8981\u6765\u4f7f\u7528\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">12.JVM\u4e2d\u6709\u54ea\u4e9b\u5185\u5b58\u533a\u57df \u7b54\uff1a<\/p><p style=\"line-height: 2em;\">a.\u65b9\u6cd5\u533a: \u5728JDK1.8\u4ee5\u540e,\u8fd9\u5757\u533a\u57df\u7684\u540d\u5b57\u6539\u4e86,\u53eb\u505a&quot;Metaspace&quot;\u3002\u4e3b\u8981\u5b58\u653e\u6211\u4eec\u81ea\u5df1\u5199\u7684 \u5404\u79cd\u7c7b\u76f8\u5173\u7684\u4fe1\u606f\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">b.\u7a0b\u5e8f\u8ba1\u6570\u5668\uff1a\u5b57\u8282\u7801\u6307\u4ee4\u901a\u8fc7\u5b57\u8282\u7801\u6267\u884c\u5f15\u64ce\u88ab\u4e00\u6761\u4e00\u6761\u6267\u884c\uff0c\u624d\u80fd\u5b9e\u73b0\u6211\u4eec\u5199\u597d\u7684\u4ee3\u7801 \u6267\u884c\u7684\u6548\u679c\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u7a0b\u5e8f\u6280\u672f\u5668\u5c31\u662f\u7528\u6765\u8bb0\u5f55\u5f53\u524d\u6267\u884c\u7684\u5b57\u8282\u7801\u6307\u4ee4\u7684\u4f4d\u7f6e\uff0c\u4e5f\u5c31\u662f\u8bb0\u5f55\u76ee\u524d\u6267\u884c\u5230\u4e86\u54ea\u4e00\u6761\u5b57\u8282\u7801\u6307\u4ee4\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">JVM\u662f\u652f\u6301\u591a\u4e2a\u7ebf\u7a0b\u7684\uff0c\u6240\u4ee5\u5c31\u4f1a \u6709\u591a\u4e2a\u7ebf\u7a0b\u6765\u5e76\u53d1\u6267\u884c\u4e0d\u540c\u7684\u4ee3\u7801\u6307\u4ee4\uff0c\u56e0\u6b64\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u6709\u81ea\u5df1\u7684\u4e00\u4e2a \u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u4e13\u95e8\u8bb0\u5f55\u5f53\u524d\u8fd9\u4e2a\u7ebf\u7a0b\u76ee\u524d\u6267\u884c\u5230\u4e86\u54ea\u4e00\u6761\u5b57\u8282\u7801\u6307\u4ee4\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">c.Java\u865a\u62df\u673a\u6808\uff1a\u4fdd\u5b58\u6bcf\u4e2a\u65b9\u6cd5\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u7b49\u6570\u636e\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u6709\u81ea\u5df1\u7684Java\u865a\u62df\u673a\u6808\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u5982\u679c\u7ebf\u7a0b\u6267\u884c\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5c31\u4f1a\u5bf9\u8fd9\u4e2a\u65b9\u6cd5\u8c03\u7528\u521b\u5efa\u5bf9\u5e94\u7684\u4e00\u4e2a\u6808\u5e27(\u6808\u5e27 \u91cc\u5c31\u6709\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5c40\u90e8\u53d8\u91cf\u8868,\u64cd\u4f5c\u6570\u6808,\u52a8\u6001\u94fe\u63a5,\u65b9\u6cd5\u51fa\u53e3\u7b49)\uff0c\u7136\u540e\u538b\u5165 \u7ebf\u7a0b\u7684Java\u865a\u62df\u673a\u6808\u3002\u65b9\u6cd5\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\u5c31\u4eceJava\u865a\u62df\u673a\u6808\u51fa\u6808\u3002<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56e0\u6b64\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5728\u6267\u884c\u4ee3\u7801\u65f6\uff0c\u9664\u4e86\u7a0b\u5e8f\u8ba1\u6570\u5668\u4ee5\u5916\uff0c\u8fd8\u642d\u914d\u4e86\u4e00\u4e2aJava\u865a\u62df\u673a \u5185\u5b58\u533a\u57df\u6765\u5b58\u653e\u6bcf\u4e2a\u65b9\u6cd5\u4e2d\u5f97\u5c40\u90e8\u53d8\u91cf\u3002&nbsp;<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">d.Java\u5806\u5185\u5b58\uff1a\u5b58\u653e\u6211\u4eec\u5728\u4ee3\u7801\u4e2d\u521b\u5efa\u7684\u5404\u79cd\u5bf9\u8c61\u3002\u5bf9\u8c61\u5b9e\u4f8b\u91cc\u9762\u4f1a\u5305\u542b\u4e00\u4e9b\u6570\u636e\u3002\u800cJava \u865a\u62df\u673a\u6808\u7684\u6808\u5e27\u5c40\u90e8\u53d8\u91cf\u8868\u91cc\u9762\u7684\u5bf9\u8c61\uff0c\u5176\u5b9e\u662f\u4e00\u4e2a\u5f15\u7528\u7c7b\u578b\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5b58\u653e \u4e86\u5bf9\u5e94Java\u5806\u5185\u5b58\u5bf9\u8c61\u7684\u5730\u5740\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c40\u90e8\u53d8\u91cf\u8868\u91cc\u7684\u5bf9\u8c61\u6307\u5411\u4e86Java<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u603b\u7ed3\u5f97\u5f88\u597d<\/p><p style=\"line-height: 2em;\">====================================================<\/p><p style=\"line-height: 2em;\">\u95ee\u9898\uff1a<\/p><p style=\"line-height: 2em;\">\u8001\u5e08\uff0c\u90a3\u4ee5\u540e\u5e02\u9762\u4e0a\u90fd\u7528G1\u6e05\u7406\uff0c\u90a3\u6211\u4eec\u662f\u4e0d\u662f\u5728jvm\u4f18\u5316\u4e0a\u5c31\u5f97\u9760\u8fb9\u7ad9\u4e86\uff1f<\/p><p style=\"line-height: 2em;\"><br\/><\/p><p style=\"line-height: 2em;\">\u56de\u7b54\uff1a<\/p><p style=\"line-height: 2em;\">\u662f\u7684\uff0c\u4f7f\u7528G1\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u80fd\u505a\u7684\u4e8b\u60c5\u5f88\u5c11\uff0c\u56e0\u4e3a\u4f60\u60f3\uff0c\u4ed6\u6240\u6709\u7684\u5185\u5b58\u5206\u914d\u548cGC\u65f6\u673a\u90fd\u662f\u52a8\u6001\u53d8\u5316\u7684\uff0c\u4f60\u600e\u4e48\u53bb\u8c03\u4f18\uff1f\u5b9e\u9645\u4e0a\u4ed6\u4e00\u5207\u90fd\u662f\u81ea\u52a8\u8fd0\u884c\u7684\u3002\u53ea\u8981\u4ed6\u80fd\u4fdd\u8bc1\u6bcf\u6b21GC\u7684\u8017\u65f6\u5728\u4f60\u6307\u5b9a\u8303\u56f4\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u5176\u5b9e\u73b0\u5728G1\u4e5f\u672a\u5fc5\u5c31\u5df2\u7ecf\u5f88\u7a33\u5b9a\u4e86\uff0c\u6240\u4ee5\u4e00\u822c\u8fd8\u662f\u7528CMS+ParNew\u5c31\u53ef\u4ee5\u4e86\uff0c\u6bd4\u8f83\u53ef\u63a7\u4e00\u4e9b\u3002<\/p><p style=\"line-height: 2em;\"><span style=\"font-size: 16px; line-height: 1.5;\">&nbsp;<\/span><\/p><p><br\/><\/p>","try_content":"[]","try_org_content":"","start_at":"2019-09-08 07:00:00","stop_at":null,"state":0,"recycle_bin_state":0,"old_recycle_bin_state":0,"sell_mode":0,"view_count":1732,"payment_type":3,"price":8800,"line_price":0,"is_stop_sell":0,"period":0,"can_select":0,"img_size_total":1.218,"resource_type":1,"seo_description":"[{\"type\":0,\"value\":\"\u7b2c10\u5468\u7b54\u7591\u6c47\u603b\u5b66\u5458\u603b\u7ed3\uff1a\u603b\u7ed3\u4e00\u4e0b\u8001\u5e08\u8fd9\u51e0\u5929\u63d0\u4ea4\u7684\u53c2\u6570\uff1a-XX:+CMSParallelInitialMarkEnabled\u8868\u793a\u5728\u521d\u59cb\u6807\u8bb0\u7684\u591a\u7ebf\u7a0b\u6267\u884c\uff0c\u51cf\u5c11STW\uff1b-XX:+CMSScavengeBeforeRemark\uff1a\u5728\u91cd\u65b0\u6807\u8bb0\u4e4b\u524d\u6267\u884cminorGC\u51cf\u5c11\u91cd\u65b0\u6807\u8bb0\u65f6\u95f4\uff1b-XX:+CMSParallelRemarkEnabled:\u5728\u91cd\u65b0\u6807\u8bb0\u7684\u65f6\u5019\u591a\u7ebf\u7a0b\u6267\u884c\uff0c\u964d\u4f4eSTW\uff1b-XX\uff1aCMSInitiatingOccupancyFraction=92\u548c-XX:+UseCMSInitiatingOccupancyOnly\u914d\u5957\u4f7f\u7528\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u540e\u8005\uff0cjvm\u7b2c\u4e00\u6b21\u4f1a\u91c7\u752892%\u4f46\u662f\u540e\u7eedjvm\u4f1a\u6839\u636e\u8fd0\u884c\u65f6\u91c7\u96c6\u7684\u6570\u636e\u6765\u8fdb\u884cGC\u5468\u671f\uff0c\u5982\u679c\u8bbe\u7f6e\u540e\u8005\u5219jvm\u6bcf\u6b21\u90fd\u4f1a\u572892%\u7684\u65f6\u5019\u8fdb\u884cgc\uff1b-XX:+PrintHeapAtGC:\u5728\u6bcf\u6b21GC\u524d\u90fd\u8981GC\u5806\u7684\u6982\u51b5\u8f93\u51fa\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u975e\u5e38\u597d====================================================\u95ee\u9898\uff1a \u8fd9\u95ee\u9898\u770b\u4f3c\u7b80\u5355\uff0c\u5176\u5b9e\u6211\u4e5f\u78b0\u5230\u8fc7\uff0c\u5f53\u65f6\u4f7f\u7528jxl\u5bfc\u51faexcel\u7684\u65f6\u5019\uff0cjxl\u4f1a\u9ed8\u8ba4\u8c03\u7528gc\u65b9\u6cd5\uff0c\u5f53\u65f6\u82b1\u4e86\u4e0d\u5c11\u65f6\u95f4\u624d\u53d1\u73b0\u539f\u6765\u662f\u8fd9\u4e2a\u95ee\u9898...\u56de\u7b54\uff1a\u662f\u7684\uff0c\u5c31\u662f\u5982\u6b64\uff0c\u8fd8\u6709\u7684\u540c\u5b66\u4e00\u65f6\u624b\u75d2\u4f1a\u81ea\u5df1\u53bb\u6267\u884c\u8fd9\u884c\u4ee3\u7801\uff0c\u5c31\u6015\u6709\u7684\u4eba\u81ea\u5df1\u778e\u73a9\u513f====================================================\u95ee\u9898\uff1a \u679c\u7136\u7cbe\u77ed\u8f7b\u677e?\uff0c\u4e4b\u524d\u6211\u8fd8\u5728\u60f3\u8fd9\u4e2a\u53c2\u6570\u7684\u610f\u4e49\u5728\u54ea\u91cc\u3002\u8001\u5e08\uff0c\u50cf\u8fd9\u79cd\u60c5\u51b5jstick\u91cc\u4f1a\u6709\u4ec0\u4e48\u5f02\u5e38\u5417\uff1f\u56de\u7b54\uff1ajstat\u5176\u5b9e\u662f\u7528\u5728\u6b7b\u9501\u91cc\u7684\uff0c\u4e00\u822c\u53ef\u4ee5\u662f\u770b\u6b7b\u9501\u54ea\u91cc\u7ebf\u7a0b\u5361\u4f4f\u7684====================================================\u95ee\u9898\uff1a\u8001\u5e08\uff0c\u6c38\u4e45\u5e26\u91cc\u9762\u5b58\u653e\u7684\u7c7b\u4fe1\u606f\u5177\u4f53\u662f\u4e00\u4e9b\u4ec0\u4e48\u6837\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7ed9\u8bb2\u89e3\u51e0\u79cd\u5417\uff1f\u8c22\u8c22\u56de\u7b54\uff1a\u8fd9\u4e2a\u5177\u4f53\u7c7b\u7684\u4fe1\u606f\uff0c\u5176\u5b9e\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c31\u662f\u7c7b\u6240\u5e26\u7684\u4e00\u4e9b\u53d8\u91cf\u548c\u65b9\u6cd5====================================================\u603b\u7ed3\uff1a\u5f53\u591a\u4e2a\u670d\u52a1\u9700\u8981\u7ade\u4e89\u4e00\u4e2a\u5355\u4f53\u8d44\u6e90\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u52a0\u4e0a\u5206\u5e03\u5f0f\u9501\u3002\u5982\u679c\u5e76\u53d1\u91cf\u9ad8\u7684\u8bdd\uff0c\u53ef\u4ee5\u8003\u8651\u62c6\u5206\u6389\u90a3\u4e2a\u5355\u4f53\u8d44\u6e90\uff0c50\u4e2a\u62c6\u62105\u4e2a10\u4e2a\u8d44\u6e90\uff0c\u4ece\u800c\u7f29\u5c0f\u9501\u7684\u7c92\u5ea6\uff0c\u63d0\u9ad8\u541e\u5410\u91cf\u3002\u603b\u7ed3\u7684\u5f88\u597d====================================================\u603b\u7ed3\uff1a\u4e00\u822credis\u7684\u5206\u5e03\u5f0f\u9501\u90fd\u53ef\u4ee5\u4f7f\u7528redisson\u6846\u67b6\u6765\u505a\u3002 \u4f7f\u7528\uff1a\u76f4\u63a5lock(\\\"key\\\") \u539f\u7406\uff1a\u5f53lock\u7684\u65f6\u5019\uff0c\u5f53\u524d\u5ba2\u6237\u7aef\u4f1a\u751f\u6210\u4e00\u4e32lua\u811a\u672c\u53d1\u9001\u5230redis\u670d\u52a1\u7aef\u3002\u670d\u52a1\u7aef\u6839\u636e\u8fd9\u4e2akey\u662f\u5426\u5b58\u5728\u4ee5\u53cakey\u7684value\u72b6\u6001\u5224\u65ad\u662f\u5426\u5df2\u88ab\u52a0\u9501\u3002\u5982\u679c\u52a0\u9501\u6210\u529f\uff08\u6709\u6548\u671f30s\uff09\uff1a\u751f\u6210\u7684value\u91cc\u9762\u5e26\u6709\u5f53\u524d\u5ba2\u6237\u7aef\u7684id\uff0c\u5b9e\u73b0\u53ef\u91cd\u5165\u6548\u679c\u3002\u7136\u540e\u5728\u8fd9\u4e2a\u7ebf\u7a0b\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u65e6\u52a0\u9501\u6210\u529f\u8fd8\u4f1a\u6709\u4e00\u4e2awatch dog\u6bcf10s\u53bb\u5237\u65b0\u9501\u7684\u72b6\u6001\u3002\u76f4\u5230\u91ca\u653e\u6216\u8005\u5b95\u673a\uff0c\u5982\u679c\u5f53\u524d\u7ebf\u7a0b\u6b7b\u9501\u6216\u963b\u585e\uff0c\u90a3\u4e48\u8fd9\u4e2a\u9501\u5c31\u4e00\u8d77\u6b7b\u9501\u3002\u5982\u679c\u52a0\u9501\u5931\u8d25\uff1a\u81ea\u65cb\u5230\u83b7\u53d6\u9501\u3002\u603b\u7ed3\u7684\u5f88\u597d====================================================\u95ee\u9898\uff1a\u8001\u5e08\uff0c\u6211\u6709\u4e2a\u5173\u4e8e\u9501\u7684\u95ee\u9898\u3002\u5728\u6211\u770b\u6765\uff0c\u6240\u6709\u9501\u90fd\u662f\u57fa\u4e8e\u4e00\u4e2a\u4e92\u65a5\u91cf\uff0c\u8fd9\u4e2a\u4e92\u65a5\u91cf\u53ef\u4ee5\u968f\u610f\u9009\u53d6\u4e3a\u4e00\u4e2a\u652f\u6301\u52a0\u9501\u6216\u8005\u539f\u5b50\u64cd\u4f5c\u7684\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u3002\u90a3\u4e48\u7ecf\u5e38\u4f7f\u7528zk\\\/redis\u53bb\u662f\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff0c\u800c\u4e0d\u4f7f\u7528db\u53bb\u52a0\u9501\u3002\u662f\u56e0\u4e3adb\u7684\u541e\u5410\u91cf\u592a\u4f4e\u4e86\u5417\uff0c\u8fd8\u662f\u6709\u5176\u4ed6\u8003\u8651\uff1f\u56de\u7b54\uff1adb\u4e0d\u9002\u5408\u914d\u5408\u7cfb\u7edf\u505a\u52a0\u9501\uff0c\u4ece\u529f\u80fd\u5c42\u9762\uff0cdb\u5c31\u4e0d\u662f\u5e72\u8fd9\u4e2a\u7684====================================================\u5b66\u5458\u601d\u8003\u9898\u56de\u7b54\uff1a\u51fa\u73b0\u539f\u56e0\uff1a\u56e0\u4e3aredis\u4e3b\u4ece\u5f02\u6b65\u590d\u5236\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u53ef\u80fd\u51fa\u73b0\u5728\u4e3b\u8282\u70b9\u5b95\u673a\u65f6\u672a\u5b8c\u6210\u540c\u6b65\u800c\u51fa\u73b0\u7684\u9501\u4e22\u5931\u3002 \u8fd9\u4e2a\u65f6\u5019watch dog\u53d1\u73b0\u4e86\u4e5f\u6ca1\u529e\u6cd5\uff0c\u53ea\u80fd\u8bf4\u662f\u81ea\u5df1\u505c\u6389\u4e86\u3002 \u89e3\u51b3\u529e\u6cd5\uff1a\u56e0\u4e3a\u4e3b\u4ece\u5f02\u6b65\u590d\u5236\u51fa\u73b0\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u4fdd\u8bc1\u4e3b\u4ece\u5199\u5f3a\u4e00\u81f4\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u5982\u679c\u5199\u5f3a\u4e00\u81f4\u7684\u8bdd\uff0c\u90a3\u4e48\u541e\u5410\u91cf\u5c31\u4f1a\u56e0\u4e3a\u8fd9\u4e9b\u5b9e\u65f6\u540c\u6b65\u800c\u6025\u5267\u964d\u4f4e\u3002\u53e6\u5916\u51fa\u73b0\u4e86C\uff0c\u90a3\u4e48A\u8fd9\u4e2a\u53ef\u7528\u6027\u5c31\u4f1a\u53d7\u5230\u4e00\u5b9a\u7684\u5f71\u54cd\uff0c\u56e0\u4e3a\u5728\u5b9e\u65f6\u540c\u6b65\u7684\u65f6\u5019\uff0c\u8981\u662f\u5931\u8d25\u4e86\uff0c\u8fd9\u4e2a\u670d\u52a1\u53ef\u80fd\u6682\u65f6\u5c31\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u670d\u52a1\u3002\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d====================================================\u603b\u7ed3\uff1azk\u4e00\u822c\u4f7f\u7528curator\u53bb\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\u3002 \u539f\u7406\uff1a\u5411zk\u53d1\u8d77\u8bf7\u6c42\uff0c\u5728\u4e00\u4e2a\u76ee\u5f55\uff08\\\/locks\\\/pd_1_stock\uff09\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u8282\u70b9\uff0c\u4e5f\u662f\u5e26\u6709\u81ea\u5df1\u5ba2\u6237\u7aef\u7684id\u3002\u5982\u679c\u76ee\u5f55\u662f\u7a7a\u7684\uff0c\u81ea\u5df1\u521b\u5efa\u51fa\u6765\u7684\u8282\u70b9\u5c31\u662f\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u52a0\u9501\u6210\u529f\u3002\u5982\u679c\u6210\u529f\u6267\u884c\u5219\u91ca\u653e\uff08\u8282\u70b9\u5220\u9664\uff09\u3002\u5982\u679c\u5b95\u673a\u4e86\uff0c\u57fa\u4e8ezk\u7684\u5fc3\u8df3\u673a\u5236\uff0c\u90a3\u4e2a\u4e34\u65f6\u8282\u70b9\u4e5f\u4f1a\u88ab\u5220\u9664\u3002\u7b2c\u4e8c\u4e2a\u5ba2\u6237\u7aef\u8bf7\u6c42\u9501\u65f6\uff0c\u4e5f\u521b\u5efa\u4e00\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u662f\u7b2c\u4e00\u8282\u70b9\uff0c\u90a3\u4e48\u5411\u4e0a\u4e00\u8282\u70b9\u52a0\u4e00\u4e2awatcher\u76d1\u542c\u5668\u3002\u5982\u679c\u4e0a\u4e00\u8282\u70b9\u88ab\u5220\u9664\u7acb\u9a6c\u4f1a\u611f\u77e5\u5230\uff0c\u7136\u540e\u5728\u5224\u65ad\u81ea\u5df1\u662f\u4e0d\u662f\u7b2c\u4e00\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u662f\u518d\u76d1\u542c\u4e0a\u4e00\u7ea7\uff08\u516c\u5e73\u5b9e\u73b0\uff09\u3002\u5b8c\u4e8b\u540e\u9677\u5165\u7b49\u5f85\uff0c\u76f4\u5230\u83b7\u53d6\u9501\u3002\u603b\u7ed3\u7684\u5f88\u597d====================================================\u603b\u7ed3\uff1a \u7f8a\u7fa4\u6548\u5e94\uff1a\u5f53\u51e0\u5341\u4e2a\u8282\u70b9\u4e89\u62a2\u540c\u4e00\u628a\u57fa\u4e8ezk\u7684\u9501\u65f6\uff0c\u5982\u679c\u90fd\u662f\u76d1\u542c\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u90a3\u4e48\u5f53\u91ca\u653e\u9501\u65f6\uff0czk\u4f1a\u540c\u65f6\u53cd\u5411\u901a\u77e5\u6240\u6709\u5ba2\u6237\u7aef\u53c8\u6765\u91cd\u65b0\u589e\u5f3a\u3002 \u5f71\u54cd\uff1a\u4e3b\u8981\u662f\u591a\u4e86\u5f88\u591a\u6ca1\u5fc5\u8981\u7684\u8bf7\u6c42\uff0c\u4ece\u800c\u4f1a\u52a0\u91cd\u7f51\u7edc\u7684\u8d1f\u8f7d\u3002 \u89e3\u51b3\uff1a\u5c31\u57fa\u4e8ecurator\u53bb\u505a\u5c31\u597d\u4e86\uff0c\u901a\u8fc7\u76d1\u542c\u4e0a\u4e00\u7ea7\u8282\u70b9\uff0c\u964d\u4f4e\u4e86\u4e89\u62a2\u6b21\u6570\uff0c\u8fd8\u5b9e\u73b0\u4e86\u516c\u5e73\u9501\u3002 redis\uff1aredis\u56e0\u4e3a\u662f\u5ba2\u6237\u7aef\u81ea\u5df1\u4e3b\u52a8\u9694\u4e00\u6bb5\u65f6\u95f4\u53bb\u5c1d\u8bd5\u52a0\u9501\uff0c\u6240\u4ee5\u7f8a\u7fa4\u6548\u5e94\u5f71\u54cd\u4e0d\u5927\uff0c\u56e0\u4e3a\u8bf7\u6c42\u90fd\u9519\u5f00\u4e86\uff0c\u800c\u4e0d\u662f\u4e00\u7fa4\u4e00\u62e5\u800c\u4e0a\u3002\u603b\u7ed3\u7684\u5f88\u597d====================================================\u95ee\u9898\uff1a\u8001\u5e08\uff0c\u5173\u4e8eg1\u6211\u6709\u4e2a\u7591\u60d1\uff0c\u5c31\u662f\u5982\u679c\u9009\u62e9\u51cf\u5c0fgc\u8017\u65f6\uff0c\u90a3\u662f\u4e0d\u662f\u610f\u5473gc\u7684\u6b21\u6570\u4f1a\u589e\u591a\u3002\u90a3\u9009\u62e9\u51cf\u5c11\u65f6\u95f4\u662f\u56e0\u4e3a\u5b83\u7684\u6536\u76ca\u5927\u4e8egc\u6b21\u6570\u7684\u589e\u52a0\u3002\u56de\u7b54\uff1a\u662f\u7684\uff0c\u4f60\u7406\u89e3\u7684\u6ca1\u95ee\u9898\uff0cgc\u9891\u7387\u591a\u70b9\uff0c\u4f46\u662f\u6bcf\u6b21gc\u8017\u65f6\u5f88\u77ed\uff0c\u6ca1\u4e8b\u7684====================================================\u95ee\u9898\uff1a\u8001\u5e08\u80fd\u4e0d\u80fd\u5bf9 \u8fd9\u79cd\u7c7b\u578b\u7684\u95ee\u9898\u4e0a\u4e00\u8bfe \u6700\u8fd1\u91d1\u4e5d\u94f6\u5341 \u80af\u5b9a\u6709\u5f88\u591a\u540c\u5b66\u8981\u9762\u8bd5 \u6bd4\u5982\u8fd9\u4e2a\u9898\u76ee \u51cc\u6668\u4e09\u70b9\u53d1\u751f\u4e86\u4e00\u6b21oom \u600e\u4e48\u8ffd\u8e2a\u89e3\u51b3\u56de\u7b54\uff1a\u8fd9\u4e2a\u95ee\u9898\u5f88\u597d\uff0c\u8fd9\u4e2a\u5728\u540e\u9762\u7684OOM\u76f8\u5173\u6848\u4f8b\u91cc\u4f1a\u5206\u6790\u7684====================================================\u95ee\u9898\uff1a\u8001\u5e08\u597d\uff0c\u521a\u624d\u770b\u5230\u6709\u540c\u5b66\u7684\u603b\u7ed3\uff1a G1\uff0c\u65b0\u751f\u4ee3\u672a\u8fbe\u523060%\uff0c\u8001\u5e74\u4ee3\u672a\u8fbe\u523045%\uff0c\u5219\u4e0d\u8fdb\u884cGC \u60a8\u7684\u56de\u7b54\u662f\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u4ece\u60a8\u7684\u6587\u7ae0\u4e2d\u627e\u5230\u7684\uff0c\u65b0\u751f\u4ee3\u4e0d\u523060%\uff0c\u53ea\u8981ygc\u65f6\u95f4\u63a5\u8fd1\u9884\u8bbeGC\u65f6\u95f4\u65f6\u5c31\u4f1a\u8fdb\u884cGC\u3002 \u770b\u4e86\u4e00\u4e0b\u6211\u4eec\u7684\u7ebf\u4e0a\u7cfb\u7edf\uff0c\u53d1\u73b0ygc\u4e4b\u540e\uff0csurvivor\u533a\u5df2\u7ecf\u8fbe\u5230\u4e86\u5c06\u8fd190%\uff0c\u4f46\u662f\u6ca1\u6709\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u8fd9\u662f\u4e0d\u662f\u610f\u5473\u7740\u8981\u4e48\u6240\u6709\u5bf9\u8c61\u90fd\u662f\u540c\u5c81\u7684\uff0c\u8981\u4e48\u81f3\u5c1141%\u7684\u5bf9\u8c61\u662f\u5927\u5e74\u9f84\u4e14\u540c\u5c81\u7684\u3002\u56de\u7b54\uff1a\u6709\u7684\u56de\u590d\u53ef\u80fd\u662f\u6ca1\u770b\u6e05\u695a\u4ed6\u4eec\u7684\u95ee\u9898\uff0cG1\u7684\u8bdd\uff0c\u6709\u53ef\u80fd\u8fbe\u5230\u9884\u671f\u7684gc\u65f6\u95f4\u540e\u4ed6\u5c31\u4f1a\u89e6\u53d1gc\uff0c\u4e0d\u662f\u56fa\u5b9a\u7684====================================================\u95ee\u9898\uff1a\u770b\u5230\u8001\u5e74\u4ee3\u9a7b\u7559\u5927\u91cf\u5bf9\u8c61\uff0c\u60f3\u5230\u7684\u7adf\u7136\u662f\u8001\u5e74\u4ee3\u7a7a\u95f4\u592a\u5c0f\uff0c\u9700\u8981\u6269\u5927\uff0c\u800c\u4e0d\u662f\u5176\u4ed6\u95ee\u9898\uff0c\u770b\u6765\u8fd8\u662f\u6ca1\u5b66\u5230\u5bb6\u5440\u56de\u7b54\uff1a\u662f\u7684\uff0c\u6240\u4ee5\u8981\u591a\u5b66\u6848\u4f8b\uff0c\u79ef\u7d2f\u7ecf\u9a8c====================================================\u95ee\u9898\uff1a\u6253\u5361\uff0c\u4eca\u5929\u8bb2\u89e3\u4e86cpu\u8d1f\u8f7d\u9ad8\u7684\u539f\u56e0\uff0c\u590d\u4e60\u4e86\u9891\u7e41fullGC\u7684\u539f\u56e0\uff0c\u7ed9\u4e86\u4e00\u4e2a\u5206\u6790\u5806\u5185\u5b58\u7684\u5b9e\u7528\u5de5\u5177MAT\u3002\u7ed9\u529b\u3002\u56de\u7b54\uff1a\u662f\u7684\uff0c\u4eca\u5929\u5176\u5b9e\u4ee5\u590d\u4e60\u4e3a\u4e3b====================================================\u95ee\u9898\uff1a\u8001\u5e08\u6211\u975e\u5e38\u6fc0\u52a8\uff0c\u4eca\u5929\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u53d1\u73b0\u548c\u4e0a\u5468\u7684\u6848\u4f8b\u57fa\u672c\u4e00\u81f4\uff0c\u5c31\u662f\u6781\u7aef\u60c5\u51b5\u4e0b\uff0cSQL\u4e2din\u6761\u4ef6\u8bed\u53e5\u5305\u542b\u5341\u51e0\u4e07\u4e2aID\uff0c\u4e00\u4e2aSQL\u8bed\u53e5\u7684String\u5bf9\u8c61\u5f88\u5927\uff0c\u5bfc\u81f4Full GC\uff0c\u7136\u540e\u8fd8\u6709\u4e00\u79cd\u573a\u666fin\u6761\u4ef6\u662f\u7a7a \uff0cSQL\u662fselect * from DB\u7684(\u4ee3\u7801\u6211\u5199\u7684\uff0c\u975e\u5e38\u60ed\u6127)\u4e00\u4e0b\u52a0\u8f7d\u5341\u51e0\u4e07\u7684\u6570\u636e\u51fa\u6765\uff0c\u5bfc\u81f4full gc\u3002\u9664\u4e86\u8fd9\u4e24\u4e2a\u95ee\u9898\uff0c\u4eca\u5929\u7684\u4f8b\u5b50\u4e5f\u548c\u6211\u4eec\u7cfb\u7edf\u5f88\u60f3\uff1a\u901a\u8fc7cat\u89c2\u5bdfcms\u7ba1\u7406\u7684\u5185\u5b58\u5e73\u65f6\u4e00\u822c\u90fd\u5728800m\u5de6\u53f3\uff0c\u4f46\u662f\u6700\u8fd1\u4e00\u76f4\u6da8\u52301300m\u5de6\u53f3\uff0c\u6301\u7eed\u4e86\u5f88\u4e45\u90fd\u4e0d\u4f1a\u964d\u4f4e\uff0c\u8001\u5e74\u4ee32000m\uff0c68%\u5c31\u4f1a\u89e6\u53d1Full GC\uff0c\u4e5f\u5c31\u662f1300\u5de6\u53f3\u5c31\u4f1a\u53d1\u751fGC\uff0c\u6211\u521d\u6b65\u6000\u7591\u662f\u54ea\u91cc\u5185\u5b58\u6cc4\u6f0f\u4e86\uff0c\u5bfc\u81f4\u8fd9\u91cc\u5360\u4e86\u51e0\u767eMB\u5185\u5b58\u4e0d\u91ca\u653e\uff0c\u8fd9\u4e2a\u8fd8\u6709\u5f85\u67e5\u8be2\u3002\u51c6\u5907\u5c06\u8fd9\u4e2a\u6cc4\u6f0f\u627e\u51fa\u6765\uff0c\u7136\u540e\u8c03\u6574\u4e00\u4e0bJVM\u53c2\u6570\uff0c\u4f18\u5316\u4e00\u6ce2\u3002\u56de\u7b54\uff1a\u975e\u5e38\u597d\uff0c\u770b\u6765\u6848\u4f8b\u4e2d\u78b0\u5230\u7684\u4f8b\u5b50\uff0c\u4f60\u81ea\u5df1\u5de5\u4f5c\u91cc\u90fd\u78b0\u5230\u4e86\uff0c\u4e00\u4e2a\u662fSQL\u8bef\u64cd\u4f5c\u52a0\u8f7d\u8fc7\u591a\u6570\u636e\u89e6\u53d1\u7684Full GC\uff0c\u4e00\u4e2a\u662f\u5185\u5b58\u6cc4\u6f0f\u5bfc\u81f4\u8001\u5e74\u4ee3\u91cc\u4e00\u76f4\u5360\u7528\u4e86\u8fc7\u591a\u5185\u5b58\u3002\u53ef\u4ee5dump\u4e00\u4e2a\u5185\u5b58\u5feb\u7167\u51fa\u6765\uff0c\u7528MAT\u5206\u6790\u4e00\u4e0b====================================================\u95ee\u9898\uff1a\u53e6\u5916\u6709\u70b9\u7591\u95ee\uff0c\u5927\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u6211\u7f51\u4e0a\u627e\u8d44\u6599\u8bf4\u662f\u9ed8\u8ba4\u5927\u5bf9\u8c61\u9608\u503c\u662f0\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f1a\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u8fd9\u4e2a\u662f\u771f\u7684\u5417\u3002\u6211\u611f\u89c9\u6211\u7684\u95ee\u9898\u4e5f\u662f\u56e0\u4e3a\u5f88\u5927\u7684String\u76f4\u63a5\u8fdb\u5165\u4e86\u8001\u5e74\u4ee3\u624d\u5bfc\u81f4\u51e0\u767eMB\u65e0\u6cd5\u91ca\u653e\u56de\u7b54\uff1a\u5927\u5bf9\u8c61\u4f1a\u76f4\u63a5\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\uff0c\u4f46\u662f\u5177\u4f53\u8981\u770b\u4e0d\u540c\u7248\u672c\u7684JDK\u9ed8\u8ba4\u53c2\u6570\u662f\u4ec0\u4e48====================================================\u95ee\u9898\uff1a\u8001\u5e08\uff0c\u4f60\u597d\uff0c\u6211\u6570\u636e\u5e73\u53f0\u6709\u4e00\u4e2a\u62a5\u8868\u5bfc\u51fa\uff0c\u5bfc\u51fa\u7684\u65f6\u5019\u56e0\u4e3a\u5806\u5185\u5b58\u4e0d\u8db3\u800c\u5931\u8d25\uff0c\u4f46\u662f\u540e\u9762CMS\uff0c\u4f1a\u4e00\u76f4\u8fdb\u884c\u6807\u8bb0\u6e05\u7406\uff0c\u8001\u5e74\u4ee3\u57fa\u672c\u4e0a\u662f\u5360\u6ee1\u7684\uff0cS1,S2\u6ca1\u6709\u4efb\u4f55\u5360\u7528\uff0cjstat \u770b\u5230jvm\u4e00\u76f4\u5728\u8fdb\u884c YGC \u548c FGC\u4f46\u662f\u8001\u5e74\u4ee3\u4e00\u76f4\u4e0d\u51cf\u5c11\uff0c\u53ea\u6709\u5728eden\u533a\u5360\u6ee1\u4ee5\u540e\u6267\u884c\u540e\u7684YGC\uff0c\u624d\u4f1a\u5c06\u8001\u5e74\u4ee3\u7684\u5360\u7528\u771f\u6b63\u7684\u56de\u6536\uff0c\u8bf7\u95ee\u80fd\u5426\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u662f\u4e3a\u4ec0\u4e48\uff1f -XX:InitialHeapSize=1073741824 -XX:MaxHeapSize=1073741824 -XX:NewSize=838860800 -XX:MaxNewSize=838860800 -XX:MetaspaceSize=104857600 -XX:SoftRefLRUPolicyMSPerMB=2000 -XX:SurvivorRatio=2 -XX:MaxTenuringThreshold=15 -XX:PretenureSizeThreshold=20971520 -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=95 -XX:+UseCMSCompactAtFullCollection -XX:CMSFullGCsBeforeCompaction=0 -XX:+CMSParallelInitialMarkEnabled -XX:+CMSScavengeBeforeRemark -XX:+TraceClassLoading -XX:+TraceClassUnloading -XX:+PrintGCDetails -XX:+PrintGCDateStamps -verbose:gc -Xloggc:.\\\/filebeat\\\/gc.log -XX:ErrorFile=.\\\/logs\\\/jvm_error.log -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=.\\\/logs\\\/heapdump.hprof 204800.0 204800.0 0.0 0.0 409600.0 313375.4 229376.0 229352.0 \ufffd \ufffd 252 1.854 467 54.764 56.618 \u8fd8\u6709\u5c31\u662f\u5143\u6570\u636e\u533a\u662f\u4e71\u7801\u7684\u56de\u7b54\uff1a\u8fd9\u4e2a\u672c\u8d28\u8fd8\u662f\u4f60\u4ee3\u7801\u7684\u95ee\u9898\uff0c\u5e94\u8be5\u662f\u5927\u91cf\u7684\u6570\u636e\u5360\u6ee1\u4e86\u8001\u5e74\u4ee3\uff0c\u6ca1\u5904\u7406\u5b8c\u5c31\u56de\u6536\u4e0d\u6389====================================================\u95ee\u9898\uff1a\u8bf7\u95ee\u4e00\u4e0b[Loaded sun.reflect.GeneratedMethodAccessor129 from __JVM_DefineClass__]\u4ece\u8fd9\u884c\u65e5\u5fd7\u662f\u548b\u770b\u51fa\u6765GeneratedMethodAccessor\u4f1a\u88ab\u52a0\u8f7d\u5230MetaSpace\u7684, \u8fd9\u884c\u65e5\u5fd7\u597d\u50cf\u6ca1\u6709\u63d0\u4f9b\u7c7b\u88ab\u52a0\u8f7d\u5230\u54ea\u91cc\u7684\u4fe1\u606f\u56de\u7b54\uff1a\u7b2c\u4e00\u4e2a\u82f1\u6587\u5355\u8bcd\uff0cLoaded\uff0c\u5c31\u662f\u52a0\u8f7d\u7684\u610f\u601d====================================================\u603b\u7ed3\uff1a cms\u5b58\u5728\u7684\u95ee\u9898\uff0c\u6d6e\u52a8\u5783\u573e\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\uff0c\u7a7a\u95f4\u788e\u7247\u56e0\u4e3a\u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff0c\u5e76\u53d1\u6267\u884c\u5931\u8d25\u4e5f\u662f\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\u7684\u8bbe\u8ba1\u53ef\u80fd\u5b58\u5728\u9884\u7559\u7684\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\u3002\u4f46\u662fcms\u5bf9\u7a7a\u95f4\u788e\u7247\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u63d0\u4f9b\u4e86\u5185\u5b58\u7684\u6574\u7406\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u53bb\u63a7\u5236\uff0c\u9ed8\u8ba4\u662f\u5f00\u542f\uff0c\u5e76\u4e14\u6bcf\u6b21fullgc\u540e\u90fd\u53bb\u6574\u7406\u5185\u5b58\uff0c\u4f46\u662f\u5c31\u9700\u8981stw\u3002 \u6700\u540e\uff0cfullgc\u7684\u53d1\u751f\u60c5\u51b5\uff1a 1.\u8001\u5e74\u4ee3\u53ef\u7528\u5185\u5b58\u5c0f\u4e8e\u65b0\u751f\u4ee3\u5168\u90e8\u5bf9\u8c61\u7684\u5927\u5c0f\uff0c\u53c8\u6ca1\u6709\u5f00\u542f\u7a7a\u95f4\u62c5\u4fdd\uff0c\u5c31\u4f1a\u76f4\u63a5\u89e6\u53d1fullgc\u3002 2.\u5982\u679c\u65b0\u751f\u4ee3\u5b58\u6d3b\u5927\u5c0f\u5927\u4e8e\u8001\u5e74\u4ee3\u7a7a\u95f4\uff0c\u5e76\u4e14\u8001\u5e74\u4ee3\u7a7a\u95f4\u5c0f\u4e8e\u5386\u6b21\u664b\u5347\u7684\u5e73\u5747\u5185\u5b58\u5927\u5c0f\uff0c\u4e5f\u4f1a\u6267\u884cfullgc\u3002 3.\u5927\u5bf9\u8c61\u6216\u8005\u52a8\u6001\u5e74\u9f84\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u800c\u8001\u5e74\u4ee3\u7a7a\u95f4\u4e0d\u8db3\uff0c\u4e5f\u4f1a\u6267\u884cfullgc\u3002 4.\u5982\u679c\u662fcms\u56de\u6536\u5668\uff0c\u90a3\u4e48\u8001\u5e74\u4ee3\u5185\u5b58\u4f7f\u7528\u523092%\u4e4b\u540e\uff0c\u5c31\u4f1a\u89e6\u53d1fullgc\uff0c\u56e0\u4e3a\u5e76\u53d1\u6e05\u9664\u9636\u6bb5\u9700\u8981\u7ed9\u7528\u6237\u7ebf\u7a0b\u9884\u7559\u5185\u5b58\u7a7a\u95f4\u3002\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d====================================================\u95ee\u9898\uff1a\u4e00\u822c\u516c\u53f8\u7ebf\u4e0a\u7cfb\u7edf\u662f\u7981\u7528dump\u5185\u5b58\u5feb\u7ebf\u7684\u5417\u3002\u6211\u4eec\u88ab\u8fd0\u7ef4\u7981\u4e86\u56de\u7b54\uff1a\u662f\u7684\uff0c\u7ebf\u4e0a\u673a\u5668\u4e00\u822c\u6765\u8bf4\u4f1a\u7981\u6b62\u6267\u884cdump\uff0c\u56e0\u4e3adump\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u505c\u673a\u51e0\u79d2\u949f\uff0c\u6216\u8005\u51e0\u767e\u6beb\u79d2\uff0c\u53ef\u4ee5\u8ddf\u8fd0\u7ef4\u6c9f\u901a\uff0c\u8ba9\u4ed6\u4eec\u7ed9\u4f60dump\u4e00\u4e2a\u5feb\u7167\u51fa\u6765====================================================\u95ee\u9898\uff1a\u6253\u5361\u3002MAT\u597d\u7528\uff0c\u4f46\u662f\u529f\u80fd\u591a\u9700\u8981\u6162\u6162\u6478\u7d22\u56de\u7b54\uff1a\u662f\u7684\uff0c\u975e\u5e38\u597d\u7528\uff0c\u4e0d\u8fc7\u6587\u7ae0\u91cc\u4ecb\u7ecd\u7684\u51e0\u4e2a\u5e38\u7528\u529f\u80fd\u57fa\u672c\u591f\u7528\u4e86\uff0c\u5176\u5b9e\u4e00\u822c\u4e3b\u8981\u5c31\u662f\u770b\u5360\u7528\u5185\u5b58\u6700\u591a\u7684\u5bf9\u8c61\uff0c\u8ffd\u8e2a\u4e00\u4e0b\u54ea\u4e2a\u7ebf\u7a0b\uff0c\u7136\u540e\u770b\u4e00\u4e0b\u7ebf\u7a0b\u6267\u884c\u5806\u6808====================================================\u95ee\u9898\uff1a\u8001\u5e08\u60a8\u597d\uff01\u6211\u6700\u8fd1\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff1a\u6709\u4e00\u4e2a\u5b9a\u65f6\u4efb\u52a1\uff0c\u6bcf5\u79d2\u53bb\u8bfb\u53d6\u4e00\u5f20\u8868\u4e2d\u7684\u6570\u636e\uff0c\u8fd9\u5f20\u8868\u5927\u6982\u67097000\u591a\u884c\uff0c\u6bcf\u884c\u5927\u69823KB\u7406\u8bba\u4e0a\uff0c\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u6700\u5927\u5dee\u4e0d\u591a30MB\u5de6\u53f3\uff0c\u4f46\u6211\u901a\u8fc7jstat\u53d1\u73b0\uff0c\u5230\u5e95\u6bcf5\u79d2\u949f\uff0c\u52a0\u8f7d\u4e86\u5927\u6982300MB\u7684\u6570\u636e\uff0c\u6211\u5bf9\u6b64\u5f88\u56f0\u60d1\uff0c\u671b\u8001\u5e08\u6216\u8005\u5176\u4ed6\u540c\u5b66\u80fd\u591f\u89e3\u7b54\u4e00\u4e0b\uff5e\u56de\u7b54\uff1a\u8fd9\u4e2a\u5f88\u6b63\u5e38\u7684\uff0c\u56e0\u4e3a\u5b9e\u9645\u52a0\u8f7d\u5230\u5185\u5b58\u91cc\uff0c\u4f60\u6709\u4e0d\u540c\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\uff0c\u8fd8\u6709\u4e00\u4e9b\u5bf9\u8c61\u672c\u8eab\u4e5f\u4f1a\u5360\u636e\u5185\u5b58\u7a7a\u95f4\uff0c\u5b9e\u9645\u5185\u5b58\u6d88\u8017\u5f80\u5f80\u6bd4\u4f60\u6570\u636e\u672c\u8eab\u5927\u5c0f\u8981\u5927\u5f88\u591a====================================================\u603b\u7ed3\uff1aJVM\u662f\u4ec0\u4e48 \u7b54\uff1a\u672c\u8d28\u4e0a\u4e5f\u662f\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8d1f\u8d23\u8fd0\u884cjava\u7f16\u8bd1\u597d\u7684\u5b57\u8282\u7801\u6587\u4ef6(.class)\u3002 JVM\u8ddf\u6211\u4eec\u5e73\u65f6\u8fd0\u884c\u5728\u673a\u5668\u4e0a\u7684\u7cfb\u7edf\u4e4b\u95f4\u662f\u4ec0\u4e48\u5173\u7cfb \u7b54\uff1aJVM\u5177\u6709\u8de8\u5e73\u53f0\u6027\uff0c\u53ef\u4ee5\u5728\u591a\u79cd\u7cfb\u7edf\u4e0a\u6267\u884c\u3002 \u7c7b\u52a0\u8f7d\u5668\u7684\u6982\u5ff5 \u7b54\uff1a\u628a\u7f16\u8bd1\u597d\u7684\u90a3\u4e9b\\\".class\\\"\u5b57\u8282\u7801\u6587\u4ef6\u7ed9\u52a0\u8f7d\u5230JVM\u4e2d\u3002 \u5b57\u8282\u7801\u6267\u884c\u5f15\u64ce\u7684\u6982\u5ff5 \u7b54\uff1a\u9488\u5bf9\u52a0\u8f7d\u8fdb\u5185\u5b58\u7684\u7c7b\u8fdb\u884c\u4ee3\u7801\u7684\u6267\u884c\u3002\u56de\u7b54\uff1a\u603b\u7ed3\u5f97\u5f88\u597d====================================================\u95ee\u9898\uff1a\u73b0\u5728\u4e0d\u662f\u5f88\u6e05\u695a\u5e74\u8f7b\u4ee3\u7684gc root\u8ddf\u8e2a\u548c\u8001\u5e74\u4ee3\u7684gc root\u8ddf\u8e2a\uff0c\u662f\u4e0d\u662f\u90fd\u662f\u4ecegc root\u53bb\u627e\u5f15\u7528\u7684\u5bf9\u8c61\uff1f\u8fd8\u662f\u5e74\u8f7b\u4ee3\u7684\u76f4\u63a5\u4ecegc root\u904d\u5386\uff0c\u8001\u5e74\u4ee3\u5f97\u5e76\u53d1\u6807\u8bb0\uff0c\u4ece\u8001\u5e74\u4ee3\u4e2d\u7684\u5bf9\u8c61\u53bb\u627egc root\u56de\u7b54\uff1a\u90fd\u662f\u4ecegc roots\u5f00\u59cb\u8ffd\u8e2a\u7684====================================================\u95ee\u9898\uff1a\u8001\u5e08\u4f60\u597d\uff0c\u6211\u5728\u52a8\u6001\u5e74\u9f84\u5224\u65ad\u90a3\u5757\u6709\u70b9\u7591\u95ee\uff0c\u5047\u5982survivor\u5185\u5b58100m\uff0c\u73b0\u5728\u5df2\u7ecf\u5360\u7528\u4e8645m,\u90a3\u4e48\u6b64\u65f6\u6765\u4e86\u4e00\u517155m\u7684\u5bf9\u8c61\uff0c\u90a3\u4e48\u4e4b\u524d\u6240\u6709\u7684\u5bf9\u8c61\u5168\u90e8\u8fdb\u5165\u8001\u5e74\u4ee3\uff0c\u4f46\u662f\u8fd955m\u8fd8\u662f\u5927\u4e8e\u4e00\u534a\uff0c\u5047\u5982\u90fd\u662f1\u5c81\u4f1a\u600e\u4e48\u5904\u7406\u5462\uff0c\u6309\u5bf9\u8c61\u7684\u521b\u5efa\u65f6\u95f4\u8fdb\u5165\u5230\u8001\u5e74\u4ee3\u5417\uff1f\u56de\u7b54\uff1a\u5bf9\u7684\uff0c\u4e5f\u6709\u53ef\u80fd\u4f1a\u8fdb\u5165\u8001\u5e74\u4ee3====================================================\u95ee\u9898\uff1a\u8001\u5e08\u597d\uff0c\u5173\u4e8e\u52a8\u6001\u5bf9\u8c61\u5e74\u9f84\u5224\u65ad\uff0c\u6211\u7406\u89e3\u7684\u8fd8\u662f\u4e0d\u6e05\u6670\uff0c\u6211\u73b0\u5728\u7406\u89e3\u7684\u662f\u5224\u65ad\u5404\u4e2a\u5e74\u9f84\u6bb5\u4e4b\u548c\u662f\u4e0d\u662f\u8d85\u8fc7\u4e86survivor\u7684\u4e00\u534a\uff0c\u4f46\u662f\u201c\u5404\u4e2a\u5e74\u9f84\u201d\u5305\u542b\u672c\u6b21gc\u4e4b\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61\u5417\uff0c\u5982\u679c\u8d85\u8fc7\u4e86\u4e00\u534a\uff0c\u90a3\u4e48\u672c\u6b21gc\u4e4b\u540e\u7684\u5bf9\u8c61\u4f1a\u8fdb\u5165\u8001\u5e74\u4ee3\u5417\u56de\u7b54\uff1a\u5176\u5b9e\u5173\u4e8e\u8fd9\u91cc\u7684\u5b9e\u73b0\uff0c\u4e0d\u7528\u8fc7\u4e8e\u627e\u91cc\u9762\u7684\u7ec6\u8282\uff0c\u56e0\u4e3a\u4e0d\u540cJDK\u7248\u672c\u5b9e\u73b0\u90fd\u4e0d\u540c\u3002\u4f60\u53ea\u8981\u77e5\u9053\u51e0\u70b9\u7b2c\u4e00\uff0c\u6709\u52a8\u6001\u5e74\u9f84\u5224\u5b9a\u89c4\u5219\u7b2c\u4e8c\uff0c\u6709\u53ef\u80fd\u56e0\u4e3ayoung gc\u540e\u5b58\u6d3b\u5bf9\u8c61\u8fc7\u591a\u5bfc\u81f4\u8fdb\u5165survivor\u5bf9\u8c61\u592a\u591a\uff0c\u89e6\u53d1\u8fd9\u4e2a\u89c4\u5219\u7b2c\u4e09\uff0c\u53ef\u80fd\u56e0\u4e3a\u8fd9\u4e2a\u89c4\u5219\u5bfc\u81f4\u5f88\u591a\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3====================================================\u95ee\u9898\uff1a\u5b66\u8fd9\u4e2a\u4e13\u680f\uff0c\u611f\u89c9\u5c31\u5728\u4e0a\u8bfe\uff0c\u4e0d\u65ad\u5b66\u4e60\uff0c\u4e0d\u65ad\u7684\u590d\u4e60\u56de\u7b54\uff1a\u662f\u7684\uff0c\u4e00\u5473\u7684\u8bb2\u65b0\u5185\u5bb9\u5f80\u524d\u8d76\u8fdb\u5ea6\u662f\u4e0d\u9760\u8c31\u7684\uff0c\u8981\u4e0d\u65ad\u7684\u6709\u65b0\u7684\u77e5\u8bc6\uff0c\u540c\u65f6\u4e0d\u65ad\u5e26\u7740\u4e4b\u524d\u65e7\u7684\u77e5\u8bc6\u53cd\u590d\u5f3a\u5316\uff0c\u8fd8\u8981\u5b9a\u671f\u590d\u4e60\uff0c\u6700\u540e\u8ddf\u7740\u770b\u5b8c\uff0c\u5bf9\u6838\u5fc3\u77e5\u8bc6\u7edd\u5bf9\u90fd\u6d88\u5316\u7684\u5f88\u5f7b\u5e95\uff0c\u5f53\u7136\u81ea\u5df1\u4e5f\u5f97\u6ce8\u610f\u590d\u4e60\u548c\u7406\u89e3\uff0c\u8fd8\u6709\u7ed3\u5408\u81ea\u5df1\u7684\u5b9e\u9645\u5de5\u4f5c\u60c5\u51b5\u53bb\u79ef\u7d2f====================================================\u5b66\u5458\u601d\u8003\u9898\u56de\u7b54\uff1a 1.\u8c03\u6574s\u533a\u5230\u80fd\u591f\u88c5\u4e0b\u6bcf\u6b21minorgc\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61\u3002 2.\u8c03\u6574\u52a8\u6001\u5e74\u9f84\u5224\u65ad\uff0c\u53ef\u4ee5\u8003\u8651\u51cf\u5c0f\u9ed8\u8ba4\u503c\u3002 3.\u8bbe\u7f6e\u5927\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\u5224\u65ad\uff0c\u53ef\u4ee5\u8003\u8651\u8bbe\u7f6e\u4e3a1m\u3002 4.\u8bbe\u7f6e\u56de\u6536\u5668\u7ec4\u5408\uff0c\u4e00\u822c\u54cd\u5e94\u4f18\u5148\u5c31\u4f7f\u7528parnew+cms\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d====================================================\u95ee\u9898\uff1a\u7cfb\u7edf\u7ed9\u4e863g\u5806\u5185\u5b58\uff0c\u4f46\u662fdump\u51fa\u6765\u7684\u6587\u4ef6\u6253\u5f00\u770b\u53ea\u6709500mb\uff0c\u8fd9\u4e2a\u600e\u4e48\u89e3\u91ca\u56de\u7b54\uff1a\u8fd9\u4e2a\u5f88\u6b63\u5e38\uff0c\u8bf4\u660e\u4f60\u7684\u5185\u5b58\u5360\u7528\u5e76\u6ca1\u6709\u5360\u7528\u6ee13g\uff0c\u5c31\u4f7f\u7528\u4e86500mb\u5de6\u53f3\u7684\u5185\u5b58\uff0c\u53e6\u5916\u4e00\u4e2adump\u5feb\u7167\u4e5f\u4f1a\u505a\u4e00\u4e9b\u4e8c\u8fdb\u5236\u5b58\u50a8\uff0c\u4e0d\u4e00\u5b9a\u8ddf3g\u4e00\u6837====================================================\u603b\u7ed3\uff1a\u5173\u4e8e\u8001\u5e74\u4ee3\u7684\u4f18\u5316\uff0c\u90fd\u662f\u5efa\u7acb\u5728\u65b0\u751f\u4ee3\u5df2\u7ecf\u8fdb\u884c\u4f18\u5316\u7684\u524d\u63d0\u4e0b\u3002\u7136\u540e\u5206\u6790\u4ec0\u4e48\u60c5\u51b5\u4e0b\u5bf9\u8c61\u4f9d\u65e7\u4f1a\u8fdb\u53bb\u8001\u5e74\u4ee3\uff0c\u591a\u4e45\u4f1a\u586b\u6ee1\u8001\u5e74\u4ee3\uff0c\u518d\u6839\u636e\u5783\u573e\u56de\u6536\u5668\u7684\u7279\u6027\uff0c\u53bb\u8bbe\u7f6e\u5bf9\u5e94\u7684\u53c2\u6570\u3002\u4e00\u822c\u6765\u8bf4\u8001\u5e74\u4ee3\u7684\u53c2\u6570\u4fdd\u6301\u9ed8\u8ba4\u5c31\u597d\u4e86\uff0c\u65b0\u751f\u4ee3\u4f18\u5316\u597d\u4e86\uff0c\u5f88\u5c11\u751a\u81f3\u51e0\u4e4e\u4e0d\u4f1a\u53d1\u751ffullgc\u3002\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d====================================================\u95ee\u9898\uff1a\u8001\u5e08\uff0c\u6211\u53d1\u73b0\u4e00\u6b21young gc\u5e76\u6ca1\u6709\u5c06Eden\u533a\u6e05\u7a7a\uff0c\u800c\u662f\u4f1a\u6709\u90e8\u5206\u4fdd\u7559\u662f\u600e\u4e48\u56de\u4e8b\u5462\uff1f\u662f\u6211\u5f04\u7684\u4e0d\u5bf9\u8fd8\u662f\u6709\u4ec0\u4e48\u8bf4\u9053\u7684\uff1f\u56de\u7b54\uff1a\u4e0d\u662f\u7684\uff0c\u5b9e\u9645\u4e0a\u4f60\u8bf4\u7684\u90a3\u79cd\u662f\u4ed6\u521aygc\u5b8c\uff0c\u7136\u540e\u5c31\u6709\u5bf9\u8c61\u8fdb\u5165\u4e86eden\uff0c\u6240\u4ee5\u4f60\u5c31\u770b\u5230\u90a3\u6837\u5b50\u4e86====================================================\u603b\u7ed3\uff1ag1\u662f\u4ee5\u5783\u573e\u56de\u6536\u4f18\u5148\u7684\u56de\u6536\u5668\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u5c06\u5185\u5b58\u533a\u57df\u5212\u5206\u6210region\u7136\u540e\u7ef4\u62a4\u4e00\u4e2a\u56de\u6536\u4ef7\u503c\u5217\u8868\uff0c\u5efa\u7acb\u4e00\u4e2a\u53ef\u9884\u6d4b\u7684\u65f6\u95f4\u505c\u987f\u6a21\u578b\u3002\u5185\u90e8\u4fdd\u7559\u4e86\u5e74\u4ee3\uff0c\u4f46\u662f\u4ec5\u4ec5\u662f\u903b\u8f91\u4e0a\u8fdb\u884c\u4e86\u4fdd\u7559\uff0c\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u4f1a\u6839\u636e\u9700\u8981\u8fdb\u884c\u53d8\u5316\u3002\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d====================================================\u603b\u7ed3: rabbitmq\u4e22\u5931\u6570\u636e\u7684\u60c5\u51b5\uff1a 1\u3001\u751f\u4ea7\u8005\u7aef\u3002\u6d88\u606f\u56e0\u4e3a\u7f51\u7edc\u95ee\u9898\u4e22\u5931\u6216\u8005\u53d1\u9001\u5230rabbitmq\u65f6\u51fa\u9519\u4e86\u3002 2\u3001rabbitmq\u670d\u52a1\u7aef\u3002\u672a\u505a\u6301\u4e45\u5316\u3002 3\u3001\u6d88\u8d39\u8005\u7aef\u3002\u6253\u5f00\u4e86autoAck\uff0c\u5728\u672a\u5b8c\u6210\u6d88\u8d39\u4e4b\u524d\u5c31\u81ea\u52a8\u56de\u590d\u4e86\u3002 rabbitmq\u4e22\u5931\u6570\u636e\u7684\u89e3\u51b3\uff1a 1\u3001\u751f\u4ea7\u8005\u7aef\u3002\u901a\u8fc7confirm\u6a21\u5f0f\u5f02\u6b65\u786e\u8ba4\u6d88\u606f\u53d1\u9001\u6210\u529f\uff0c\u5728\u5931\u8d25\u540e\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u5904\u7406\u5931\u8d25\u7684\u903b\u8f91\u3002 2\u3001\u670d\u52a1\u7aef\u3002\u6253\u5f00\u6301\u4e45\u5316\u673a\u5236\u3002\u8fd9\u91cc\u6d89\u53ca\u5230\u4e24\u4e2a\u53c2\u6570\uff0c\u4e00\u4e2a\u662f\u5efa\u7acbqueue\u7684\u65f6\u5019\uff0c\u6301\u4e45\u5316\u90a3\u4e2aqueue\u3002\u53e6\u5916\u4e00\u4e2a\u662f\u751f\u4ea7\u8005\u53d1\u9001\u6d88\u606f\u7684\u65f6\u5019\uff0c\u628adeliveryMode\u8bbe\u7f6e\u4e3a2\uff0c\u8ba9MQ\u628a\u8fd9\u6761\u6570\u636e\u4e5f\u7ed9\u6301\u4e45\u5316\u3002\u4f46\u662f\u5c3d\u7ba1\u5982\u6b64\uff0c\u5982\u679c\u5728\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u5728rabbitmq\u4e2d\u5185\u5b58\u5199\u6210\u529f\uff0c\u4f46\u662f\u8fd8\u6ca1\u6765\u53ca\u6301\u4e45\u5316\u65f6\uff0crabbitmq\u5b95\u673a\uff0c\u8fd9\u90e8\u5206\u5728\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u4e5f\u4f1a\u4e22\u5931\uff0c\u4e0d\u8fc7\u51e0\u7387\u5f88\u5c0f\u3002 3\u3001\u5728\u6d88\u8d39\u8005\u7aef\uff0c\u53bb\u6389autoAck\uff0c\u5728\u81ea\u5df1\u5b8c\u6210\u903b\u8f91\u540e\u624b\u52a8\u63d0\u4ea4ack\u3002\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d====================================================\u603b\u7ed3\uff1a kafka\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u60c5\u51b5\uff1a 1\u3001\u751f\u4ea7\u8005\u7aef\uff1a\u548crabbitmq\u7c7b\u4f3c\uff0c\u5982\u679c\u6ca1\u80fd\u786e\u8ba4\u5199\u6210\u529f\uff0c\u4e5f\u6ca1\u6709\u91cd\u53d1\u90a3\u4e48\u4e5f\u4f1a\u4e22\u5931\u3002 2\u3001\u670d\u52a1\u7aef\uff1a\u5982\u679c\u672a\u6765\u5f97\u53ca\u548c\u4ece\u8282\u70b9\u540c\u6b65\u6570\u636e\u5c31\u5b95\u673a\u4e86\uff0c\u90a3\u4e48\u8fd9\u90e8\u5206\u6570\u636e\u5c31\u4f1a\u4e22\u5931\u3002 3\u3001\u6d88\u8d39\u8005\u7aef\uff1a\u548crabbitmq\u7c7b\u4f3c\uff0c\u5982\u679c\u81ea\u52a8\u63d0\u4ea4offset\u4f9d\u65e7\u4f1a\u51fa\u73b0\u4e22\u5931\u3002 kafka\u51fa\u73b0\u6570\u636e\u4e22\u5931\u7684\u89e3\u51b3\uff1a 1\u3001\u751f\u4ea7\u8005\u7aef\uff1a\u8bbe\u7f6e\u53c2\u6570\uff0c\u8981\u6c42\u6bcf\u4e2a\u4ece\u8282\u70b9\u90fd\u5199\u6210\u529f\u540e\u624d\u4efb\u52a1\u6210\u529f\uff0c\u53e6\u5916\u5982\u679c\u53d1\u9001\u5931\u8d25\uff0c\u91cd\u8bd5\u6b21\u6570\u8bbe\u7f6e\u4e00\u4e2a\u5f88\u5927\u7684\u503c\u3002 2\u3001\u670d\u52a1\u7aef\uff1a\u8bbe\u7f6e\u53c2\u6570\uff0c\u8981\u6c42\u4ece\u8282\u70b9\u8d77\u7801\u5927\u4e8e1\uff0c\u4e14\u81f3\u5c11\u6709\u4e00\u4e2a\u80fd\u88ab\u611f\u77e5\u5230\u3002 3\u3001\u6d88\u8d39\u8005\u7aef\uff1a\u53d6\u6d88\u6389\u81ea\u52a8\u56de\u590d\u3002 \u4e0d\u8fc7\uff0c\u5f3a\u4e00\u81f4\u7684\u4fdd\u8bc1\u6d88\u606f\u4e0d\u4e22\u5931\uff0c\u5fc5\u7136\u4f1a\u5f71\u54cd\u5230\u541e\u5410\u91cf\u3002\u56de\u7b54\uff1a\u603b\u7ed3\u7684\u5f88\u597d====================================================\u95ee\u9898\uff1a\u6253\u5361\uff0cjvm\u6027\u80fd\u4f18\u5316\u600e\u4e48\u505a\uff1f\u7528jstat\u5440\uff0c\u54c8\u54c8\uff0c\u795e\u5668\u5728\u624b\uff0c\u518d\u6765\u4e2amat\u5de5\u5177\uff0c\u8fd8\u627e\u4e0d\u5230\u95ee\u9898\uff1f\u5996\u602a\u5427\u3002\u56de\u7b54\uff1a\u662f\u7684\uff0c\u57fa\u672cgc\u65e5\u5fd7+jstat+MAT\u5c31\u8db3\u591f\u4e86====================================================6.JVM\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u52a0\u8f7d\u4e00\u4e2a\u7c7b \u7b54: a.JVM\u8fdb\u7a0b\u542f\u52a8\u4e4b\u540e\uff0c\u4ee3\u7801\u4e2d\u5305\u542b\\\"main()\\\"\u65b9\u6cd5\u7684\u4e3b\u7c7b\u4e00\u5b9a\u4f1a\u88ab\u52a0\u8f7d\u5230\u5185\u5b58\u3002 b.\u6267\u884c\\\"main()\\\"\u65b9\u6cd5\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9047\u5230\u522b\u7684\u7c7b\u4e5f\u4f1a\u4ece\u5bf9\u5e94\u7684\\\".class\\\"\u5b57\u8282\u7801\u6587\u4ef6\u52a0\u8f7d \u5bf9\u5e94\u7684\u7c7b\u5230\u5185\u5b58\u91cc\u9762\u3002 7.\u4e00\u4e2a\u7c7b\u4ece\u52a0\u8f7d\u5230\u4f7f\u7528\uff0c\u4e00\u822c\u4f1a\u7ecf\u5386\u54ea\u4e9b\u8fc7\u7a0b \u7b54\uff1a\u52a0\u8f7d-&gt;\u9a8c\u8bc1-&gt;\u51c6\u5907-&gt;\u89e3\u6790-&gt;\u521d\u59cb\u5316-&gt;\u4f7f\u7528-&gt;\u5378\u8f7d a.\u52a0\u8f7d:\u5c06\u7f16\u8bd1\u597d\u7684\\\".class\\\"\u5b57\u8282\u7801\u6587\u4ef6\u52a0\u8f7d\u5230JVM\u4e2d b.\u9a8c\u8bc1:\u6839\u636eJVM\u89c4\u8303\uff0c\u6821\u9a8c\u52a0\u8f7d\u8fdb\u6765\u7684\\\".class\\\"\u5b57\u8282\u7801\u6587\u4ef6 c.\u51c6\u5907:\u7ed9\u7c7b\u548c\u7c7b\u53d8\u91cf\u5206\u914d\u4e00\u5b9a\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4e14\u7ed9\u7c7b\u53d8\u91cf\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u521d\u59cb\u503c(0\u6216\u8005nul) d.\u89e3\u6790:\u628a\u7b26\u53f7\u5f15\u7528\u66ff\u6362\u4e3a\u76f4\u63a5\u5f15\u7528\u7684\u8fc7\u7a0b e.\u521d\u59cb\u5316:\u6839\u636e\u7c7b\u521d\u59cb\u5316\u4ee3\u7801\u7ed9\u7c7b\u53d8\u91cf\u8d4b\u503c \u6ce8\uff1a\u6267\u884cnew\u51fd\u6570\u6765\u5b9e\u4f8b\u5316\u7c7b\u5bf9\u8c61\u4f1a\u89e6\u53d1\u7c7b\u52a0\u8f7d\u5230\u521d\u59cb\u5316\u7684\u5168\u8fc7\u7a0b\uff1b\u6216\u8005\u662f\u5305\u542b\\\"main()\\\"\u65b9 \u6cd5\u7684\u4e3b\u7c7b\uff0c\u5fc5\u987b\u662f\u7acb\u9a6c\u521d\u59cb\u5316\u7684\u3002\u5982\u679c\u521d\u59cb\u5316\u4e00\u4e2a\u7c7b\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u4ed6\u7684\u7236\u7c7b\u8fd8\u6ca1\u521d\u59cb\u5316\uff0c \u90a3\u4e48\u5fc5\u987b\u5148\u521d\u59cb\u5316\u4ed6\u7684\u7236\u7c7b\u3002 8.Java\u91cc\u6709\u54ea\u4e9b\u7c7b\u52a0\u8f7d\u5668 \u7b54: a.\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668: \u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7d\u6211\u4eec\u5728\u673a\u5668\u4e0a\u5b89\u88c5\u7684Java\u76ee\u5f55(lib\u76ee\u5f55)\u4e0b\u7684\u6838\u5fc3\u7c7b\u5e93 b.\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\uff1a\u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7dJava\u76ee\u5f55\u4e0b\u7684\\\"lib\\\/ext\\\"\u76ee\u5f55\u4e2d\u5f97\u7c7b C.\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\uff1a\u4e3b\u8981\u8d1f\u8d23\u52a0\u8f7d\\\"ClassPath\\\"\u73af\u5883\u53d8\u91cf\u6240\u6307\u5b9a\u7684\u8def\u5f84\u4e2d\u7684\u7c7b\uff0c\u5927\u81f4 \u53ef\u4ee5\u7406\u89e3\u4e3a\u52a0\u8f7d\u6211\u4eec\u5199\u597d\u7684java\u4ee3\u7801 d.\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\uff1a\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u52a0\u8f7d\u7c7b 9.\u4ec0\u4e48\u662f\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236 \u7b54\uff1aJVM\u7684\u7c7b\u52a0\u8f7d\u5668\u662f\u6709\u4eb2\u5b50\u5c42\u7ea7\u7ed3\u6784\u7684\uff0c\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u6700\u4e0a\u5c42\uff0c\u6269\u5c55\u7c7b\u52a0\u8f7d\u5668\u7b2c\u4e8c\u5c42\uff0c \u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\u7b2c\u4e09\u5c42\uff0c\u81ea\u5b9a\u4e49\u7c7b\u52a0\u8f7d\u5668\u7b2c\u56db\u5c42\u3002\u5f53\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\u9700\u8981\u52a0\u8f7d\u4e00\u4e2a\u7c7b\u65f6\uff0c \u4ed6\u4f1a\u5148\u59d4\u6d3e\u7ed9\u81ea\u5df1\u7684\u7236\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\uff0c\u6700\u7ec8\u4f20\u5bfc\u5230\u9876\u5c42\u7684\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\uff0c\u4f46\u662f\u5982\u679c\u7236\u7c7b \u52a0\u8f7d\u5668\u5728\u81ea\u5df1\u8d1f\u8d23\u52a0\u8f7d\u7684\u8303\u56f4\u5185\uff0c\u6ca1\u627e\u5230\u8fd9\u4e2a\u7c7b\uff0c\u90a3\u4e48\u5c31\u4f1a\u4e0b\u63a8\u52a0\u8f7d\u6743\u5229\u7ed9\u81ea\u5df1\u7684\u5b50\u7c7b\u52a0\u8f7d\u5668\u56de\u7b54\u7684\u5f88\u597d====================================================\u95ee\u9898\uff1a\u8001\u5e08\u80fd\u8bf4\u8bf4RememberSet\u5417\uff0c\u6211\u5728\u6df1\u5165\u7406\u89e3JVM\u8fd9\u672c\u4e66\u4e0a\u770b\u5230\u4e86\u8001\u5e74\u4ee3\u5f15\u7528\u65b0\u751f\u4ee3\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u662f\u7528RememberSet\u6765\u907f\u514d\u5168\u5806\u626b\u63cf\uff0c\u90a3\u8fdb\u884cOld GC\u7684\u65f6\u5019\uff0c\u65b0\u751f\u4ee3\u5f15\u7528\u8001\u5e74\u4ee3\uff0c\u662f\u76f4\u63a5\u626b\u63cf\u6574\u4e2a\u65b0\u751f\u4ee3\u5417\uff1f\u6211\u770b\u6709\u7684\u535a\u5ba2\u6709\u8bf4\u9053CMS\u7684\u5e76\u53d1\u9884\u6e05\u7406\u8ddf\u53ef\u4e2d\u65ad\u5e76\u53d1\u9884\u6e05\u7406\uff0c\u8fd9\u53c8\u662f\u4ec0\u4e48\u3002\u56de\u7b54\uff1a\u8fd9\u662f\u4e00\u4e9bJVM\u5e95\u5c42\u6e90\u7801\u7ea7\u522b\u7684\u539f\u7406\uff0c\u6211\u4eec\u8fd9\u4e2a\u4e13\u680f\u5b9a\u4f4d\u662f\u5b9e\u6218\u578b\u7684\uff0c\u57fa\u672c\u628a\u65e5\u5e38\u751f\u4ea7\u5b9e\u6218\u7684\u5185\u5bb9\u90fd\u5206\u6790\u8fc7\u4e86\uff0c\u800c\u4e14\u90fd\u662f\u7ed3\u5408\u6848\u4f8b\u7684\u3002\u6709\u4e00\u4e9b\u662f\u5c5e\u4e8e\u6df1\u5165\u5e95\u5c42\u7684\u6280\u672f\u7ec6\u8282\uff0c\u4f46\u662f\u8ddf\u5e73\u65f6\u5b9e\u6218\u4f18\u5316\u5173\u7cfb\u4e0d\u5927\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u6211\u4eec\u6ca1\u6709\u8bb2\u8fd9\u4e9b\u5185\u5bb9\u3002\u4e5f\u8bb8\u672a\u6765\u4f1a\u51fa\u90a3\u79cdJVM\u6e90\u7801\u7ea7\u522b\u7684\u6df1\u5165\u7684\u8bfe\u7a0b\uff0c\u4f1a\u8bf4\u5230\u4f60\u8bf4\u7684\u90a3\u4e9b\u5185\u5bb9\u3002====================================================\u95ee\u9898\uff1a\u4f60\u7684\u603b\u7ed3\u6b63\u662f\u6211\u5fc3\u4e2d\u60f3\u603b\u7ed3\u7684\uff0c\u9884\u6599\u4e4b\u4e2d\u3002jvm\u8fd0\u884c\u539f\u7406\u3001\u4ec0\u4e48\u65f6\u5019yong gc\u3001\u4ec0\u4e48\u65f6\u5019\u8fdb\u5165\u8001\u5e74\u4ee3\u3001\u4ec0\u4e48\u65f6\u5019full gc\u3001\u4e3a\u4ec0\u4e48\u4f1a\u9891\u7e41full gc\u3001\u5206\u6790\u5236\u5b9ajvm\u6a21\u677f\u56de\u7b54\uff1a\u662f\u7684\uff0c\u5b9a\u671f\u590d\u4e60\u548c\u603b\u7ed3\u975e\u5e38\u7684\u91cd\u8981====================================================\u95ee\u9898\uff1a\u4e4b\u524d\u4e5f\u770b\u8fc7jvm\u7684\u4e66\uff0c\u770b\u4e86\u4e00\u4e9b\u89c6\u9891\uff0c\u4f46\u600e\u4e48\u4f18\u5316\u8fd8\u662f\u4e00\u5934\u96fe\u6c34\u3002\u5f88\u5e78\u8fd0\u9047\u5230\u4e86\u8001\u5e08\u7684\u4e13\u680f\uff0c\u73b0\u5728\u4e0d\u7ba1\u5bf9\u5b9e\u6218\u8fd8\u662f\u9762\u8bd5\u90fd\u5145\u6ee1\u4fe1\u5fc3\u3002\u6bcf\u5929\u90fd\u8981\u82b13-4\u4e2a\u5c0f\u65f6\u5b66\u4e60\u603b\u7ed3\uff0c\u73b0\u5728\u770b\u6587\u7ae0\u8fd8\u7b97\u8f7b\u677e\uff0c\u540e\u7eed\u8981\u628a\u8001\u5e08\u6240\u6709\u7684\u6848\u4f8b\u603b\u7ed3\u6210\u81ea\u95ee\u81ea\u7b54\u7684\u9762\u8bd5\u9898\u3002\u4e5f\u6839\u636e\u6240\u5b66\uff0c\u57fa\u4e8ejstat\u521d\u6b65\u505a\u4e86\u4e2a\u76d1\u63a7\u5c0f\u5de5\u5177\uff0c\u540e\u9762\u7ee7\u7eed\u5b8c\u5584\uff0c\u4e5f\u7b97\u662f\u5bf9\u4e13\u680f\u6700\u597d\u7684\u603b\u7ed3\u3002\u8c22\u8c22\u8001\u5e08\uff01\uff01\uff01\uff01\uff01\uff01\u56de\u7b54\uff1a\u597d\u7684\uff0c\u4f60\u771f\u662f\u592a\u68d2\u4e86\uff0c\u4f60\u4eec\u5b66\u6709\u6240\u6210\uff0c\u771f\u6b63\u638c\u63e1JVM\u7684\u4f18\u5316\u5b9e\u6218\uff0c\u63d0\u5347\u56fd\u5185\u5de5\u7a0b\u5e08\u7684\u6280\u672f\u6c34\u5e73\uff0c\u5c31\u662f\u6211\u4eec\u5e0c\u671b\u505a\u7684\u4e8b\u60c5====================================================\u95ee\u9898\uff1a\u8001\u5e08\u597d\uff0c\u7ebf\u4e0a\u4e5f\u51fa\u73b0\u4e86FUll GC\u7684\u544a\u8b66\uff0c\u65e5\u5fd7\u5982\u4e0b: 2019-09-05T17:26:15.161+0800: 85779.869: [Full GC (Metadata GC Threshold) 2019-09-05T17:26:15.161+0800: 85779.869: [CMS: 472256K-&gt;445559K(3022848K), 2.0333919 secs] 1425388K-&gt;445559K(4910336K), [Metaspace: 277217K-&gt;277217K(1511424K)], 2.0355295 secs] [Times: user=2.01 sys=0.01, real=2.03 secs] 2019-09-05T17:26:17.197+0800: 85781.905: [Full GC (Last ditch collection) 2019-09-05T17:26:17.197+0800: 85781.905: [CMS: 445559K-&gt;382990K(3022848K), 1.6770458 secs] 445559K-&gt;382990K(4910336K), [Metaspace: 276037K-&gt;276037K(1511424K)], 1.6863552 secs] [Times: user=1.63 sys=0.01, real=1.68 secs] 2019-09-05T17:26:18.886+0800: 85783.594: [GC (CMS Initial Mark) [1 CMS-initial-mark: 382990K(3022848K)] 382992K(4910336K), 0.0134842 secs] [Times: user=0.02 sys=0.00, real=0.02 secs] \u521d\u6b65\u786e\u8ba4\u662f\u6bcf\u6b21\u53d1\u5e03groovy\u811a\u672c\uff0cclassload\u7684\u65f6\u5019\u624d\u4f1a\u5f6a\u9ad8\uff0c\u8fd9\u79cd\u95ee\u9898\u57fa\u672c\u5b9a\u4f4d\u5230\u4e86\uff0c\u4f46\u662f\u9700\u8981\u600e\u4e48\u53bb\u4f18\u5316\u548c\u89e3\u51b3\u5462?\u56de\u7b54\uff1a\u8fd9\u4e2a\u5f88\u660e\u786e\u4e86\uff0c\u4f60\u7684metaspace\u592a\u5c0f\u4e86\uff0c\u6240\u4ee5classload\u592a\u591a\u7684\u65f6\u5019\u4f1a\u89e6\u53d1full gc\uff0c\u53ea\u8981\u7ed9metaspace\u533a\u57df\u66f4\u5927\u7a7a\u95f4\u5c31\u53ef\u4ee5\u4e86====================================================\u95ee\u9898\uff1a\u8fd9\u4e2a\u8bfe\u7a0b\u771f\u7684\u662f\u6211\u5b66\u4e60\u8fc7\u7684JVM\u8bfe\u7a0b\u548c\u770b\u8fc7\u7684\u4e66\u4e2d\u6700\u597d\u7684,\u6ca1\u6709\u4e4b\u4e00,\u5176\u4ed6\u7684\u8bfe\u7a0b\u90fd\u611f\u89c9\u662f\u9694\u9774\u6414\u75d2,\u8fd9\u4e2a\u8bfe\u662f\u76f4\u51fb\u8981\u5bb3,\u800c\u4e14\u6bcf\u4e2a\u95ee\u9898\u90fd\u80fd\u5f97\u5230\u56de\u590d, \u975e\u5e38\u611f\u8c22\u56de\u7b54\uff1a\u591a\u8c22\u4f60\u7684\u652f\u6301====================================================\u95ee\u9898\uff1a\u73b0\u5728\u5f88\u6e34\u671b\u53bb\u89e3\u51b3\u7ebf\u4e0a\u95ee\u9898\uff0c\u5f53\u522b\u4eba\u641e\u4e0d\u5b9a\u7684\u65f6\u5019\u6211\u6765\u4e0a\uff0c\u53ef\u60dc\u73b0\u5728\u7cfb\u7edf\u7684\u91cf\u592a\u5c11\uff0c\u57fa\u672c\u4e0a\u5806\u5185\u5b586G,\u8001\u5e74\u4ee3\u548c\u5e74\u8f7b\u4ee3\u5206\u522b3G\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f\u6027\u80fd\u95ee\u9898\u3002\u53ea\u80fd\u5047\u8bbe\u5b83\u7684\u91cf\u589e\u52a0100\u500d\u4e86\u3002\u56de\u7b54\uff1a\u662f\u7684\uff0c\u56e0\u4e3a\u7cfb\u7edf\u91cf\u592a\u5c0f\uff0c\u5c31\u662fEden\u533a\u90fd\u6162\u6162\u624d\u6ee1\uff0c\u6ee1\u4e86\u4ee5\u540e\u5b58\u6d3b\u5bf9\u8c61\u4e5f\u5f88\u5c11\uff0c\u51e0\u4e4e\u5f88\u5c11\u5bf9\u8c61\u8fdb\u5165\u8001\u5e74\u4ee3\u7684\uff0c\u6240\u4ee5\u4e00\u822c\u91cf\u5c0f\u7684\u7cfb\u7edf\u6ca1\u6709JVM\u7684\u95ee\u9898====================================================\u95ee\u9898\uff1a\u8bf7\u95ee\u4e00\u4e0b\u5982\u679c\u8bbf\u95ee\u91cf\u589e\u52a0100\u500d, \u6bd4\u5982QPS\u4ece100, \u731b\u589e\u523010000, \u800c\u6211Tomcat\u7684MaxThread\u8bbe\u7f6e\u7684\u662f200, \u800c\u6211\u6bcf\u4e2a\u8bf7\u6c42\u7684\u5904\u7406\u65f6\u95f4\u52a0\u5165\u662f100ms, \u90a3\u7406\u8bba\u4e0a\u7cfb\u7edf1S\u4e2d\u53ef\u4ee5\u5904\u7406\u7684\u8bf7\u6c42\u6570\u5c31\u662f2000, \u8fd9\u5df2\u7ecf\u786e\u5b9a\u4e86\u554a, \u5373\u4f7fQPS\u8fbe\u523010000,\u591a\u4f59\u7684\u8bf7\u6c42\u53ea\u4f1a\u5728OS\u4e2d\u7684Epoll\u6a21\u578b\u4e2d\u6392\u961f\u5427,\u6211\u611f\u89c9\u597d\u50cf\u4e0d\u4f1a\u8f6e\u5230JVM\u7684\u95ee\u9898\u66b4\u9732, \u6240\u4ee5\u4f18\u5316jvm\u53c2\u6570\u7684\u65f6\u5019\u53ea\u8981\u8003\u8651\u5230\u6700\u5927QPS\u662f2000\u5c31\u53ef\u4ee5\u4e86, \u8bf7\u95ee\u6211\u8fd9\u6837\u7406\u89e3\u5bf9\u4e0d\u5bf9?\u56de\u7b54\uff1a\u6211\u7ed9\u4f60\u4e3e\u4e2a\u4f8b\u5b50\u600e\u4e48\u601d\u8003\uff0c\u6bd4\u5982\u4f60\u73b0\u5728\u6709\u4e00\u4e2a\u7cfb\u7edf\uff0c\u90e8\u7f72\u5728\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u673a\u5668\u80fd\u627f\u8f7d\u7684\u6781\u9650\u5e76\u53d1\u91cf\u662f\u6bcf\u79d2\u5904\u74061000\u4e2a\u8bf7\u6c42\uff0c\u7ed3\u679c\u4f60\u73b0\u5728\u7cfb\u7edf\u91cf\u5f88\u5c0f\uff0c\u6bcf\u79d2\u624d\u5904\u740610\u4e2a\u8bf7\u6c42\u3002\u6b64\u65f6\u4f60\u76f4\u63a5\u5047\u8bbe\u4f60\u7684\u673a\u5668\u8d44\u6e90\u88ab\u6253\u6ee1\uff0c\u6bcf\u79d2\u5904\u74061000\u4e2a\u8bf7\u6c42\uff0c\u540c\u6837\u7684\u5185\u5b58\u4e0b\uff0c\u8bf7\u6c42\u91cf\u5927\u4e861000\u500d\uff0c\u4f60\u7684JVM\u4f1a\u5982\u4f55\u8fd0\u884c\uff1f====================================================\u95ee\u9898\uff1a\u4eca\u5929\u662f\u5206\u6790\u800c\u4e0d\u8ba8\u8bba\u3002\u8ba9\u6211\u4eec\u53bb\u56de\u987e\u4e4b\u524d\u6240\u5b66\u7684\u77e5\u8bc6\uff0c\u7136\u540e\u7ed3\u5408\u81ea\u5df1\u73b0\u6709\u7cfb\u7edf\u53bb\u51c6\u5907\u8fd9\u65b9\u9762\u7684\u9762\u8bd5\u6280\u5de7\u3002\u56de\u7b54\uff1a\u662f\u7684\uff0c\u52a0\u6cb9\u597d\u597d\u590d\u4e60\u548c\u51c6\u5907\uff0c\u591a\u7ed3\u5408\u81ea\u5df1\u5de5\u4f5c\u7684\u7cfb\u7edf\u53bb\u601d\u8003JVM\u7684\u4f18\u5316\uff0c\u653e\u5927100\u500d\u538b\u529b\u601d\u8003\u4e00\u4e0b====================================================11.\u4ec0\u4e48\u662fJVM\u5185\u5b58\u533a\u57df\u5212\u5206 \u7b54\uff1a\u52a0\u8f7d\u8fdb\u6765\u7684\u7c7b\u4fe1\u606f\uff0c\u9700\u8981\u653e\u5728\u67d0\u4e2a\u5185\u5b58\u533a\u57df\u3002\u65b9\u6cd5\u8fd0\u884c\u65f6\uff0c\u65b9\u6cd5\u91cc\u9762\u5f88\u591a\u53d8\u91cf\u4e4b\u7c7b\u7684 \u4e1c\u897f\u9700\u8981\u653e\u5728\u67d0\u4e2a\u5185\u5b58\u533a\u57df\u3002\u4ee3\u7801\u91cc\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u4e5f\u9700\u8981\u5185\u5b58\u7a7a\u95f4\u6765\u5b58\u653e\u3002\u6240\u4ee5JVM\u4e2d\u5fc5\u987b \u5212\u5206\u51fa\u6765\u4e0d\u540c\u7684\u5185\u5b58\u533a\u57df\uff0c\u4e3a\u4e86\u8ba9\u6211\u4eec\u5199\u597d\u7684\u4ee3\u7801\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u66f4\u65b9\u4fbf\u7684\u6839\u636e\u9700\u8981\u6765\u4f7f\u7528\u3002 12.JVM\u4e2d\u6709\u54ea\u4e9b\u5185\u5b58\u533a\u57df \u7b54\uff1aa.\u65b9\u6cd5\u533a: \u5728JDK1.8\u4ee5\u540e,\u8fd9\u5757\u533a\u57df\u7684\u540d\u5b57\u6539\u4e86,\u53eb\u505a\\\"Metaspace\\\"\u3002\u4e3b\u8981\u5b58\u653e\u6211\u4eec\u81ea\u5df1\u5199\u7684 \u5404\u79cd\u7c7b\u76f8\u5173\u7684\u4fe1\u606f\u3002 b.\u7a0b\u5e8f\u8ba1\u6570\u5668\uff1a\u5b57\u8282\u7801\u6307\u4ee4\u901a\u8fc7\u5b57\u8282\u7801\u6267\u884c\u5f15\u64ce\u88ab\u4e00\u6761\u4e00\u6761\u6267\u884c\uff0c\u624d\u80fd\u5b9e\u73b0\u6211\u4eec\u5199\u597d\u7684\u4ee3\u7801 \u6267\u884c\u7684\u6548\u679c\u3002\u7a0b\u5e8f\u6280\u672f\u5668\u5c31\u662f\u7528\u6765\u8bb0\u5f55\u5f53\u524d\u6267\u884c\u7684\u5b57\u8282\u7801\u6307\u4ee4\u7684\u4f4d\u7f6e\uff0c\u4e5f\u5c31\u662f\u8bb0\u5f55\u76ee\u524d\u6267\u884c\u5230\u4e86\u54ea\u4e00\u6761\u5b57\u8282\u7801\u6307\u4ee4\u3002JVM\u662f\u652f\u6301\u591a\u4e2a\u7ebf\u7a0b\u7684\uff0c\u6240\u4ee5\u5c31\u4f1a \u6709\u591a\u4e2a\u7ebf\u7a0b\u6765\u5e76\u53d1\u6267\u884c\u4e0d\u540c\u7684\u4ee3\u7801\u6307\u4ee4\uff0c\u56e0\u6b64\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u6709\u81ea\u5df1\u7684\u4e00\u4e2a \u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u4e13\u95e8\u8bb0\u5f55\u5f53\u524d\u8fd9\u4e2a\u7ebf\u7a0b\u76ee\u524d\u6267\u884c\u5230\u4e86\u54ea\u4e00\u6761\u5b57\u8282\u7801\u6307\u4ee4\u3002 c.Java\u865a\u62df\u673a\u6808\uff1a\u4fdd\u5b58\u6bcf\u4e2a\u65b9\u6cd5\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u7b49\u6570\u636e\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u4f1a\u6709\u81ea\u5df1\u7684Java\u865a\u62df\u673a\u6808\u3002 \u5982\u679c\u7ebf\u7a0b\u6267\u884c\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5c31\u4f1a\u5bf9\u8fd9\u4e2a\u65b9\u6cd5\u8c03\u7528\u521b\u5efa\u5bf9\u5e94\u7684\u4e00\u4e2a\u6808\u5e27(\u6808\u5e27 \u91cc\u5c31\u6709\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5c40\u90e8\u53d8\u91cf\u8868,\u64cd\u4f5c\u6570\u6808,\u52a8\u6001\u94fe\u63a5,\u65b9\u6cd5\u51fa\u53e3\u7b49)\uff0c\u7136\u540e\u538b\u5165 \u7ebf\u7a0b\u7684Java\u865a\u62df\u673a\u6808\u3002\u65b9\u6cd5\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\u5c31\u4eceJava\u865a\u62df\u673a\u6808\u51fa\u6808\u3002\u56e0\u6b64\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5728\u6267\u884c\u4ee3\u7801\u65f6\uff0c\u9664\u4e86\u7a0b\u5e8f\u8ba1\u6570\u5668\u4ee5\u5916\uff0c\u8fd8\u642d\u914d\u4e86\u4e00\u4e2aJava\u865a\u62df\u673a \u5185\u5b58\u533a\u57df\u6765\u5b58\u653e\u6bcf\u4e2a\u65b9\u6cd5\u4e2d\u5f97\u5c40\u90e8\u53d8\u91cf\u3002 d.Java\u5806\u5185\u5b58\uff1a\u5b58\u653e\u6211\u4eec\u5728\u4ee3\u7801\u4e2d\u521b\u5efa\u7684\u5404\u79cd\u5bf9\u8c61\u3002\u5bf9\u8c61\u5b9e\u4f8b\u91cc\u9762\u4f1a\u5305\u542b\u4e00\u4e9b\u6570\u636e\u3002\u800cJava \u865a\u62df\u673a\u6808\u7684\u6808\u5e27\u5c40\u90e8\u53d8\u91cf\u8868\u91cc\u9762\u7684\u5bf9\u8c61\uff0c\u5176\u5b9e\u662f\u4e00\u4e2a\u5f15\u7528\u7c7b\u578b\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5b58\u653e \u4e86\u5bf9\u5e94Java\u5806\u5185\u5b58\u5bf9\u8c61\u7684\u5730\u5740\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c40\u90e8\u53d8\u91cf\u8868\u91cc\u7684\u5bf9\u8c61\u6307\u5411\u4e86Java\u56de\u7b54\uff1a\u603b\u7ed3\u5f97\u5f88\u597d====================================================\u95ee\u9898\uff1a\u8001\u5e08\uff0c\u90a3\u4ee5\u540e\u5e02\u9762\u4e0a\u90fd\u7528G1\u6e05\u7406\uff0c\u90a3\u6211\u4eec\u662f\u4e0d\u662f\u5728jvm\u4f18\u5316\u4e0a\u5c31\u5f97\u9760\u8fb9\u7ad9\u4e86\uff1f\u56de\u7b54\uff1a\u662f\u7684\uff0c\u4f7f\u7528G1\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u80fd\u505a\u7684\u4e8b\u60c5\u5f88\u5c11\uff0c\u56e0\u4e3a\u4f60\u60f3\uff0c\u4ed6\u6240\u6709\u7684\u5185\u5b58\u5206\u914d\u548cGC\u65f6\u673a\u90fd\u662f\u52a8\u6001\u53d8\u5316\u7684\uff0c\u4f60\u600e\u4e48\u53bb\u8c03\u4f18\uff1f\u5b9e\u9645\u4e0a\u4ed6\u4e00\u5207\u90fd\u662f\u81ea\u52a8\u8fd0\u884c\u7684\u3002\u53ea\u8981\u4ed6\u80fd\u4fdd\u8bc1\u6bcf\u6b21GC\u7684\u8017\u65f6\u5728\u4f60\u6307\u5b9a\u8303\u56f4\u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u5176\u5b9e\u73b0\u5728G1\u4e5f\u672a\u5fc5\u5c31\u5df2\u7ecf\u5f88\u7a33\u5b9a\u4e86\uff0c\u6240\u4ee5\u4e00\u822c\u8fd8\u662f\u7528CMS+ParNew\u5c31\u53ef\u4ee5\u4e86\uff0c\u6bd4\u8f83\u53ef\u63a7\u4e00\u4e9b\u3002 \"}]","Id":"i_5d11ed0eacce5_q8CFdVWu","ResourceType":1,"resource_id":"i_5d11ed0eacce5_q8CFdVWu","video_m3u8":"","patch_img_url":"","patch_img_url_compressed":"","summary":"","sell_type":0,"purchase_count":0,"stock":0,"content_type":0,"audio_url":"","audio_size":0,"audio_length":0,"m3u8_url":"","audio_compress_url":"","try_audio_url":"","try_m3u8_url":"","try_audio_length":0,"length":0,"video_mp4":"","video_hls":"","video_size":0,"video_mp4_high":"","video_mp4_size":0,"video_length":0,"zb_stop_at":"","alive_status":0,"zb_start_at":"","manual_stop_at":"","total_chapters":0,"epub_url":"","epub_opf":"","epub_catalog":"","opf_catalog":"","catalog":"","file_from":0,"comment_count":5,"resource_count":0,"is_member":0,"member_type":0,"update_status":0,"finish_count":0,"finished_state":0,"visible_on":0,"alive_type":0,"have_password":0,"is_drm":0,"has_buy":1,"zb_start_rest_time":0,"is_company":0,"audio_play_time":0,"audio_play_count":0,"member_unit":"","member_expire_time":"","time_left":0,"available":true,"audio_m3u8":"","is_try":0,"img_url_compress":"","download_count":0,"can_view":0,"audio_m3u8_url":"","periodical_count":0,"sale_status":0,"init_price":8800,"left_time":0,"alive_start_rest_time":0,"is_free":0,"share_info":{"wx":{"share_url":"https:\/\/apppuKyPtrl1086.h5.xiaoeknow.com\/content_page\/eyJhcHBfaWQiOiJhcHBwdUt5UHRybDEwODYiLCJzaGFyZV9mcm9tIjoidV81ZDE5NWM1ZDEyNDZlXzU4NFREQk9ta04iLCJwcm9kdWN0X2lkIjoiIiwicmVzb3VyY2VfaWQiOiJpXzVkMTFlZDBlYWNjZTVfcThDRmRWV3UiLCJ0eXBlIjoyLCJyZXNvdXJjZV90eXBlIjoxLCJzaGFyZV9hZ2VudCI6InBjIiwiZmVhdHVyZSI6IiIsImNvbnRlbnRfYXBwX2lkIjoiIiwic291cmNlIjoiIn0=","short_url":"https:\/\/apppuKyPtrl1086.h5.xeknow.com\/st\/07NN5Toww","wx_app_qrcode":""}},"favorites_info":{"favorite_count":1,"is_favorite":0},"company_info":{"shop_id":"","company_id":"","vip_id":"","name":"","title":"","logo":"","cover_img":"","state":0,"expired_at":""},"shop_module":{"need_comment_check":1,"hide_comment_count":0,"hide_view_count":0,"hide_sub_count":1,"authentic_state":1,"is_show_resourcecount":1},"is_login":true,"resource_info":{"seo_description":""},"content_page_seo":0}}
